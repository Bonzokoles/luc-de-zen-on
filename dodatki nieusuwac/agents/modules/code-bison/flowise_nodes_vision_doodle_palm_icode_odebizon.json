{
  "id": "polaczek-flowise-extended",
  "name": "POLACZEK: Gemini Vision, DoodleBart, PaLM, iCode Bizon, CodeBizon",
  "description": "Rozszerzony Flowise workflow z node: Vision, Doodle, PaLM, code agents.",
  "nodes": [
    {
      "id": "node-input",
      "type": "Input",
      "data": { "label": "Wejście", "inputType": "text" },
      "position": { "x": 50, "y": 100 }
    },
    {
      "id": "node-vision",
      "type": "CustomREST",
      "data": {
        "label": "Gemini Vision",
        "endpoint": "http://localhost:9000/api/gemini-vision",
        "method": "POST",
        "payloadMapping": { "image_url": "{{input}}" }
      },
      "position": { "x": 250, "y": 60 }
    },
    {
      "id": "node-doodle",
      "type": "CustomREST",
      "data": {
        "label": "DoodleBart (image/text gen)",
        "endpoint": "http://localhost:9000/api/doodlebart",
        "method": "POST",
        "payloadMapping": { "prompt": "{{input}}" }
      },
      "position": { "x": 250, "y": 160 }
    },
    {
      "id": "node-palm",
      "type": "CustomREST",
      "data": {
        "label": "PaLM API",
        "endpoint": "http://localhost:9000/api/palm",
        "method": "POST",
        "payloadMapping": { "prompt": "{{input}}" }
      },
      "position": { "x": 450, "y": 60 }
    },
    {
      "id": "node-icode",
      "type": "CustomREST",
      "data": {
        "label": "iCode Bizon (code agent)",
        "endpoint": "http://localhost:9000/api/icode-bizon",
        "method": "POST",
        "payloadMapping": { "code_task": "{{node-palm.output.response}}" }
      },
      "position": { "x": 650, "y": 60 }
    },
    {
      "id": "node-codebizon",
      "type": "CustomREST",
      "data": {
        "label": "CodeBizon (flow code gen)",
        "endpoint": "http://localhost:9000/api/codebizon",
        "method": "POST",
        "payloadMapping": {
          "flow_type": "flowise",
          "spec": "{{node-icode.output.response}}"
        }
      },
      "position": { "x": 850, "y": 60 }
    },
    {
      "id": "node-dashboard",
      "type": "CustomREST",
      "data": {
        "label": "Dashboard Live",
        "endpoint": "http://localhost:5005/agent/POLACZEK_D1",
        "method": "POST",
        "payloadMapping": {
          "update": true,
          "vision": "{{node-vision.output.response}}",
          "doodle": "{{node-doodle.output.response}}",
          "codebizon": "{{node-codebizon.output.response}}"
        }
      },
      "position": { "x": 1050, "y": 100 }
    },
    {
      "id": "node-output",
      "type": "Output",
      "data": {
        "label": "Final Output",
        "outputType": "json",
        "outputMapping": {
          "dashboard": "{{node-dashboard.output.result}}"
        }
      },
      "position": { "x": 1250, "y": 100 }
    }
  ],
  "edges": [
    { "id": "e-input-vision", "source": "node-input", "target": "node-vision" },
    { "id": "e-input-doodle", "source": "node-input", "target": "node-doodle" },
    { "id": "e-input-palm", "source": "node-input", "target": "node-palm" },
    { "id": "e-palm-icode", "source": "node-palm", "target": "node-icode" },
    { "id": "e-icode-codebizon", "source": "node-icode", "target": "node-codebizon" },
    { "id": "e-vision-dashboard", "source": "node-vision", "target": "node-dashboard" },
    { "id": "e-doodle-dashboard", "source": "node-doodle", "target": "node-dashboard" },
    { "id": "e-codebizon-dashboard", "source": "node-codebizon", "target": "node-dashboard" },
    { "id": "e-dashboard-output", "source": "node-dashboard", "target": "node-output" }
  ],
  "settings": {
    "trigger": "node-input",
    "responseNode": "node-output",
    "description": "Flowise: Input → Vision/Doodle/PaLM → iCode → CodeBizon → Dashboard → Output."
  }
}