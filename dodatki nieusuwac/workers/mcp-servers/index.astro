---
import MyBonzoLayout from "../../../LUCK_the_zen_on_AI/src/layouts/MyBonzoMainLayout.astro";
import DecorativeLines from "../../../LUCK_the_zen_on_AI/src/components/ui/DecorativeLines.astro";
---

<MyBonzoLayout siteTitle="MCP Servers | MYBONZO">
  <DecorativeLines />

  <main class="min-h-svh relative z-10">
    <!-- Background -->
    <div class="fixed inset-0 bg-[#0a0f14]">
      <div class="absolute inset-0 bg-gradient-to-br from-cyan-900/20 via-[#0a0f14] to-[#0a0f14]"></div>
    </div>

    <!-- Header -->
    <section class="relative z-20 border-b border-[#263238] pt-20">
      <div class="max-w-6xl mx-auto px-4 py-8">
        <div class="flex items-center justify-between mb-8">
          <div>
            <h1 class="text-4xl md:text-5xl font-bold text-[#1be1ff] mb-2 uppercase tracking-wider font-['Rajdhani']">
              üîå MCP Servers
            </h1>
            <p class="text-[#e1f5fe] text-lg">
              Model Context Protocol - zarzƒÖdzaj serwerami kontekstu AI
            </p>
          </div>
          <div class="text-right text-sm text-[#b0bec5] font-mono">
            <div class="mb-1">
              SERVERS: <span class="text-[#00ff88]" id="serverCount">5</span>
            </div>
            <div>
              STATUS: <span class="text-[#00ff88]">RUNNING</span>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Main Content -->
    <section class="relative z-20 py-12">
      <div class="max-w-6xl mx-auto px-4">
        
        <!-- Server Management -->
        <div class="grid lg:grid-cols-4 gap-6 mb-12">
          
          <!-- Add New Server -->
          <div class="bg-[#0f3846]/60 border border-[#1be1ff]/20 rounded-lg p-6">
            <h2 class="text-xl font-bold text-[#1be1ff] mb-4 font-['Rajdhani']">
              ‚ûï DODAJ SERWER
            </h2>
            <button class="w-full bg-gradient-to-r from-[#1be1ff]/20 to-[#00e5ff]/20 border border-[#1be1ff]/50 rounded-lg py-2 px-4 text-[#1be1ff] font-bold hover:border-[#1be1ff] transition-all duration-300">
              Nowy Serwer
            </button>
          </div>

          <!-- Server Stats -->
          <div class="bg-[#0f3846]/60 border border-[#1be1ff]/20 rounded-lg p-6">
            <h2 class="text-xl font-bold text-[#1be1ff] mb-4 font-['Rajdhani']">
              üìä STATYSTYKI
            </h2>
            <div class="space-y-2 text-sm">
              <div class="flex justify-between">
                <span class="text-[#e1f5fe]">Aktywne:</span>
                <span class="text-[#00ff88]">5</span>
              </div>
              <div class="flex justify-between">
                <span class="text-[#e1f5fe]">Zatrzymane:</span>
                <span class="text-[#ff9500]">2</span>
              </div>
              <div class="flex justify-between">
                <span class="text-[#e1f5fe]">B≈Çƒôdy:</span>
                <span class="text-[#ff0066]">0</span>
              </div>
            </div>
          </div>

          <!-- Quick Actions -->
          <div class="bg-[#0f3846]/60 border border-[#1be1ff]/20 rounded-lg p-6">
            <h2 class="text-xl font-bold text-[#1be1ff] mb-4 font-['Rajdhani']">
              ‚ö° AKCJE
            </h2>
            <div class="space-y-2">
              <button class="w-full text-left text-sm text-[#e1f5fe] hover:text-[#1be1ff] transition-colors">
                üîÑ Restart All
              </button>
              <button class="w-full text-left text-sm text-[#e1f5fe] hover:text-[#1be1ff] transition-colors">
                üìã Export Config
              </button>
              <button class="w-full text-left text-sm text-[#e1f5fe] hover:text-[#1be1ff] transition-colors">
                üì• Import Config
              </button>
            </div>
          </div>

          <!-- Monitoring -->
          <div class="bg-[#0f3846]/60 border border-[#1be1ff]/20 rounded-lg p-6">
            <h2 class="text-xl font-bold text-[#1be1ff] mb-4 font-['Rajdhani']">
              üëÅÔ∏è MONITORING
            </h2>
            <div class="text-center">
              <div class="text-2xl text-[#00ff88] mb-2">99.8%</div>
              <div class="text-xs text-[#e1f5fe]">Uptime</div>
            </div>
          </div>

        </div>

        <!-- Active Servers List -->
        <div class="mb-12">
          <h2 class="text-2xl font-bold text-[#1be1ff] mb-6 font-['Rajdhani']">
            AKTYWNE SERWERY MCP
          </h2>
          <div class="space-y-4">
            
            <!-- Context7 Server -->
            <div class="bg-[#0f3846]/60 border border-[#1be1ff]/20 rounded-lg p-6">
              <div class="flex items-center justify-between mb-4">
                <div class="flex items-center gap-4">
                  <div class="w-12 h-12 bg-[#1be1ff]/20 border border-[#1be1ff]/50 rounded-lg flex items-center justify-center">
                    üìö
                  </div>
                  <div>
                    <h3 class="text-lg font-bold text-[#ffffff] font-['Rajdhani']">Context7 Documentation</h3>
                    <p class="text-sm text-[#b0bec5]">Port: 3001 | Status: <span class="text-[#00ff88]">Running</span></p>
                  </div>
                </div>
                <div class="flex gap-2">
                  <button class="bg-[#00ff88]/10 border border-[#00ff88]/30 rounded px-3 py-1 text-[#00ff88] text-sm hover:border-[#00ff88] transition-all">
                    ‚è∏Ô∏è Stop
                  </button>
                  <button class="bg-[#1be1ff]/10 border border-[#1be1ff]/30 rounded px-3 py-1 text-[#1be1ff] text-sm hover:border-[#1be1ff] transition-all">
                    üîß Config
                  </button>
                </div>
              </div>
              <p class="text-sm text-[#e1f5fe] mb-3">
                Serwer dokumentacji bibliotek z automatycznym pobieraniem najnowszych informacji
              </p>
              <div class="flex gap-2 text-xs">
                <span class="bg-[#1be1ff]/10 text-[#1be1ff] px-2 py-1 rounded">Documentation</span>
                <span class="bg-[#00ff88]/10 text-[#00ff88] px-2 py-1 rounded">Auto-Update</span>
                <span class="bg-[#ff9500]/10 text-[#ff9500] px-2 py-1 rounded">REST API</span>
              </div>
            </div>

            <!-- Microsoft Docs Server -->
            <div class="bg-[#0f3846]/60 border border-[#1be1ff]/20 rounded-lg p-6">
              <div class="flex items-center justify-between mb-4">
                <div class="flex items-center gap-4">
                  <div class="w-12 h-12 bg-[#1be1ff]/20 border border-[#1be1ff]/50 rounded-lg flex items-center justify-center">
                    üè¢
                  </div>
                  <div>
                    <h3 class="text-lg font-bold text-[#ffffff] font-['Rajdhani']">Microsoft Documentation</h3>
                    <p class="text-sm text-[#b0bec5]">Port: 3002 | Status: <span class="text-[#00ff88]">Running</span></p>
                  </div>
                </div>
                <div class="flex gap-2">
                  <button class="bg-[#00ff88]/10 border border-[#00ff88]/30 rounded px-3 py-1 text-[#00ff88] text-sm hover:border-[#00ff88] transition-all">
                    ‚è∏Ô∏è Stop
                  </button>
                  <button class="bg-[#1be1ff]/10 border border-[#1be1ff]/30 rounded px-3 py-1 text-[#1be1ff] text-sm hover:border-[#1be1ff] transition-all">
                    üîß Config
                  </button>
                </div>
              </div>
              <p class="text-sm text-[#e1f5fe] mb-3">
                Dostƒôp do oficjalnej dokumentacji Microsoft Learn i Azure
              </p>
              <div class="flex gap-2 text-xs">
                <span class="bg-[#1be1ff]/10 text-[#1be1ff] px-2 py-1 rounded">Microsoft</span>
                <span class="bg-[#00ff88]/10 text-[#00ff88] px-2 py-1 rounded">Azure</span>
                <span class="bg-[#ff9500]/10 text-[#ff9500] px-2 py-1 rounded">Code Samples</span>
              </div>
            </div>

            <!-- Docker Server -->
            <div class="bg-[#0f3846]/60 border border-[#1be1ff]/20 rounded-lg p-6">
              <div class="flex items-center justify-between mb-4">
                <div class="flex items-center gap-4">
                  <div class="w-12 h-12 bg-[#1be1ff]/20 border border-[#1be1ff]/50 rounded-lg flex items-center justify-center">
                    üêã
                  </div>
                  <div>
                    <h3 class="text-lg font-bold text-[#ffffff] font-['Rajdhani']">Docker Management</h3>
                    <p class="text-sm text-[#b0bec5]">Port: 3003 | Status: <span class="text-[#00ff88]">Running</span></p>
                  </div>
                </div>
                <div class="flex gap-2">
                  <button class="bg-[#00ff88]/10 border border-[#00ff88]/30 rounded px-3 py-1 text-[#00ff88] text-sm hover:border-[#00ff88] transition-all">
                    ‚è∏Ô∏è Stop
                  </button>
                  <button class="bg-[#1be1ff]/10 border border-[#1be1ff]/30 rounded px-3 py-1 text-[#1be1ff] text-sm hover:border-[#1be1ff] transition-all">
                    üîß Config
                  </button>
                </div>
              </div>
              <p class="text-sm text-[#e1f5fe] mb-3">
                ZarzƒÖdzanie kontenerami Docker i rejestrem Docker Hub
              </p>
              <div class="flex gap-2 text-xs">
                <span class="bg-[#1be1ff]/10 text-[#1be1ff] px-2 py-1 rounded">Containers</span>
                <span class="bg-[#00ff88]/10 text-[#00ff88] px-2 py-1 rounded">Registry</span>
                <span class="bg-[#ff9500]/10 text-[#ff9500] px-2 py-1 rounded">Images</span>
              </div>
            </div>

            <!-- Astro Docs Server -->
            <div class="bg-[#0f3846]/60 border border-[#1be1ff]/20 rounded-lg p-6">
              <div class="flex items-center justify-between mb-4">
                <div class="flex items-center gap-4">
                  <div class="w-12 h-12 bg-[#1be1ff]/20 border border-[#1be1ff]/50 rounded-lg flex items-center justify-center">
                    üöÄ
                  </div>
                  <div>
                    <h3 class="text-lg font-bold text-[#ffffff] font-['Rajdhani']">Astro Framework</h3>
                    <p class="text-sm text-[#b0bec5]">Port: 3004 | Status: <span class="text-[#00ff88]">Running</span></p>
                  </div>
                </div>
                <div class="flex gap-2">
                  <button class="bg-[#00ff88]/10 border border-[#00ff88]/30 rounded px-3 py-1 text-[#00ff88] text-sm hover:border-[#00ff88] transition-all">
                    ‚è∏Ô∏è Stop
                  </button>
                  <button class="bg-[#1be1ff]/10 border border-[#1be1ff]/30 rounded px-3 py-1 text-[#1be1ff] text-sm hover:border-[#1be1ff] transition-all">
                    üîß Config
                  </button>
                </div>
              </div>
              <p class="text-sm text-[#e1f5fe] mb-3">
                Oficjalna dokumentacja Astro framework i integrations
              </p>
              <div class="flex gap-2 text-xs">
                <span class="bg-[#1be1ff]/10 text-[#1be1ff] px-2 py-1 rounded">Astro</span>
                <span class="bg-[#00ff88]/10 text-[#00ff88] px-2 py-1 rounded">SSG</span>
                <span class="bg-[#ff9500]/10 text-[#ff9500] px-2 py-1 rounded">Components</span>
              </div>
            </div>

            <!-- Codacy Server -->
            <div class="bg-[#0f3846]/60 border border-[#1be1ff]/20 rounded-lg p-6">
              <div class="flex items-center justify-between mb-4">
                <div class="flex items-center gap-4">
                  <div class="w-12 h-12 bg-[#1be1ff]/20 border border-[#1be1ff]/50 rounded-lg flex items-center justify-center">
                    üõ°Ô∏è
                  </div>
                  <div>
                    <h3 class="text-lg font-bold text-[#ffffff] font-['Rajdhani']">Codacy Quality</h3>
                    <p class="text-sm text-[#b0bec5]">Port: 3005 | Status: <span class="text-[#00ff88]">Running</span></p>
                  </div>
                </div>
                <div class="flex gap-2">
                  <button class="bg-[#00ff88]/10 border border-[#00ff88]/30 rounded px-3 py-1 text-[#00ff88] text-sm hover:border-[#00ff88] transition-all">
                    ‚è∏Ô∏è Stop
                  </button>
                  <button class="bg-[#1be1ff]/10 border border-[#1be1ff]/30 rounded px-3 py-1 text-[#1be1ff] text-sm hover:border-[#1be1ff] transition-all">
                    üîß Config
                  </button>
                </div>
              </div>
              <p class="text-sm text-[#e1f5fe] mb-3">
                Analiza jako≈õci kodu i bezpiecze≈Ñstwa z automatycznym skanowaniem
              </p>
              <div class="flex gap-2 text-xs">
                <span class="bg-[#1be1ff]/10 text-[#1be1ff] px-2 py-1 rounded">Code Quality</span>
                <span class="bg-[#00ff88]/10 text-[#00ff88] px-2 py-1 rounded">Security</span>
                <span class="bg-[#ff9500]/10 text-[#ff9500] px-2 py-1 rounded">Auto Scan</span>
              </div>
            </div>

          </div>
        </div>

        <!-- Server Templates -->
        <div>
          <h2 class="text-2xl font-bold text-[#1be1ff] mb-6 font-['Rajdhani']">
            SZABLONY SERWER√ìW
          </h2>
          <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-6">
            
            <div class="bg-[#0f3846]/60 border border-[#1be1ff]/20 rounded-lg p-6 cursor-pointer hover:border-[#1be1ff]/50 transition-all">
              <div class="text-center">
                <div class="text-3xl mb-3">üóÉÔ∏è</div>
                <h3 class="text-lg font-bold text-[#1be1ff] mb-2 font-['Rajdhani']">
                  DATABASE
                </h3>
                <p class="text-sm text-[#e1f5fe]">
                  Po≈ÇƒÖczenie z bazami danych
                </p>
              </div>
            </div>

            <div class="bg-[#0f3846]/60 border border-[#1be1ff]/20 rounded-lg p-6 cursor-pointer hover:border-[#1be1ff]/50 transition-all">
              <div class="text-center">
                <div class="text-3xl mb-3">üåê</div>
                <h3 class="text-lg font-bold text-[#1be1ff] mb-2 font-['Rajdhani']">
                  WEB API
                </h3>
                <p class="text-sm text-[#e1f5fe]">
                  REST API endpoints
                </p>
              </div>
            </div>

            <div class="bg-[#0f3846]/60 border border-[#1be1ff]/20 rounded-lg p-6 cursor-pointer hover:border-[#1be1ff]/50 transition-all">
              <div class="text-center">
                <div class="text-3xl mb-3">üìÅ</div>
                <h3 class="text-lg font-bold text-[#1be1ff] mb-2 font-['Rajdhani']">
                  FILE SYSTEM
                </h3>
                <p class="text-sm text-[#e1f5fe]">
                  Dostƒôp do plik√≥w i folder√≥w
                </p>
              </div>
            </div>

            <div class="bg-[#0f3846]/60 border border-[#1be1ff]/20 rounded-lg p-6 cursor-pointer hover:border-[#1be1ff]/50 transition-all">
              <div class="text-center">
                <div class="text-3xl mb-3">üîß</div>
                <h3 class="text-lg font-bold text-[#1be1ff] mb-2 font-['Rajdhani']">
                  CUSTOM
                </h3>
                <p class="text-sm text-[#e1f5fe]">
                  W≈Çasny serwer MCP
                </p>
              </div>
            </div>

          </div>
        </div>

      </div>
    </section>
  </main>
</MyBonzoLayout>

<script>
  document.addEventListener('DOMContentLoaded', function() {
    // Server management functionality
    const stopButtons = document.querySelectorAll('button:has-text("‚è∏Ô∏è Stop")');
    const configButtons = document.querySelectorAll('button:has-text("üîß Config")');
    
    // Alternative selector approach for buttons
    const allButtons = document.querySelectorAll('button');
    
    allButtons.forEach(button => {
      button.addEventListener('click', function() {
        const text = this.textContent.trim();
        
        switch(text) {
          case 'Nowy Serwer':
            showNewServerModal();
            break;
          case 'üîÑ Restart All':
            restartAllServers();
            break;
          case 'üìã Export Config':
            exportConfiguration();
            break;
          case 'üì• Import Config':
            importConfiguration();
            break;
          default:
            if (text.includes('Stop')) {
              const serverName = this.closest('.bg-\\[\\#0f3846\\]\\/60').querySelector('h3').textContent;
              stopServer(serverName);
            } else if (text.includes('Config')) {
              const serverName = this.closest('.bg-\\[\\#0f3846\\]\\/60').querySelector('h3').textContent;
              configureServer(serverName);
            }
        }
      });
    });

    // Template clicks
    const templates = document.querySelectorAll('.cursor-pointer');
    templates.forEach(template => {
      template.addEventListener('click', function() {
        const title = this.querySelector('h3').textContent;
        createServerFromTemplate(title);
      });
    });

    function showNewServerModal() {
      console.log('Opening new server creation modal...');
      // In real implementation, show modal for server creation
    }

    function restartAllServers() {
      console.log('Restarting all MCP servers...');
      // Show loading state and restart servers
      updateServerCount();
    }

    function exportConfiguration() {
      console.log('Exporting MCP configuration...');
      const config = {
        servers: [
          { name: 'Context7 Documentation', port: 3001, status: 'running' },
          { name: 'Microsoft Documentation', port: 3002, status: 'running' },
          { name: 'Docker Management', port: 3003, status: 'running' },
          { name: 'Astro Framework', port: 3004, status: 'running' },
          { name: 'Codacy Quality', port: 3005, status: 'running' }
        ]
      };
      
      const blob = new Blob([JSON.stringify(config, null, 2)], { type: 'application/json' });
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a');
      a.href = url;
      a.download = 'mcp-servers-config.json';
      a.click();
      URL.revokeObjectURL(url);
    }

    function importConfiguration() {
      const fileInput = document.createElement('input');
      fileInput.type = 'file';
      fileInput.accept = '.json';
      fileInput.onchange = function(e) {
        const file = e.target.files[0];
        if (file) {
          const reader = new FileReader();
          reader.onload = function(e) {
            try {
              const config = JSON.parse(e.target.result);
              console.log('Importing configuration:', config);
              // Apply configuration
            } catch (error) {
              alert('B≈ÇƒÖd importu konfiguracji');
            }
          };
          reader.readAsText(file);
        }
      };
      fileInput.click();
    }

    function stopServer(serverName) {
      console.log('Stopping server:', serverName);
      // Update UI to show stopped state
    }

    function configureServer(serverName) {
      console.log('Configuring server:', serverName);
      // Open configuration modal
    }

    function createServerFromTemplate(templateType) {
      console.log('Creating server from template:', templateType);
      // Open template-specific configuration
    }

    function updateServerCount() {
      const serverCount = document.getElementById('serverCount');
      const currentCount = parseInt(serverCount.textContent);
      // Update count based on actual server status
    }

    // Simulate live status updates
    setInterval(() => {
      // In real implementation, check actual server status
      // and update the UI accordingly
    }, 10000);
  });
</script>
