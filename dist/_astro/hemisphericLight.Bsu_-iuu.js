import{a as n,b as f,c as u}from"./decorators.serialization.DTWIlLMH.js";import{V as o,M as d}from"./math.vector.C8FsJn6B.js";import{a as h,R as m}from"./math.color.BvxHr_bk.js";import{N as c}from"./node.B7U3vf9R.js";import{L as a}from"./light.Tpw1S7gS.js";import"./preload-helper.BlTxHScW.js";import"./tools.kgQOdK5j.js";import"./instantiationTools.DpJ04vA6.js";c.AddNodeConstructor("Light_Type_3",(s,r)=>()=>new e(s,o.Zero(),r));class e extends a{constructor(r,i,t){super(r,t),this.groundColor=new h(0,0,0),this.direction=i||o.Up()}_buildUniformLayout(){this._uniformBuffer.addUniform("vLightData",4),this._uniformBuffer.addUniform("vLightDiffuse",4),this._uniformBuffer.addUniform("vLightSpecular",4),this._uniformBuffer.addUniform("vLightGround",3),this._uniformBuffer.addUniform("shadowsInfo",3),this._uniformBuffer.addUniform("depthValues",2),this._uniformBuffer.create()}getClassName(){return"HemisphericLight"}setDirectionToTarget(r){return this.direction=o.Normalize(r.subtract(o.Zero())),this.direction}getShadowGenerator(){return null}transferToEffect(r,i){const t=o.Normalize(this.direction);return this._uniformBuffer.updateFloat4("vLightData",t.x,t.y,t.z,0,i),this._uniformBuffer.updateColor3("vLightGround",this.groundColor.scale(this.intensity),i),this}transferToNodeMaterialEffect(r,i){const t=o.Normalize(this.direction);return r.setFloat3(i,t.x,t.y,t.z),this}computeWorldMatrix(){return this._worldMatrix||(this._worldMatrix=d.Identity()),this._worldMatrix}getTypeID(){return a.LIGHTTYPEID_HEMISPHERICLIGHT}prepareLightSpecificDefines(r,i){r["HEMILIGHT"+i]=!0}}n([f()],e.prototype,"groundColor",void 0);n([u()],e.prototype,"direction",void 0);m("BABYLON.HemisphericLight",e);export{e as HemisphericLight};
