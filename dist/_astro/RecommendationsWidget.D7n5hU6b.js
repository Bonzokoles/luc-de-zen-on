import{p as ve,i as ue,f as v,s,c as a,a as m,t as h,g as r,d as j,x,b as F,v as l,h as K,j as p,k as ge,q as ye,n as t,l as be,A as fe,z as me,u as he,B as xe}from"./ClientRouter.astro_astro_type_script_index_0_lang.DtH6aRN_.js";/* empty css                                              */import"./react.BKEw5ZbO.js";if(typeof MessageChannel>"u"){class z{constructor(){this.onmessage=null}postMessage(u){const o={data:u};(typeof queueMicrotask=="function"?queueMicrotask:d=>setTimeout(d,0))(()=>this.onmessage&&this.onmessage(o))}start(){}close(){}}class C{constructor(){this.port1=new z,this.port2=new z;const u=(o,d)=>{const f={data:d};(typeof queueMicrotask=="function"?queueMicrotask:M=>setTimeout(M,0))(()=>o.onmessage&&o.onmessage(f))};this.port1.postMessage=o=>u(this.port2,o),this.port2.postMessage=o=>u(this.port1,o)}}globalThis.MessageChannel=C}var we=v('<button class="px-6 py-3 bg-gray-700/50 border border-gray-600/50 text-white rounded-lg font-semibold hover:bg-gray-600/50 hover:border-gray-500/50 transition-all duration-300 disabled:opacity-50 uppercase tracking-wide">OdÅ›wieÅ¼</button>'),_e=v('<div class="p-4 bg-red-900/30 border border-red-500/50 rounded-lg text-red-300 font-mono"> </div>'),ke=v('<div class="text-center py-8"><div class="text-cyan-400 mb-4"><div class="w-12 h-12 mx-auto border-4 border-cyan-500/30 border-t-cyan-500 rounded-full animate-spin"></div></div> <p class="text-cyan-300 uppercase tracking-wide">AnalizujÄ™ preferencje i generujÄ™ rekomendacje...</p></div>'),je=v('<span class="px-2 py-1 bg-gray-800/50 border border-gray-600/30 text-xs rounded text-gray-300 uppercase tracking-wide"> </span>'),ze=v('<div class="mb-3"><span class="text-cyan-400 text-sm font-semibold uppercase tracking-wide">Dlaczego dla Ciebie:</span> <p class="text-gray-400 text-sm italic font-mono"> </p></div>'),Me=v('<div class="flex justify-between items-center"><span class="px-3 py-1 bg-cyan-900/20 border border-cyan-500/30 text-cyan-300 text-xs rounded uppercase tracking-wide font-semibold"> </span> <button class="px-4 py-2 bg-gradient-to-r from-cyan-600 to-cyan-700 text-white text-sm rounded hover:from-cyan-500 hover:to-cyan-600 transition-all duration-300 uppercase tracking-wide font-semibold border border-cyan-500/50">Dowiedz siÄ™ wiÄ™cej</button></div>'),Pe=v('<div><div class="flex justify-between items-start mb-3"><h4 class="text-white font-bold text-lg uppercase tracking-wide"> </h4> <!></div> <p class="text-gray-300 mb-3 leading-relaxed font-mono text-sm"> </p> <!> <!></div>'),Ce=v('<div class="mt-6"><h3 class="text-lg font-semibold text-cyan-300 mb-4 uppercase tracking-wider"> </h3> <div class="grid gap-4"></div></div>'),Se=v(`<div class="text-center py-8 text-gray-500"><div class="text-4xl mb-2">ğŸ¤–</div> <p class="font-mono uppercase tracking-wide">Brak rekomendacji dla podanych preferencji. SprÃ³buj ponownie z innymi
          danymi.</p></div>`),Te=v('<div class="worker-card bg-black border border-cyan-500/30 p-6 rounded-lg shadow-2xl svelte-1nof2ng"><div class="mb-6"><h2 class="text-2xl font-bold text-cyan-300 mb-2 uppercase tracking-wider">Personalizowane rekomendacje</h2> <p class="text-gray-400">System rekomendacji produktÃ³w i usÅ‚ug oparty na preferencjach uÅ¼ytkownika</p></div> <div class="space-y-4"><div><label for="preferences" class="block text-cyan-300 font-medium mb-2 uppercase text-sm tracking-wide">Preferencje uÅ¼ytkownika</label> <textarea id="preferences" placeholder="Wpisz preferencje uÅ¼ytkownika (np. technologie, marketing, e-commerce)..." rows="3" class="w-full p-3 bg-gray-900/80 border border-gray-600/50 rounded-lg text-white placeholder-gray-500 focus:border-cyan-500 focus:outline-none focus:ring-2 focus:ring-cyan-500/30 font-mono"></textarea></div> <div><label for="history" class="block text-cyan-300 font-medium mb-2 uppercase text-sm tracking-wide">Historia uÅ¼ytkownika (opcjonalnie)</label> <input id="history" placeholder="Historia zakupÃ³w, odwiedzonych stron (oddziel przecinkami)..." class="w-full p-3 bg-gray-900/80 border border-gray-600/50 rounded-lg text-white placeholder-gray-500 focus:border-cyan-500 focus:outline-none focus:ring-2 focus:ring-cyan-500/30 font-mono"/></div> <div class="flex gap-4"><button class="px-6 py-3 bg-gradient-to-r from-cyan-600 to-cyan-700 text-white rounded-lg font-semibold hover:from-cyan-500 hover:to-cyan-600 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed shadow-lg border border-cyan-500/50 uppercase tracking-wide"> </button> <!></div> <!> <!> <!> <!></div></div>');function We(z,C){ve(C,!1);let b=j(""),u=j(""),o=j([]),d=j(!1),f=j("");async function M(){if(!r(b).trim()){l(f,"ProszÄ™ podaÄ‡ preferencje uÅ¼ytkownika");return}l(d,!0),l(f,"");try{const e=r(u).trim()?r(u).split(",").map(R=>R.trim()):[],g=await(await fetch("/api/get-recommendations",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({preferences:r(b),history:e,userProfile:{timestamp:new Date().toISOString()}})})).json();g.success?l(o,g.recommendations||[]):l(f,g.error||"WystÄ…piÅ‚ bÅ‚Ä…d podczas generowania rekomendacji")}catch(e){l(f,"BÅ‚Ä…d poÅ‚Ä…czenia z serwerem"),console.error("Error:",e)}finally{l(d,!1)}}function L(){l(o,[]),M()}function Q(e){return e>=4?"border-green-400 bg-green-900/10":e>=3?"border-yellow-400 bg-yellow-900/10":"border-gray-500 bg-gray-900/10"}function U(e){return e>=4?"Wysoki priorytet":e>=3?"Åšredni priorytet":"Niski priorytet"}ue();var S=Te(),D=s(a(S),2),T=a(D),G=s(a(T),2);ye(G),t(T);var q=s(T,2),H=s(a(q),2);be(H),t(q);var O=s(q,2),_=a(O),V=a(_,!0);t(_);var X=s(_,2);{var Y=e=>{var i=we();h(()=>i.disabled=r(d)),K("click",i,L),p(e,i)};m(X,e=>{r(o).length>0&&e(Y)})}t(O);var N=s(O,2);{var Z=e=>{var i=_e(),g=a(i,!0);t(i),h(()=>x(g,r(f))),p(e,i)};m(N,e=>{r(f)&&e(Z)})}var $=s(N,2);{var ee=e=>{var i=ke();p(e,i)};m($,e=>{r(d)&&e(ee)})}var E=s($,2);{var re=e=>{var i=Ce(),g=a(i),R=a(g);t(g);var I=s(g,2);fe(I,5,()=>r(o),xe,(oe,y)=>{var P=Pe(),W=a(P),A=a(W),ie=a(A,!0);t(A);var se=s(A,2);{var ne=n=>{var c=je(),w=a(c,!0);t(c),h(k=>x(w,k),[()=>U(r(y).priority)]),p(n,c)};m(se,n=>{r(y).priority&&n(ne)})}t(W);var B=s(W,2),de=a(B,!0);t(B);var J=s(B,2);{var ce=n=>{var c=ze(),w=s(a(c),2),k=a(w,!0);t(w),t(c),h(()=>x(k,r(y).reason)),p(n,c)};m(J,n=>{r(y).reason&&n(ce)})}var le=s(J,2);{var pe=n=>{var c=Me(),w=a(c),k=a(w,!0);t(w),he(2),t(c),h(()=>x(k,r(y).category)),p(n,c)};m(le,n=>{r(y).category&&n(pe)})}t(P),h(n=>{me(P,1,`p-4 rounded-lg border ${n??""} transition-all duration-300 hover:shadow-xl hover:border-opacity-80 bg-gray-900/20`,"svelte-1nof2ng"),x(ie,r(y).title),x(de,r(y).description)},[()=>Q(r(y).priority||3)]),p(oe,P)}),t(I),t(i),h(()=>x(R,`Rekomendacje dla Ciebie (${r(o).length??""})`)),p(e,i)};m(E,e=>{r(o).length>0&&!r(d)&&e(re)})}var te=s(E,2);{var ae=e=>{var i=Se();p(e,i)};m(te,e=>{!r(d)&&r(o).length===0&&r(b)&&e(ae)})}t(D),t(S),h(e=>{_.disabled=e,x(V,r(d)?"GenerujÄ™...":"Generuj rekomendacje")},[()=>r(d)||!r(b).trim()]),F(G,()=>r(b),e=>l(b,e)),F(H,()=>r(u),e=>l(u,e)),K("click",_,M),p(z,S),ge()}export{We as default};
