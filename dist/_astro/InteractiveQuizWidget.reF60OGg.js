import{p as Pe,D as te,E as $e,i as je,t as g,s as n,c as a,b as j,j as x,k as Ce,v as s,g as e,e as f,n as i,B as L,a as A,A as F,x as p,h as T,C as H,z as Me,F as Qe,y as Te}from"./Header.astro_astro_type_script_index_0_lang.C3v9REYp.js";/* empty css                                     */import"./react.0nTXIzv_.js";if(typeof MessageChannel>"u"){class G{constructor(){this.onmessage=null}postMessage(S){const w={data:S};(typeof queueMicrotask=="function"?queueMicrotask:y=>setTimeout(y,0))(()=>this.onmessage&&this.onmessage(w))}start(){}close(){}}class V{constructor(){this.port1=new G,this.port2=new G;const S=(w,y)=>{const I={data:y};(typeof queueMicrotask=="function"?queueMicrotask:o=>setTimeout(o,0))(()=>w.onmessage&&w.onmessage(I))};this.port1.postMessage=w=>S(this.port2,w),this.port2.postMessage=w=>S(this.port1,w)}}globalThis.MessageChannel=V}var Se=g('<button><div class="topic-name svelte-1s2xbne"> </div> <div class="topic-description svelte-1s2xbne"> </div></button>'),Ie=g('<button><div class="difficulty-name svelte-1s2xbne"> </div> <div class="difficulty-description svelte-1s2xbne"> </div></button>'),Ne=g('<div class="quiz-setup svelte-1s2xbne"><div class="setup-section svelte-1s2xbne"><h3 class="setup-title svelte-1s2xbne">📖 Wybierz temat</h3> <div class="topics-grid svelte-1s2xbne"></div></div> <div class="setup-section svelte-1s2xbne"><h3 class="setup-title svelte-1s2xbne">⚡ Poziom trudności</h3> <div class="difficulty-grid svelte-1s2xbne"></div></div> <button class="start-quiz-btn svelte-1s2xbne">🚀 Rozpocznij Quiz</button></div>'),Ue=g('<div class="loading-container svelte-1s2xbne"><div class="loading-spinner svelte-1s2xbne"></div> <p class="loading-text svelte-1s2xbne">Generowanie quizu AI...</p></div>'),Oe=g('<div class="error-container svelte-1s2xbne"><p class="error-text svelte-1s2xbne"> </p> <button class="retry-btn svelte-1s2xbne">Spróbuj ponownie</button></div>'),De=g("<button> </button>"),Ee=g('<div class="feedback-container svelte-1s2xbne"><p class="feedback-text svelte-1s2xbne"> </p></div>'),Be=g('<button class="submit-btn svelte-1s2xbne">Zatwierdź odpowiedź</button>'),Je=g('<div class="quiz-progress svelte-1s2xbne"><div class="progress-bar svelte-1s2xbne"><div class="progress-fill svelte-1s2xbne"></div></div> <div class="progress-text svelte-1s2xbne"> </div></div> <div class="question-container svelte-1s2xbne"><h3 class="question-text svelte-1s2xbne"> </h3> <div class="answers-grid svelte-1s2xbne"></div> <!></div>',1),Re=g('<div class="review-answer correct svelte-1s2xbne"> </div>'),We=g('<div class="review-explanation svelte-1s2xbne"> </div>'),Ze=g('<div class="answer-review svelte-1s2xbne"><div class="review-question svelte-1s2xbne"><span class="question-number svelte-1s2xbne"></span> </div> <div class="review-answers svelte-1s2xbne"><div> </div> <!> <!></div></div>'),Xe=g('<div class="results-container svelte-1s2xbne"><h3 class="results-title svelte-1s2xbne">🎉 Quiz ukończony!</h3> <div class="score-display svelte-1s2xbne"><div class="score-circle svelte-1s2xbne"><span> </span></div> <p class="score-description svelte-1s2xbne"> </p></div> <div class="answers-review svelte-1s2xbne"><h4 class="review-title svelte-1s2xbne">📝 Przegląd odpowiedzi</h4> <!></div> <div class="results-actions svelte-1s2xbne"><button class="retry-quiz-btn svelte-1s2xbne">🔄 Nowy Quiz</button> <button class="share-results-btn svelte-1s2xbne">📤 Udostępnij wynik</button></div></div>'),Fe=g('<div class="quiz-widget-container svelte-1s2xbne"><h2 class="widget-title svelte-1s2xbne">🧠 Interaktywny Quiz AI</h2> <!> <!> <!> <!> <!></div>');function He(G,V){Pe(V,!1);const R=f(),S=f(),w=f();let y=f(""),I=f("beginner"),o=f(null),h=f(0),P=f(""),W=f([]),N=f(0),B=f(!1),J=f(""),Z=f(!1),C=f("");const se=[{id:"programming",name:"💻 Programowanie",description:"JavaScript, Python, React, Node.js"},{id:"design",name:"🎨 Design & UX",description:"UI/UX design, design thinking, prototyping"},{id:"data-science",name:"📊 Data Science",description:"Machine learning, statystyka, Python, R"},{id:"marketing",name:"📢 Marketing",description:"Digital marketing, SEO, content marketing"},{id:"business",name:"💼 Business",description:"Zarządzanie, finanse, strategia biznesowa"},{id:"ai",name:"🤖 Sztuczna Inteligencja",description:"AI, machine learning, deep learning"}],de=[{id:"beginner",name:"🌱 Początkujący",description:"Podstawowe pytania wprowadzające"},{id:"intermediate",name:"⚡ Średniozaawansowany",description:"Pytania wymagające analizy"},{id:"advanced",name:"🔥 Zaawansowany",description:"Kompleksowe scenariusze"},{id:"expert",name:"💎 Ekspert",description:"Najwyższy poziom trudności"}];async function le(){if(!e(y)){s(J,"Proszę wybrać temat quizu");return}try{s(J,""),s(B,!0),s(Z,!1),s(P,""),s(W,[]),s(N,0),s(h,0);const t=await fetch("/api/quiz",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({topic:e(y),difficulty:e(I),questionCount:5})});if(!t.ok)throw new Error("Błąd podczas generowania quizu");const r=await t.json();s(o,r.quiz)}catch(t){s(J,t.message??"Nieznany błąd podczas generowania quizu"),console.error("Quiz generation error:",t)}finally{s(B,!1)}}function ue(t){s(C,""),s(P,t)}async function pe(){if(!e(P)||!e(o))return;const t=e(o).questions[e(h)],r=e(P)===t.correctAnswer;r&&s(N,e(N)+1);try{const b=await(await fetch("/api/quiz-feedback",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({question:t.question,selectedAnswer:e(P),correctAnswer:t.correctAnswer,isCorrect:r,topic:e(y),difficulty:e(I)})})).json();s(C,b.feedback??(r?"Poprawna odpowiedź!":"Niepoprawna odpowiedź."))}catch{s(C,r?"Poprawna odpowiedź!":"Niepoprawna odpowiedź.")}s(W,[...e(W),{question:t.question,selectedAnswer:e(P),correctAnswer:t.correctAnswer,isCorrect:r,explanation:t.explanation}]),setTimeout(be,900)}function be(){s(C,""),s(P,""),e(o)&&(e(h)<e(o).questions.length-1?s(h,e(h)+1):s(Z,!0))}function ie(){s(y,""),s(I,"beginner"),s(o,null),s(h,0),s(P,""),s(W,[]),s(N,0),s(B,!1),s(J,""),s(Z,!1),s(C,"")}function _e(t){return t>=80?"good":t>=50?"avg":"bad"}te(()=>(e(o),e(h)),()=>{s(R,e(o)?.questions[e(h)])}),te(()=>(e(o),e(h)),()=>{s(S,e(o)?(e(h)+1)/e(o).questions.length*100:0)}),te(()=>(e(o),e(N)),()=>{s(w,e(o)?Math.round(e(N)/e(o).questions.length*100):0)}),$e(),je();var Y=Fe(),ae=n(a(Y),2);{var xe=t=>{var r=Ne(),v=a(r),b=n(a(v),2);L(b,5,()=>se,H,(M,c)=>{var l=Se(),_=a(l),Q=a(_,!0);i(_);var $=n(_,2),z=a($,!0);i($),i(l),A(()=>{F(l,1,`topic-card ${(e(y)===e(c).id?"selected":"")??""}`,"svelte-1s2xbne"),p(Q,e(c).name),p(z,e(c).description)}),T("click",l,()=>s(y,e(c).id)),x(M,l)}),i(b),i(v);var m=n(v,2),U=n(a(m),2);L(U,5,()=>de,H,(M,c)=>{var l=Ie(),_=a(l),Q=a(_,!0);i(_);var $=n(_,2),z=a($,!0);i($),i(l),A(()=>{F(l,1,`difficulty-card ${(e(I)===e(c).id?"selected":"")??""}`,"svelte-1s2xbne"),p(Q,e(c).name),p(z,e(c).description)}),T("click",l,()=>s(I,e(c).id)),x(M,l)}),i(U),i(m);var O=n(m,2);i(r),A(()=>O.disabled=!e(y)),T("click",O,le),x(t,r)};j(ae,t=>{!e(o)&&!e(B)&&t(xe)})}var ne=n(ae,2);{var fe=t=>{var r=Ue();x(t,r)};j(ne,t=>{e(B)&&t(fe)})}var re=n(ne,2);{var ge=t=>{var r=Oe(),v=a(r),b=a(v);i(v);var m=n(v,2);i(r),A(()=>p(b,`❌ ${e(J)??""}`)),T("click",m,ie),x(t,r)};j(re,t=>{e(J)&&t(ge)})}var oe=n(re,2);{var we=t=>{var r=Je(),v=Me(r),b=a(v),m=a(b);i(b);var U=n(b,2),O=a(U);i(U),i(v);var M=n(v,2),c=a(M),l=a(c,!0);i(c);var _=n(c,2);L(_,5,()=>e(R)?.answers??[],H,(d,k)=>{var u=De(),q=a(u,!0);i(u),A(()=>{F(u,1,`answer-btn ${(e(P)===e(k)?"selected":"")??""}`,"svelte-1s2xbne"),u.disabled=e(C)!=="",p(q,e(k))}),T("click",u,()=>ue(e(k))),x(d,u)}),i(_);var Q=n(_,2);{var $=d=>{var k=Ee(),u=a(k),q=a(u,!0);i(u),i(k),A(()=>p(q,e(C))),x(d,k)},z=(d,k)=>{{var u=q=>{var X=Be();T("click",X,pe),x(q,X)};j(d,q=>{e(P)&&q(u)},k)}};j(Q,d=>{e(C)?d($):d(z,!1)})}i(M),A(()=>{Qe(m,"style",`width: ${e(S)??""}%`),p(O,`Pytanie ${e(h)+1} z ${e(o).questions.length??""}`),p(l,e(R)?.question)}),x(t,r)};j(oe,t=>{e(o)&&!e(Z)&&!e(B)&&t(we)})}var ye=n(oe,2);{var he=t=>{var r=Xe(),v=n(a(r),2),b=a(v),m=a(b),U=a(m);i(m),i(b);var O=n(b,2),M=a(O);i(O),i(v);var c=n(v,2),l=n(a(c),2);L(l,1,()=>e(W),H,(z,d,k)=>{var u=Ze(),q=a(u),X=a(q);X.textContent=`#${k+1}`;var me=n(X);i(q);var ve=n(q,2),K=a(ve),ze=a(K);i(K);var ce=n(K,2);{var ke=D=>{var E=Re(),ee=a(E);i(E),A(()=>p(ee,`Poprawna odpowiedź: ${e(d).correctAnswer??""} ✅`)),x(D,E)};j(ce,D=>{e(d).isCorrect||D(ke)})}var qe=n(ce,2);{var Ae=D=>{var E=We(),ee=a(E);i(E),A(()=>p(ee,`💡 ${e(d).explanation??""}`)),x(D,E)};j(qe,D=>{e(d).explanation&&D(Ae)})}i(ve),i(u),A(()=>{p(me,` ${e(d).question??""}`),F(K,1,`review-answer ${(e(d).isCorrect?"correct":"incorrect")??""}`,"svelte-1s2xbne"),p(ze,`Twoja odpowiedź: ${e(d).selectedAnswer??""}
                ${(e(d).isCorrect?"✅":"❌")??""}`)}),x(z,u)}),i(c);var _=n(c,2),Q=a(_),$=n(Q,2);i(_),i(r),A(z=>{F(m,1,`score-text ${z??""}`,"svelte-1s2xbne"),p(U,`${e(w)??""}%`),p(M,`Uzyskałeś ${e(N)??""} z ${e(o).questions.length??""} punktów`)},[()=>_e(e(w))],Te),T("click",Q,ie),T("click",$,()=>navigator.clipboard.writeText(`Ukończyłem quiz AI! Wynik: ${e(w)}% w kategorii ${se.find(z=>z.id===e(y))?.name}`)),x(t,r)};j(ye,t=>{e(Z)&&e(o)&&t(he)})}i(Y),x(G,Y),Ce()}export{He as default};
