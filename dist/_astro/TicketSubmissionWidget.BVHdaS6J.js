import{p as Ue,i as Ze,t as y,s as e,c as t,a as x,b as w,d as ze,m as U,g as s,e as T,f as je,h as Z,j as _,k as $e,l as Le,n as a,o as Se,q as Fe,u as pe,v as n,w as He,x as g,y as ue,z as Je,A as Re,B as Ge,C as Qe}from"./Header.astro_astro_type_script_index_0_lang.C3v9REYp.js";/* empty css                            */import"./react.0nTXIzv_.js";if(typeof MessageChannel>"u"){class D{constructor(){this.onmessage=null}postMessage(o){const d={data:o};(typeof queueMicrotask=="function"?queueMicrotask:u=>setTimeout(u,0))(()=>this.onmessage&&this.onmessage(d))}start(){}close(){}}class ${constructor(){this.port1=new D,this.port2=new D;const o=(d,u)=>{const c={data:u};(typeof queueMicrotask=="function"?queueMicrotask:j=>setTimeout(j,0))(()=>d.onmessage&&d.onmessage(c))};this.port1.postMessage=d=>o(this.port2,d),this.port2.postMessage=d=>o(this.port1,d)}}globalThis.MessageChannel=$}var Ve=y('<div class="animate-spin rounded-full h-4 w-4 border-2 border-cyan-300 border-t-transparent svelte-1hd5a6l"></div> Tworzę ticket...',1),Xe=y('<div class="error-container svelte-1hd5a6l"><p class="error-text svelte-1hd5a6l"> </p></div>'),Ye=y('<div><p class="text-sm text-gray-400 mb-1">Przypisane do zespołu:</p> <p class="text-cyan-300 font-medium"> </p></div> <div><p class="text-sm text-gray-400 mb-1">Priorytet:</p> <p> </p></div>',1),et=y('<div class="bg-gray-900 p-3 rounded-lg mb-3"><p class="text-sm text-gray-400 mb-1">Podsumowanie AI:</p> <p class="text-cyan-100"> </p></div>'),tt=y('<div class="animate-spin rounded-full h-3 w-3 border-2 border-blue-300 border-t-transparent svelte-1hd5a6l"></div>'),at=y('<div class="result-container svelte-1hd5a6l"><div class="result-header svelte-1hd5a6l"><h3 class="result-title svelte-1hd5a6l">✅ Zgłoszenie zostało utworzone</h3></div> <div class="result-content svelte-1hd5a6l"><div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4"><div><p class="text-sm text-gray-400 mb-1">Numer zgłoszenia:</p> <p class="font-mono text-cyan-300 font-bold"> </p></div> <div><p class="text-sm text-gray-400 mb-1">Status:</p> <p class="text-green-400 font-medium">Utworzone</p></div> <!></div> <!> <div class="flex gap-2"><button class="bg-blue-700 hover:bg-blue-600 disabled:bg-gray-700 px-4 py-2 rounded text-sm transition-colors duration-200 flex items-center gap-2"><!> 📊 Sprawdź status</button> <button class="bg-gray-700 hover:bg-gray-600 px-4 py-2 rounded text-sm transition-colors duration-200">📋 Kopiuj ID</button></div></div></div>'),st=y('<div class="text-sm mb-2 last:mb-0"><span class="text-gray-400"> </span> <span class="text-cyan-100 ml-2"> </span></div>'),it=y('<div class="bg-gray-900 p-3 rounded-lg"><p class="text-sm text-gray-400 mb-2">Historia aktualizacji:</p> <!></div>'),rt=y('<div class="bg-blue-900/30 border border-blue-500 rounded-lg"><div class="bg-blue-800/50 px-4 py-2 rounded-t-lg border-b border-blue-500"><h3 class="font-medium text-blue-300">📊 Status zgłoszenia</h3></div> <div class="p-4"><div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4"><div><p class="text-sm text-gray-400 mb-1">Numer:</p> <p class="font-mono text-cyan-300"> </p></div> <div><p class="text-sm text-gray-400 mb-1">Status:</p> <p class="text-green-400 capitalize font-medium"> </p></div> <div><p class="text-sm text-gray-400 mb-1">Zespół:</p> <p class="text-cyan-300"> </p></div> <div><p class="text-sm text-gray-400 mb-1">Ostatnia aktualizacja:</p> <p class="text-gray-300 text-sm"> </p></div></div> <!></div></div>'),lt=y(`<div class="ticket-widget-container svelte-1hd5a6l"><h2 class="widget-title svelte-1hd5a6l">🎫 System zgłoszeń i ticketów</h2> <div class="space-y-4"><div class="grid grid-cols-1 md:grid-cols-2 gap-4"><div><label class="block text-sm font-medium mb-2">Email *</label> <input type="email" placeholder="twoj.email@example.com" class="widget-input svelte-1hd5a6l"></div> <div><label class="block text-sm font-medium mb-2">Priorytet</label> <select class="widget-select svelte-1hd5a6l"><option class="svelte-1hd5a6l">🟢 Niski</option><option class="svelte-1hd5a6l">🟡 Średni</option><option class="svelte-1hd5a6l">🟠 Wysoki</option><option class="svelte-1hd5a6l">🔴 Krytyczny</option></select></div></div> <div><label class="block text-sm font-medium mb-2">Kategoria (opcjonalna)</label> <select class="widget-select svelte-1hd5a6l"><option class="svelte-1hd5a6l">Wybierz kategorię</option><option class="svelte-1hd5a6l">🐛 Błąd w systemie</option><option class="svelte-1hd5a6l">✨ Prośba o funkcję</option><option class="svelte-1hd5a6l">❓ Pytanie</option><option class="svelte-1hd5a6l">💰 Płatności/Faktury</option><option class="svelte-1hd5a6l">🔗 Integracje</option><option class="svelte-1hd5a6l">⚡ Wydajność</option><option class="svelte-1hd5a6l">🤔 Inne</option></select></div> <div><label class="block text-sm font-medium mb-2">Opis problemu *</label> <textarea rows="6" placeholder="Opisz szczegółowo swój problem lub zapytanie. Im więcej informacji podasz, tym szybciej będziemy mogli pomóc..." class="widget-textarea svelte-1hd5a6l"></textarea></div> <div class="flex gap-3"><button class="action-btn primary svelte-1hd5a6l"><!></button> <button class="action-btn secondary svelte-1hd5a6l">🗑️ Wyczyść</button></div> <!> <!> <!> <div class="text-xs text-gray-400 italic">💡 Tip: Podanie szczegółowego opisu problemu pomoże naszemu systemowi AI
      lepiej sklasyfikować zgłoszenie</div></div></div>`);function vt(D,$){Ue($,!1);let l=T({description:"",email:"",priority:"medium",category:""}),o=T(null),d=T(!1),u=T(""),c=T(null),j=T(!1);async function Te(){if(!s(l).description||!s(l).email){n(u,"Opis problemu i email są wymagane");return}n(d,!0),n(u,""),n(o,null);try{const i=await fetch("/api/tickets",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s(l))}),r=await i.json();if(!i.ok)throw new Error(r.error||"Błąd podczas tworzenia ticket");n(o,r)}catch(i){n(u,i.message),console.error("Ticket submission error:",i)}finally{n(d,!1)}}async function Pe(i){n(j,!0),n(c,null);try{const r=await fetch(`/api/tickets?id=${encodeURIComponent(i)}`),m=await r.json();if(!r.ok)throw new Error(m.error||"Błąd podczas pobierania statusu");n(c,m)}catch(r){n(u,r.message),console.error("Status check error:",r)}finally{n(j,!1)}}function Ie(){n(l,{description:"",email:"",priority:"medium",category:""}),n(o,null),n(u,""),n(c,null)}function qe(i){switch(i){case"low":return"text-green-400";case"medium":return"text-yellow-400";case"high":return"text-orange-400";case"critical":return"text-red-400";default:return"text-cyan-400"}}function me(i){switch(i){case"tech-support":return"Wsparcie Techniczne";case"billing":return"Dział Płatności";case"sales":return"Dział Sprzedaży";case"other":return"Zespół Ogólny";default:return i}}Ze();var L=lt(),_e=e(t(L),2),F=t(_e),H=t(F),ge=e(t(H),2);Le(ge),a(H);var be=e(H,2),J=e(t(be),2);x(()=>{s(l),Se(()=>{})});var R=t(J);R.value=(R.__value="low")==null?"":"low";var G=e(R);G.value=(G.__value="medium")==null?"":"medium";var Q=e(G);Q.value=(Q.__value="high")==null?"":"high";var he=e(Q);he.value=(he.__value="critical")==null?"":"critical",a(J),a(be),a(F);var V=e(F,2),X=e(t(V),2);x(()=>{s(l),Se(()=>{})});var Y=t(X);Y.value=((Y.__value="")==null,"");var ee=e(Y);ee.value=(ee.__value="bug")==null?"":"bug";var te=e(ee);te.value=(te.__value="feature-request")==null?"":"feature-request";var ae=e(te);ae.value=(ae.__value="question")==null?"":"question";var se=e(ae);se.value=(se.__value="billing")==null?"":"billing";var ie=e(se);ie.value=(ie.__value="integration")==null?"":"integration";var re=e(ie);re.value=(re.__value="performance")==null?"":"performance";var ye=e(re);ye.value=(ye.__value="other")==null?"":"other",a(X),a(V);var le=e(V,2),fe=e(t(le),2);Fe(fe),a(le);var oe=e(le,2),P=t(oe),Me=t(P);{var Ce=i=>{var r=Ve();pe(),_(i,r)},Oe=i=>{var r=He("🎫 Wyślij zgłoszenie");_(i,r)};w(Me,i=>{s(d)?i(Ce):i(Oe,!1)})}a(P);var We=e(P,2);a(oe);var xe=e(oe,2);{var De=i=>{var r=Xe(),m=t(r),f=t(m);a(m),a(r),x(()=>g(f,`❌ ${s(u)??""}`)),_(i,r)};w(xe,i=>{s(u)&&i(De)})}var we=e(xe,2);{var Ne=i=>{var r=at(),m=e(t(r),2),f=t(m),k=t(f),I=e(t(k),2),ne=t(I,!0);a(I),a(k);var q=e(k,4);{var N=v=>{var b=Ye(),p=Je(b),h=e(t(p),2),ve=t(h,!0);a(h),a(p);var K=e(p,2),S=e(t(K),2),O=t(S,!0);a(S),a(K),x((W,ce)=>{g(ve,W),Re(S,1,`${ce??""} font-medium capitalize`,"svelte-1hd5a6l"),g(O,s(o).classification.priority)},[()=>me(s(o).classification.team),()=>qe(s(o).classification.priority)],ue),_(v,b)};w(q,v=>{s(o).classification&&v(N)})}a(f);var A=e(f,2);{var M=v=>{var b=et(),p=e(t(b),2),h=t(p,!0);a(p),a(b),x(()=>g(h,s(o).classification.summary)),_(v,b)};w(A,v=>{s(o).classification?.summary&&v(M)})}var C=e(A,2),z=t(C),B=t(z);{var E=v=>{var b=tt();_(v,b)};w(B,v=>{s(j)&&v(E)})}pe(),a(z);var de=e(z,2);a(C),a(m),a(r),x(()=>{g(ne,s(o).ticketId),z.disabled=s(j)}),Z("click",z,()=>Pe(s(o).ticketId)),Z("click",de,()=>navigator.clipboard.writeText(s(o).ticketId)),_(i,r)};w(we,i=>{s(o)&&i(Ne)})}var Ae=e(we,2);{var Be=i=>{var r=rt(),m=e(t(r),2),f=t(m),k=t(f),I=e(t(k),2),ne=t(I,!0);a(I),a(k);var q=e(k,2),N=e(t(q),2),A=t(N,!0);a(N),a(q);var M=e(q,2),C=e(t(M),2),z=t(C,!0);a(C),a(M);var B=e(M,2),E=e(t(B),2),de=t(E,!0);a(E),a(B),a(f);var v=e(f,2);{var b=p=>{var h=it(),ve=e(t(h),2);Ge(ve,1,()=>s(c).updates,Qe,(K,S)=>{var O=st(),W=t(O),ce=t(W,!0);a(W);var ke=e(W,2),Ee=t(ke);a(ke),a(O),x(Ke=>{g(ce,Ke),g(Ee,`→ ${s(S).message??""}`)},[()=>new Date(s(S).timestamp).toLocaleString()],ue),_(K,O)}),a(h),_(p,h)};w(v,p=>{s(c).updates?.length&&p(b)})}a(m),a(r),x((p,h)=>{g(ne,s(c).ticketId),g(A,s(c).status),g(z,p),g(de,h)},[()=>me(s(c).team),()=>new Date(s(c).lastUpdate).toLocaleString()],ue),_(i,r)};w(Ae,i=>{s(c)&&i(Be)})}pe(2),a(_e),a(L),x(()=>P.disabled=s(d)||!s(l).description||!s(l).email),ze(ge,()=>s(l).email,i=>U(l,s(l).email=i)),je(J,()=>s(l).priority,i=>U(l,s(l).priority=i)),je(X,()=>s(l).category,i=>U(l,s(l).category=i)),ze(fe,()=>s(l).description,i=>U(l,s(l).description=i)),Z("click",P,Te),Z("click",We,Ie),_(D,L),$e()}export{vt as default};
