import{p as nt,H as lt,m as D,g as e,d as A,i as dt,f,s as r,c as t,a as x,t as T,h as E,j as m,k as ct,v as d,n as a,u as q,x as b,l as ee,q as vt,o as Fe,I as ut,b as he,e as $e,J as we,G as De,y as ke,A as pt,z as te}from"./Header.astro_astro_type_script_index_0_lang.AXIbBUBV.js";/* empty css                                    */import"./react.CU-GxeNQ.js";if(typeof MessageChannel>"u"){class ae{constructor(){this.onmessage=null}postMessage(_){const y={data:_};(typeof queueMicrotask=="function"?queueMicrotask:u=>setTimeout(u,0))(()=>this.onmessage&&this.onmessage(y))}start(){}close(){}}class ce{constructor(){this.port1=new ae,this.port2=new ae;const _=(y,u)=>{const g={data:u};(typeof queueMicrotask=="function"?queueMicrotask:k=>setTimeout(k,0))(()=>y.onmessage&&y.onmessage(g))};this.port1.postMessage=y=>_(this.port2,y),this.port2.postMessage=y=>_(this.port1,y)}}globalThis.MessageChannel=ce}var mt=f('<div class="mb-6 p-4 bg-red-900/20 border border-red-500/50 rounded-lg"><p class="text-red-300"> </p> <button class="mt-2 text-sm text-red-400 hover:text-red-300">Zamknij</button></div>'),bt=f('<div class="mb-6 p-4 bg-gray-900/50 border border-cyan-500/30 rounded-lg"><h3 class="text-lg font-semibold mb-4 text-cyan-400"> </h3> <div class="grid grid-cols-1 md:grid-cols-2 gap-4"><div><label class="block text-sm font-medium mb-2">Tytuł *</label> <input type="text" placeholder="Wpisz tytuł przypomnienia" class="w-full p-3 bg-gray-800 border border-gray-600 rounded focus:border-cyan-400 focus:outline-none" required/></div> <div><label class="block text-sm font-medium mb-2">Data i godzina *</label> <input type="datetime-local" class="w-full p-3 bg-gray-800 border border-gray-600 rounded focus:border-cyan-400 focus:outline-none" required/></div> <div class="md:col-span-2"><label class="block text-sm font-medium mb-2">Opis</label> <textarea placeholder="Opcjonalny opis przypomnienia" rows="3" class="w-full p-3 bg-gray-800 border border-gray-600 rounded focus:border-cyan-400 focus:outline-none resize-none"></textarea></div> <div><label class="block text-sm font-medium mb-2">Priorytet</label> <select class="w-full p-3 bg-gray-800 border border-gray-600 rounded focus:border-cyan-400 focus:outline-none"><option>🟢 Niski</option><option>🟡 Średni</option><option>🔴 Wysoki</option></select></div> <div><label class="block text-sm font-medium mb-2">Powtarzanie</label> <select class="w-full p-3 bg-gray-800 border border-gray-600 rounded focus:border-cyan-400 focus:outline-none"><option>Jednorazowe</option><option>Codziennie</option><option>Co tydzień</option><option>Co miesiąc</option></select></div> <div class="md:col-span-2"><label class="block text-sm font-medium mb-2">Powiadomienia</label> <div class="flex space-x-6"><label class="flex items-center"><input type="checkbox" class="mr-2 accent-cyan-500"/> 📧 Email</label> <label class="flex items-center"><input type="checkbox" class="mr-2 accent-cyan-500"/> 🔔 Push</label> <label class="flex items-center"><input type="checkbox" class="mr-2 accent-cyan-500"/> 📱 SMS</label></div></div></div> <div class="flex justify-end space-x-3 mt-4"><button class="px-4 py-2 bg-gray-700/50 hover:bg-gray-600/50 rounded text-sm font-semibold transition-colors">Anuluj</button> <button class="px-4 py-2 bg-cyan-700/50 hover:bg-cyan-600/50 rounded text-sm font-semibold transition-colors"> </button></div></div>'),ft=f('<div class="text-center py-8"><div class="animate-spin w-8 h-8 border-2 border-cyan-400 border-t-transparent rounded-full mx-auto mb-4"></div> <p class="text-gray-400">Ładowanie przypomnień...</p></div>'),yt=f('<div class="text-center py-8"><p class="text-gray-400">Brak przypomnień</p> <button class="mt-4 px-4 py-2 bg-cyan-700/50 hover:bg-cyan-600/50 rounded text-sm font-semibold transition-colors">Utwórz pierwsze przypomnienie</button></div>'),xt=f('<span class="text-xs px-2 py-1 rounded bg-purple-900/50 text-purple-300"> </span>'),_t=f("<p> </p>"),gt=f('<span class="text-red-400 ml-1">(PRZETERMINOWANE)</span>'),ht=f('<span class="text-yellow-400 ml-1">(DZISIAJ)</span>'),wt=f("<span>📧</span>"),Dt=f("<span>🔔</span>"),kt=f("<span>📱</span>"),zt=f('<div><div class="flex items-start justify-between"><div class="flex items-start space-x-3 flex-1"><button class="mt-1 text-xl hover:scale-110 transition-transform"> </button> <div class="flex-1"><div class="flex items-center space-x-2 mb-1"><span> </span> <span> </span> <!></div> <!> <div class="flex items-center space-x-4 text-sm text-gray-400"><div class="flex items-center space-x-1"><span>📅</span> <span> <!></span></div> <div class="flex items-center space-x-2"><!> <!> <!></div></div></div></div> <div class="flex items-center space-x-2 ml-4"><button class="px-2 py-1 bg-yellow-700/50 hover:bg-yellow-600/50 rounded text-xs font-semibold transition-colors">✏️</button> <button class="px-2 py-1 bg-red-700/50 hover:bg-red-600/50 rounded text-xs font-semibold transition-colors">🗑️</button></div></div></div>'),Mt=f('<div class="bg-black/80 backdrop-blur-sm border border-cyan-500/30 rounded-xl p-6 text-cyan-300 max-h-[800px] overflow-hidden"><div class="flex items-center justify-between mb-6"><div class="flex items-center space-x-3"><div class="w-3 h-3 bg-cyan-400 rounded-full animate-pulse"></div> <h2 class="text-2xl font-bold text-cyan-400">HARMONOGRAM I PRZYPOMNIENIA</h2></div> <button class="px-4 py-2 bg-cyan-700/50 hover:bg-cyan-600/50 rounded text-sm font-semibold transition-colors"> </button></div> <div class="grid grid-cols-2 md:grid-cols-4 gap-4 mb-6"><div class="bg-gray-900/50 border border-cyan-500/20 rounded-lg p-4 text-center"><div class="text-2xl font-bold text-cyan-400"> </div> <div class="text-sm text-gray-400">Łącznie</div></div> <div class="bg-green-900/20 border border-green-500/30 rounded-lg p-4 text-center"><div class="text-2xl font-bold text-green-400"> </div> <div class="text-sm text-gray-400">Zakończone</div></div> <div class="bg-red-900/20 border border-red-500/30 rounded-lg p-4 text-center"><div class="text-2xl font-bold text-red-400"> </div> <div class="text-sm text-gray-400">Przeterminowane</div></div> <div class="bg-yellow-900/20 border border-yellow-500/30 rounded-lg p-4 text-center"><div class="text-2xl font-bold text-yellow-400"> </div> <div class="text-sm text-gray-400">Dzisiaj</div></div></div> <!> <!> <div class="space-y-3 max-h-96 overflow-y-auto custom-scrollbar svelte-1seyal6"><!></div></div>');function Et(ae,ce){nt(ce,!1);let L=A([]),_=A({total:0,completed:0,overdue:0,today:0,high:0,medium:0,low:0}),y=A(!0),u=A(""),g=A(!1),k=A(null),i=A({title:"",description:"",dueDate:"",priority:"medium",notifications:{email:!0,push:!1,sms:!1},recurrence:void 0});const Ae={low:"text-green-400 border-green-500",medium:"text-yellow-400 border-yellow-500",high:"text-red-400 border-red-500"},qe={low:"🟢",medium:"🟡",high:"🔴"};async function re(){try{d(y,!0);const n=await(await fetch("/api/reminders")).json();n.success?(d(L,n.reminders),d(_,n.stats)):d(u,n.message||"Failed to fetch reminders")}catch(s){d(u,"Network error occurred"),console.error("Error fetching reminders:",s)}finally{d(y,!1)}}async function Ze(){if(!e(i).title.trim()||!e(i).dueDate){d(u,"Tytuł i data są wymagane");return}try{const n=await(await fetch("/api/reminders",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...e(i),userId:`user${Math.floor(Math.random()*1e3)}`})})).json();n.success?(ze(),d(g,!1),await re()):d(u,n.message||"Failed to create reminder")}catch(s){d(u,"Failed to create reminder"),console.error("Error creating reminder:",s)}}async function Je(s,n){try{const z=await(await fetch("/api/reminders",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:s,...n})})).json();z.success?(await re(),d(k,null)):d(u,z.message||"Failed to update reminder")}catch(p){d(u,"Failed to update reminder"),console.error("Error updating reminder:",p)}}async function He(s){if(confirm("Czy na pewno chcesz usunąć to przypomnienie?"))try{const p=await(await fetch(`/api/reminders?id=${s}`,{method:"DELETE"})).json();p.success?await re():d(u,p.message||"Failed to delete reminder")}catch(n){d(u,"Failed to delete reminder"),console.error("Error deleting reminder:",n)}}function ze(){d(i,{title:"",description:"",dueDate:"",priority:"medium",notifications:{email:!0,push:!1,sms:!1},recurrence:void 0})}function Le(s){return new Date(s).toLocaleString("pl-PL",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}function ve(s){return new Date(s).getTime()<Date.now()}function ue(s){const n=new Date;return new Date(s).toDateString()===n.toDateString()}function Ue(){const s=new Date;return s.setMinutes(s.getMinutes()+5),s.toISOString().slice(0,16)}lt(()=>{re();const s=new Date;s.setHours(s.getHours()+1),D(i,e(i).dueDate=s.toISOString().slice(0,16))}),dt();var pe=Mt(),me=t(pe),be=r(t(me),2),We=t(be,!0);a(be),a(me);var fe=r(me,2),ye=t(fe),Me=t(ye),Ge=t(Me,!0);a(Me),q(2),a(ye);var xe=r(ye,2),je=t(xe),Be=t(je,!0);a(je),q(2),a(xe);var _e=r(xe,2),Se=t(_e),Ye=t(Se,!0);a(Se),q(2),a(_e);var Te=r(_e,2),Ee=t(Te),Ke=t(Ee,!0);a(Ee),q(2),a(Te),a(fe);var Oe=r(fe,2);{var Qe=s=>{var n=mt(),p=t(n),z=t(p);a(p);var O=r(p,2);a(n),T(()=>b(z,`❌ ${e(u)??""}`)),E("click",O,()=>d(u,"")),m(s,n)};x(Oe,s=>{e(u)&&s(Qe)})}var Pe=r(Oe,2);{var Ve=s=>{var n=bt(),p=t(n),z=t(p,!0);a(p);var O=r(p,2),h=t(O),w=r(t(h),2);ee(w),a(h);var P=r(h,2),I=r(t(P),2);ee(I),a(P);var o=r(P,2),C=r(t(o),2);vt(C),a(o);var Z=r(o,2),N=r(t(Z),2);T(()=>{e(i),Fe(()=>{})});var M=t(N);M.value=M.__value="low";var U=r(M);U.value=U.__value="medium";var W=r(U);W.value=W.__value="high",a(N),a(Z);var R=r(Z,2),j=r(t(R),2);T(()=>{e(i),Fe(()=>{})});var G=t(j);G.value=(G.__value=void 0)??"";var S=r(G);S.value=S.__value="daily";var B=r(S);B.value=B.__value="weekly";var oe=r(B);oe.value=oe.__value="monthly",a(j),a(R);var se=r(R,2),Y=r(t(se),2),K=t(Y),Q=t(K);ee(Q),q(),a(K);var F=r(K,2),J=t(F);ee(J),q(),a(F);var V=r(F,2),ie=t(V);ee(ie),q(),a(V),a(Y),a(se),a(O);var ne=r(O,2),le=t(ne),H=r(le,2),de=t(H,!0);a(H),a(ne),a(n),T(v=>{b(z,e(k)?"Edytuj przypomnienie":"Nowe przypomnienie"),ut(I,"min",v),b(de,e(k)?"Zaktualizuj":"Utwórz")},[Ue]),he(w,()=>e(i).title,v=>D(i,e(i).title=v)),he(I,()=>e(i).dueDate,v=>D(i,e(i).dueDate=v)),he(C,()=>e(i).description,v=>D(i,e(i).description=v)),$e(N,()=>e(i).priority,v=>D(i,e(i).priority=v)),$e(j,()=>e(i).recurrence,v=>D(i,e(i).recurrence=v)),we(Q,()=>e(i).notifications.email,v=>D(i,e(i).notifications.email=v)),we(J,()=>e(i).notifications.push,v=>D(i,e(i).notifications.push=v)),we(ie,()=>e(i).notifications.sms,v=>D(i,e(i).notifications.sms=v)),E("click",le,()=>{d(g,!1),d(k,null),ze()}),E("click",H,Ze),m(s,n)};x(Pe,s=>{(e(g)||e(k))&&s(Ve)})}var Ie=r(Pe,2),Xe=t(Ie);{var et=s=>{var n=ft();m(s,n)},tt=s=>{var n=De(),p=ke(n);{var z=h=>{var w=yt(),P=r(t(w),2);a(w),E("click",P,()=>d(g,!0)),m(h,w)},O=h=>{var w=De(),P=ke(w);pt(P,1,()=>e(L),I=>I.id,(I,o)=>{var C=zt(),Z=t(C),N=t(Z),M=t(N),U=t(M,!0);a(M);var W=r(M,2),R=t(W),j=t(R),G=t(j,!0);a(j);var S=r(j,2),B=t(S);a(S);var oe=r(S,2);{var se=l=>{var c=xt(),$=t(c);a(c),T(()=>b($,`🔄 ${e(o).recurrence??""}`)),m(l,c)};x(oe,l=>{e(o).recurrence&&l(se)})}a(R);var Y=r(R,2);{var K=l=>{var c=_t(),$=t(c,!0);a(c),T(()=>{te(c,1,`text-sm text-gray-300 mb-2 ${e(o).completed?"line-through":""}`),b($,e(o).description)}),m(l,c)};x(Y,l=>{e(o).description&&l(K)})}var Q=r(Y,2),F=t(Q),J=r(t(F),2),V=t(J),ie=r(V);{var ne=l=>{var c=gt();m(l,c)},le=l=>{var c=De(),$=ke(c);{var ge=X=>{var it=ht();m(X,it)};x($,X=>{ue(e(o).dueDate)&&!e(o).completed&&X(ge)},!0)}m(l,c)};x(ie,l=>{ve(e(o).dueDate)&&!e(o).completed?l(ne):l(le,!1)})}a(J),a(F);var H=r(F,2),de=t(H);{var v=l=>{var c=wt();m(l,c)};x(de,l=>{e(o).notifications.email&&l(v)})}var Ce=r(de,2);{var at=l=>{var c=Dt();m(l,c)};x(Ce,l=>{e(o).notifications.push&&l(at)})}var rt=r(Ce,2);{var ot=l=>{var c=kt();m(l,c)};x(rt,l=>{e(o).notifications.sms&&l(ot)})}a(H),a(Q),a(W),a(N);var Ne=r(N,2),Re=t(Ne),st=r(Re,2);a(Ne),a(Z),a(C),T((l,c,$,ge,X)=>{te(C,1,`bg-gray-900/30 border border-gray-700/50 rounded-lg p-4 hover:border-cyan-500/50 transition-colors
          ${e(o).completed?"opacity-60":""}
          ${l??""}
          ${c??""}
        `),b(U,e(o).completed?"✅":"⭕"),te(j,1,`font-semibold text-cyan-300 ${e(o).completed?"line-through":""}`),b(G,e(o).title),te(S,1,`text-sm px-2 py-1 rounded border ${Ae[e(o).priority]??""} bg-gray-800/50`,"svelte-1seyal6"),b(B,`${qe[e(o).priority]??""} ${e(o).priority??""}`),te(J,1,`${$??""}
                                ${ge??""}`),b(V,`${X??""} `)},[()=>ve(e(o).dueDate)&&!e(o).completed?"border-red-500/50 bg-red-900/10":"",()=>ue(e(o).dueDate)&&!e(o).completed?"border-yellow-500/50 bg-yellow-900/10":"",()=>ve(e(o).dueDate)&&!e(o).completed?"text-red-400 font-semibold":"",()=>ue(e(o).dueDate)&&!e(o).completed?"text-yellow-400 font-semibold":"",()=>Le(e(o).dueDate)]),E("click",M,()=>Je(e(o).id,{completed:!e(o).completed})),E("click",Re,()=>{d(k,e(o)),d(i,{title:e(o).title,description:e(o).description,dueDate:new Date(e(o).dueDate).toISOString().slice(0,16),priority:e(o).priority,notifications:{...e(o).notifications},recurrence:e(o).recurrence}),d(g,!0)}),E("click",st,()=>He(e(o).id)),m(I,C)}),m(h,w)};x(p,h=>{e(L).length===0?h(z):h(O,!1)},!0)}m(s,n)};x(Xe,s=>{e(y)?s(et):s(tt,!1)})}a(Ie),a(pe),T(()=>{b(We,e(g)?"❌ Anuluj":"➕ Nowe przypomnienie"),b(Ge,e(_).total),b(Be,e(_).completed),b(Ye,e(_).overdue),b(Ke,e(_).today)}),E("click",be,()=>d(g,!e(g))),m(ae,pe),ct()}export{Et as default};
