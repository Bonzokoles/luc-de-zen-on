import{j as e}from"./jsx-runtime.TBa3i5EZ.js";import{r as t}from"./index.CVf8TyFT.js";import{c as x}from"./createLucideIcon.oOhQuY_a.js";import{M as S}from"./index.DoaSYvwW.js";import{S as M}from"./sparkles.Dj1l-Edb.js";import{T}from"./trash-2.Bj3Kuw5Z.js";/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],p=x("bot",$);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],P=x("message-circle",J);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],O=x("send",_);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],W=x("user",R),B=[{icon:"ğŸ’¼",title:"Strategia biznesowa",prompt:"PomÃ³Å¼ mi opracowaÄ‡ strategiÄ™ rozwoju maÅ‚ego biznesu w branÅ¼y [twoja branÅ¼a]"},{icon:"ğŸ’°",title:"Finanse",prompt:"Jak mogÄ™ zoptymalizowaÄ‡ koszty i zwiÄ™kszyÄ‡ rentownoÅ›Ä‡ mojej firmy?"},{icon:"ğŸ“ˆ",title:"Marketing",prompt:"Zaproponuj mi skuteczne dziaÅ‚ania marketingowe dla [twÃ³j biznes]"},{icon:"ğŸ“§",title:"Komunikacja",prompt:"PomÃ³Å¼ mi napisaÄ‡ profesjonalny email w sprawie [temat]"},{icon:"âš–ï¸",title:"Aspekty prawne",prompt:"Jakie dokumenty prawne powinienem mieÄ‡ prowadzÄ…c [typ dziaÅ‚alnoÅ›ci]?"},{icon:"ğŸ¯",title:"Cele biznesowe",prompt:"PomÃ³Å¼ mi ustaliÄ‡ realistyczne cele biznesowe na najbliÅ¼szy kwartaÅ‚"}],q=()=>{const[a,o]=t.useState([]),[h,y]=t.useState(""),[d,g]=t.useState(!1),[l,u]=t.useState(""),b=t.useRef(null),N=t.useRef(null);t.useEffect(()=>{b.current?.scrollIntoView({behavior:"smooth"})},[a,l]),t.useEffect(()=>{const s=localStorage.getItem("ai-assistant-messages");if(s){const n=JSON.parse(s);o(n.map(c=>({...c,timestamp:new Date(c.timestamp)})))}},[]),t.useEffect(()=>{a.length>0&&localStorage.setItem("ai-assistant-messages",JSON.stringify(a))},[a]);const z=async s=>{const n=h.trim();if(!n||d)return;const c={id:`user-${Date.now()}`,role:"user",content:n,timestamp:new Date};o(i=>[...i,c]),y(""),g(!0),u("");try{const i=await fetch("/api/chat-gemini",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({messages:[...a,c].map(r=>({role:r.role,content:r.content}))})});if(!i.ok)throw new Error("BÅ‚Ä…d podczas komunikacji z AI");const m=i.body?.getReader(),w=new TextDecoder;let f="";if(m)for(;;){const{done:r,value:I}=await m.read();if(r)break;const A=w.decode(I).split(`
`);for(const k of A)if(k.startsWith("data: ")){const v=k.slice(6);if(v==="[DONE]")continue;try{const j=JSON.parse(v);j.content&&(f+=j.content,u(f))}catch{}}}const E={id:`assistant-${Date.now()}`,role:"assistant",content:f,timestamp:new Date};o(r=>[...r,E]),u("")}catch(i){console.error("BÅ‚Ä…d:",i);const m={id:`error-${Date.now()}`,role:"assistant",content:`âŒ Przepraszam, wystÄ…piÅ‚ bÅ‚Ä…d: ${i.message}. SprÃ³buj ponownie.`,timestamp:new Date};o(w=>[...w,m])}finally{g(!1)}},D=()=>{confirm("Czy na pewno chcesz wyczyÅ›ciÄ‡ historiÄ™ rozmowy?")&&(o([]),localStorage.removeItem("ai-assistant-messages"))},C=s=>{s.key==="Enter"&&!s.shiftKey&&(s.preventDefault(),z())};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsxs("h1",{className:"text-3xl font-bold text-white mb-2 flex items-center justify-center gap-3",children:[e.jsx(p,{className:"w-8 h-8 text-primary-400"}),"Asystent Biznesowy AI"]}),e.jsx("p",{className:"text-gray-300",children:"TwÃ³j osobisty doradca biznesowy 24/7 - zadaj pytanie, otrzymaj eksperckÄ… pomoc"})]}),e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"h-[500px] overflow-y-auto mb-4 space-y-4 p-4 bg-surface-darker rounded-lg",children:[a.length===0&&!l&&e.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-gray-400",children:[e.jsx(P,{className:"w-16 h-16 mb-4 opacity-30"}),e.jsx("p",{className:"text-lg font-semibold mb-2",children:"Witaj! Jestem Twoim Asystentem Biznesowym"}),e.jsx("p",{className:"text-sm text-center max-w-md mb-6",children:"MogÄ™ pomÃ³c Ci w prowadzeniu biznesu - od strategii po codzienne zadania. Wybierz gotowy prompt poniÅ¼ej lub zadaj wÅ‚asne pytanie!"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3 w-full max-w-3xl",children:B.map((s,n)=>e.jsxs("button",{onClick:()=>{y(s.prompt),N.current?.focus()},className:"p-3 bg-surface-dark border border-gray-700 rounded-lg hover:border-primary-500 transition-colors text-left",children:[e.jsx("div",{className:"text-2xl mb-1",children:s.icon}),e.jsx("div",{className:"text-xs font-semibold text-white",children:s.title})]},n))})]}),a.map(s=>e.jsxs("div",{className:`flex gap-3 ${s.role==="user"?"justify-end":"justify-start"}`,children:[s.role==="assistant"&&e.jsx("div",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-primary-500 flex items-center justify-center",children:e.jsx(p,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{className:`max-w-[80%] rounded-lg p-4 ${s.role==="user"?"bg-primary-600 text-white":"bg-surface-dark text-gray-100"}`,children:[s.role==="assistant"?e.jsx("div",{className:"prose prose-invert prose-sm max-w-none",children:e.jsx(S,{children:s.content})}):e.jsx("p",{className:"whitespace-pre-wrap",children:s.content}),e.jsx("p",{className:"text-xs opacity-50 mt-2",children:s.timestamp.toLocaleTimeString("pl-PL",{hour:"2-digit",minute:"2-digit"})})]}),s.role==="user"&&e.jsx("div",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-gray-600 flex items-center justify-center",children:e.jsx(W,{className:"w-5 h-5 text-white"})})]},s.id)),l&&e.jsxs("div",{className:"flex gap-3 justify-start",children:[e.jsx("div",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-primary-500 flex items-center justify-center",children:e.jsx(p,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{className:"max-w-[80%] rounded-lg p-4 bg-surface-dark text-gray-100",children:[e.jsx("div",{className:"prose prose-invert prose-sm max-w-none",children:e.jsx(S,{children:l})}),e.jsxs("div",{className:"flex items-center gap-1 mt-2 text-xs text-primary-400",children:[e.jsx(M,{className:"w-3 h-3 animate-pulse"}),e.jsx("span",{children:"PiszÄ™..."})]})]})]}),d&&!l&&e.jsxs("div",{className:"flex gap-3 justify-start",children:[e.jsx("div",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-primary-500 flex items-center justify-center",children:e.jsx(p,{className:"w-5 h-5 text-white"})}),e.jsx("div",{className:"max-w-[80%] rounded-lg p-4 bg-surface-dark text-gray-100",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-primary-400 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),e.jsx("div",{className:"w-2 h-2 bg-primary-400 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),e.jsx("div",{className:"w-2 h-2 bg-primary-400 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})})]}),e.jsx("div",{ref:b})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("textarea",{ref:N,value:h,onChange:s=>y(s.target.value),onKeyDown:C,placeholder:"Zadaj pytanie... (Enter - wyÅ›lij, Shift+Enter - nowa linia)",className:"input-field flex-1 resize-none",rows:2,disabled:d}),e.jsxs("button",{onClick:()=>z(),disabled:!h.trim()||d,className:"btn-primary px-6 flex items-center gap-2 self-end",children:[e.jsx(O,{className:"w-4 h-4"}),"WyÅ›lij"]})]}),a.length>0&&e.jsx("div",{className:"mt-4 flex justify-end",children:e.jsxs("button",{onClick:D,className:"btn-secondary flex items-center gap-2 text-sm",children:[e.jsx(T,{className:"w-4 h-4"}),"WyczyÅ›Ä‡ historiÄ™"]})})]}),e.jsx("div",{className:"card bg-blue-900/20 border-blue-500/30",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(M,{className:"w-5 h-5 text-blue-400 mt-1 flex-shrink-0"}),e.jsxs("div",{className:"text-sm text-gray-300",children:[e.jsx("p",{className:"font-bold text-white mb-2",children:"Jak korzystaÄ‡ z Asystenta?"}),e.jsxs("ul",{className:"space-y-1 ml-4 list-disc",children:[e.jsx("li",{children:"Zadawaj pytania po polsku - o biznes, marketing, finanse, prawo, strategiÄ™"}),e.jsx("li",{children:"MoÅ¼esz poprosiÄ‡ o pomoc w pisaniu emaili, postÃ³w, planÃ³w dziaÅ‚aÅ„"}),e.jsx("li",{children:"Asystent pamiÄ™ta kontekst rozmowy - moÅ¼esz zadawaÄ‡ pytania uzupeÅ‚niajÄ…ce"}),e.jsx("li",{children:"UÅ¼ywaj gotowych promptÃ³w lub zadawaj wÅ‚asne pytania"}),e.jsx("li",{children:"Historia rozmÃ³w zapisuje siÄ™ automatycznie w przeglÄ…darce"})]}),e.jsxs("p",{className:"mt-3 text-yellow-400",children:["ğŸ’¡ ",e.jsx("strong",{children:"WskazÃ³wka:"})," Im dokÅ‚adniej opiszesz swojÄ… sytuacjÄ™, tym lepszÄ… otrzymasz pomoc!"]})]})]})})]})};export{q as default};
