const L=.45454545454545453,G=2.2,z=(1+Math.sqrt(5))/2,E=.001;function P(h,t){const i=[];for(let s=0;s<h;++s)i.push(t());return i}function q(h,t){return P(h,t)}function x(h,t,i){const s=h[t];if(typeof s!="function")return null;const r=function(){const n=h.length,e=r.previous.apply(h,arguments);return i(t,n),e};return s.next=r,r.previous=s,h[t]=r,()=>{const n=r.previous;if(!n)return;const e=r.next;e?(n.next=e,e.previous=n):(n.next=void 0,h[t]=n),r.next=void 0,r.previous=void 0}}const O=["push","splice","pop","shift","unshift"];function V(h,t){const i=O.map(s=>x(h,s,t));return()=>{for(const s of i)s?.()}}const y={};function A(h,t){y[h]=t}function D(h){return y[h]}function m(h,t,i=1401298e-51){return Math.abs(h-t)<=i}function N(h,t){return h===t?h:Math.random()*(t-h)+h}function W(h,t,i){return h+(t-h)*i}function o(h,t=0,i=1){return Math.min(i,Math.max(t,h))}function Y(h){return h-=Math.PI*2*Math.floor((h+Math.PI)/(Math.PI*2)),h}function p(h){const t=h.toString(16);return h<=15?("0"+t).toUpperCase():t.toUpperCase()}function U(h){if(Math.log2)return Math.floor(Math.log2(h));if(h<0)return NaN;if(h===0)return-1/0;let t=0;if(h<1){for(;h<1;)t++,h=h*2;t=-t}else if(h>1)for(;h>1;)t++,h=Math.floor(h/2);return t}function k(h,t){const i=h%t;return i===0?t:k(t,i)}function R(h){return Math.pow(h,G)}function d(h){return h<=.04045?.0773993808*h:Math.pow(.947867299*(h+.055),2.4)}function T(h){return Math.pow(h,L)}function F(h){return h<=.0031308?12.92*h:1.055*Math.pow(h,.41666)-.055}class c{constructor(t=0,i=0,s=0){this.r=t,this.g=i,this.b=s}toString(){return"{R: "+this.r+" G:"+this.g+" B:"+this.b+"}"}getClassName(){return"Color3"}getHashCode(){let t=this.r*255|0;return t=t*397^(this.g*255|0),t=t*397^(this.b*255|0),t}toArray(t,i=0){return t[i]=this.r,t[i+1]=this.g,t[i+2]=this.b,this}fromArray(t,i=0){return c.FromArrayToRef(t,i,this),this}toColor4(t=1){return new g(this.r,this.g,this.b,t)}asArray(){return[this.r,this.g,this.b]}toLuminance(){return this.r*.3+this.g*.59+this.b*.11}multiply(t){return new c(this.r*t.r,this.g*t.g,this.b*t.b)}multiplyToRef(t,i){return i.r=this.r*t.r,i.g=this.g*t.g,i.b=this.b*t.b,i}multiplyInPlace(t){return this.r*=t.r,this.g*=t.g,this.b*=t.b,this}multiplyByFloats(t,i,s){return new c(this.r*t,this.g*i,this.b*s)}divide(t){throw new ReferenceError("Can not divide a color")}divideToRef(t,i){throw new ReferenceError("Can not divide a color")}divideInPlace(t){throw new ReferenceError("Can not divide a color")}minimizeInPlace(t){return this.minimizeInPlaceFromFloats(t.r,t.g,t.b)}maximizeInPlace(t){return this.maximizeInPlaceFromFloats(t.r,t.g,t.b)}minimizeInPlaceFromFloats(t,i,s){return this.r=Math.min(t,this.r),this.g=Math.min(i,this.g),this.b=Math.min(s,this.b),this}maximizeInPlaceFromFloats(t,i,s){return this.r=Math.max(t,this.r),this.g=Math.max(i,this.g),this.b=Math.max(s,this.b),this}floorToRef(t){throw new ReferenceError("Can not floor a color")}floor(){throw new ReferenceError("Can not floor a color")}fractToRef(t){throw new ReferenceError("Can not fract a color")}fract(){throw new ReferenceError("Can not fract a color")}equals(t){return t&&this.r===t.r&&this.g===t.g&&this.b===t.b}equalsFloats(t,i,s){return this.equalsToFloats(t,i,s)}equalsToFloats(t,i,s){return this.r===t&&this.g===i&&this.b===s}equalsWithEpsilon(t,i=E){return m(this.r,t.r,i)&&m(this.g,t.g,i)&&m(this.b,t.b,i)}negate(){throw new ReferenceError("Can not negate a color")}negateInPlace(){throw new ReferenceError("Can not negate a color")}negateToRef(t){throw new ReferenceError("Can not negate a color")}scale(t){return new c(this.r*t,this.g*t,this.b*t)}scaleInPlace(t){return this.r*=t,this.g*=t,this.b*=t,this}scaleToRef(t,i){return i.r=this.r*t,i.g=this.g*t,i.b=this.b*t,i}scaleAndAddToRef(t,i){return i.r+=this.r*t,i.g+=this.g*t,i.b+=this.b*t,i}clampToRef(t=0,i=1,s){return s.r=o(this.r,t,i),s.g=o(this.g,t,i),s.b=o(this.b,t,i),s}add(t){return new c(this.r+t.r,this.g+t.g,this.b+t.b)}addInPlace(t){return this.r+=t.r,this.g+=t.g,this.b+=t.b,this}addInPlaceFromFloats(t,i,s){return this.r+=t,this.g+=i,this.b+=s,this}addToRef(t,i){return i.r=this.r+t.r,i.g=this.g+t.g,i.b=this.b+t.b,i}subtract(t){return new c(this.r-t.r,this.g-t.g,this.b-t.b)}subtractToRef(t,i){return i.r=this.r-t.r,i.g=this.g-t.g,i.b=this.b-t.b,i}subtractInPlace(t){return this.r-=t.r,this.g-=t.g,this.b-=t.b,this}subtractFromFloats(t,i,s){return new c(this.r-t,this.g-i,this.b-s)}subtractFromFloatsToRef(t,i,s,r){return r.r=this.r-t,r.g=this.g-i,r.b=this.b-s,r}clone(){return new c(this.r,this.g,this.b)}copyFrom(t){return this.r=t.r,this.g=t.g,this.b=t.b,this}copyFromFloats(t,i,s){return this.r=t,this.g=i,this.b=s,this}set(t,i,s){return this.copyFromFloats(t,i,s)}setAll(t){return this.r=this.g=this.b=t,this}toHexString(){const t=Math.round(this.r*255),i=Math.round(this.g*255),s=Math.round(this.b*255);return"#"+p(t)+p(i)+p(s)}fromHexString(t){return t.substring(0,1)!=="#"||t.length!==7?this:(this.r=parseInt(t.substring(1,3),16)/255,this.g=parseInt(t.substring(3,5),16)/255,this.b=parseInt(t.substring(5,7),16)/255,this)}toHSV(){return this.toHSVToRef(new c)}toHSVToRef(t){const i=this.r,s=this.g,r=this.b,n=Math.max(i,s,r),e=Math.min(i,s,r);let a=0,u=0;const f=n,b=n-e;return n!==0&&(u=b/n),n!=e&&(n==i?(a=(s-r)/b,s<r&&(a+=6)):n==s?a=(r-i)/b+2:n==r&&(a=(i-s)/b+4),a*=60),t.r=a,t.g=u,t.b=f,t}toLinearSpace(t=!1){const i=new c;return this.toLinearSpaceToRef(i,t),i}toLinearSpaceToRef(t,i=!1){return i?(t.r=d(this.r),t.g=d(this.g),t.b=d(this.b)):(t.r=R(this.r),t.g=R(this.g),t.b=R(this.b)),this}toGammaSpace(t=!1){const i=new c;return this.toGammaSpaceToRef(i,t),i}toGammaSpaceToRef(t,i=!1){return i?(t.r=F(this.r),t.g=F(this.g),t.b=F(this.b)):(t.r=T(this.r),t.g=T(this.g),t.b=T(this.b)),this}static HSVtoRGBToRef(t,i,s,r){const n=s*i,e=t/60,a=n*(1-Math.abs(e%2-1));let u=0,f=0,b=0;e>=0&&e<=1?(u=n,f=a):e>=1&&e<=2?(u=a,f=n):e>=2&&e<=3?(f=n,b=a):e>=3&&e<=4?(f=a,b=n):e>=4&&e<=5?(u=a,b=n):e>=5&&e<=6&&(u=n,b=a);const w=s-n;return r.r=u+w,r.g=f+w,r.b=b+w,r}static FromHSV(t,i,s){const r=new c(0,0,0);return c.HSVtoRGBToRef(t,i,s,r),r}static FromHexString(t){return new c(0,0,0).fromHexString(t)}static FromArray(t,i=0){return new c(t[i],t[i+1],t[i+2])}static FromArrayToRef(t,i=0,s){s.r=t[i],s.g=t[i+1],s.b=t[i+2]}static FromInts(t,i,s){return new c(t/255,i/255,s/255)}static Lerp(t,i,s){const r=new c(0,0,0);return c.LerpToRef(t,i,s,r),r}static LerpToRef(t,i,s,r){r.r=t.r+(i.r-t.r)*s,r.g=t.g+(i.g-t.g)*s,r.b=t.b+(i.b-t.b)*s}static Hermite(t,i,s,r,n){const e=n*n,a=n*e,u=2*a-3*e+1,f=-2*a+3*e,b=a-2*e+n,w=a-e,M=t.r*u+s.r*f+i.r*b+r.r*w,I=t.g*u+s.g*f+i.g*b+r.g*w,S=t.b*u+s.b*f+i.b*b+r.b*w;return new c(M,I,S)}static Hermite1stDerivative(t,i,s,r,n){const e=c.Black();return this.Hermite1stDerivativeToRef(t,i,s,r,n,e),e}static Hermite1stDerivativeToRef(t,i,s,r,n,e){const a=n*n;e.r=(a-n)*6*t.r+(3*a-4*n+1)*i.r+(-a+n)*6*s.r+(3*a-2*n)*r.r,e.g=(a-n)*6*t.g+(3*a-4*n+1)*i.g+(-a+n)*6*s.g+(3*a-2*n)*r.g,e.b=(a-n)*6*t.b+(3*a-4*n+1)*i.b+(-a+n)*6*s.b+(3*a-2*n)*r.b}static Red(){return new c(1,0,0)}static Green(){return new c(0,1,0)}static Blue(){return new c(0,0,1)}static Black(){return new c(0,0,0)}static get BlackReadOnly(){return c._BlackReadOnly}static White(){return new c(1,1,1)}static Purple(){return new c(.5,0,.5)}static Magenta(){return new c(1,0,1)}static Yellow(){return new c(1,1,0)}static Gray(){return new c(.5,.5,.5)}static Teal(){return new c(0,1,1)}static Random(){return new c(Math.random(),Math.random(),Math.random())}}c._V8PerformanceHack=new c(.5,.5,.5);c._BlackReadOnly=c.Black();Object.defineProperties(c.prototype,{dimension:{value:[3]},rank:{value:1}});class g{constructor(t=0,i=0,s=0,r=1){this.r=t,this.g=i,this.b=s,this.a=r}asArray(){return[this.r,this.g,this.b,this.a]}toArray(t,i=0){return t[i]=this.r,t[i+1]=this.g,t[i+2]=this.b,t[i+3]=this.a,this}fromArray(t,i=0){return this.r=t[i],this.g=t[i+1],this.b=t[i+2],this.a=t[i+3],this}equals(t){return t&&this.r===t.r&&this.g===t.g&&this.b===t.b&&this.a===t.a}add(t){return new g(this.r+t.r,this.g+t.g,this.b+t.b,this.a+t.a)}addToRef(t,i){return i.r=this.r+t.r,i.g=this.g+t.g,i.b=this.b+t.b,i.a=this.a+t.a,i}addInPlace(t){return this.r+=t.r,this.g+=t.g,this.b+=t.b,this.a+=t.a,this}addInPlaceFromFloats(t,i,s,r){return this.r+=t,this.g+=i,this.b+=s,this.a+=r,this}subtract(t){return new g(this.r-t.r,this.g-t.g,this.b-t.b,this.a-t.a)}subtractToRef(t,i){return i.r=this.r-t.r,i.g=this.g-t.g,i.b=this.b-t.b,i.a=this.a-t.a,i}subtractInPlace(t){return this.r-=t.r,this.g-=t.g,this.b-=t.b,this.a-=t.a,this}subtractFromFloats(t,i,s,r){return new g(this.r-t,this.g-i,this.b-s,this.a-r)}subtractFromFloatsToRef(t,i,s,r,n){return n.r=this.r-t,n.g=this.g-i,n.b=this.b-s,n.a=this.a-r,n}scale(t){return new g(this.r*t,this.g*t,this.b*t,this.a*t)}scaleInPlace(t){return this.r*=t,this.g*=t,this.b*=t,this.a*=t,this}scaleToRef(t,i){return i.r=this.r*t,i.g=this.g*t,i.b=this.b*t,i.a=this.a*t,i}scaleAndAddToRef(t,i){return i.r+=this.r*t,i.g+=this.g*t,i.b+=this.b*t,i.a+=this.a*t,i}clampToRef(t=0,i=1,s){return s.r=o(this.r,t,i),s.g=o(this.g,t,i),s.b=o(this.b,t,i),s.a=o(this.a,t,i),s}multiply(t){return new g(this.r*t.r,this.g*t.g,this.b*t.b,this.a*t.a)}multiplyToRef(t,i){return i.r=this.r*t.r,i.g=this.g*t.g,i.b=this.b*t.b,i.a=this.a*t.a,i}multiplyInPlace(t){return this.r*=t.r,this.g*=t.g,this.b*=t.b,this.a*=t.a,this}multiplyByFloats(t,i,s,r){return new g(this.r*t,this.g*i,this.b*s,this.a*r)}divide(t){throw new ReferenceError("Can not divide a color")}divideToRef(t,i){throw new ReferenceError("Can not divide a color")}divideInPlace(t){throw new ReferenceError("Can not divide a color")}minimizeInPlace(t){return this.r=Math.min(this.r,t.r),this.g=Math.min(this.g,t.g),this.b=Math.min(this.b,t.b),this.a=Math.min(this.a,t.a),this}maximizeInPlace(t){return this.r=Math.max(this.r,t.r),this.g=Math.max(this.g,t.g),this.b=Math.max(this.b,t.b),this.a=Math.max(this.a,t.a),this}minimizeInPlaceFromFloats(t,i,s,r){return this.r=Math.min(t,this.r),this.g=Math.min(i,this.g),this.b=Math.min(s,this.b),this.a=Math.min(r,this.a),this}maximizeInPlaceFromFloats(t,i,s,r){return this.r=Math.max(t,this.r),this.g=Math.max(i,this.g),this.b=Math.max(s,this.b),this.a=Math.max(r,this.a),this}floorToRef(t){throw new ReferenceError("Can not floor a color")}floor(){throw new ReferenceError("Can not floor a color")}fractToRef(t){throw new ReferenceError("Can not fract a color")}fract(){throw new ReferenceError("Can not fract a color")}negate(){throw new ReferenceError("Can not negate a color")}negateInPlace(){throw new ReferenceError("Can not negate a color")}negateToRef(t){throw new ReferenceError("Can not negate a color")}equalsWithEpsilon(t,i=E){return m(this.r,t.r,i)&&m(this.g,t.g,i)&&m(this.b,t.b,i)&&m(this.a,t.a,i)}equalsToFloats(t,i,s,r){return this.r===t&&this.g===i&&this.b===s&&this.a===r}toString(){return"{R: "+this.r+" G:"+this.g+" B:"+this.b+" A:"+this.a+"}"}getClassName(){return"Color4"}getHashCode(){let t=this.r*255|0;return t=t*397^(this.g*255|0),t=t*397^(this.b*255|0),t=t*397^(this.a*255|0),t}clone(){return new g().copyFrom(this)}copyFrom(t){return this.r=t.r,this.g=t.g,this.b=t.b,this.a=t.a,this}copyFromFloats(t,i,s,r){return this.r=t,this.g=i,this.b=s,this.a=r,this}set(t,i,s,r){return this.copyFromFloats(t,i,s,r)}setAll(t){return this.r=this.g=this.b=this.a=t,this}toHexString(t=!1){const i=Math.round(this.r*255),s=Math.round(this.g*255),r=Math.round(this.b*255);if(t)return"#"+p(i)+p(s)+p(r);const n=Math.round(this.a*255);return"#"+p(i)+p(s)+p(r)+p(n)}fromHexString(t){return t.substring(0,1)!=="#"||t.length!==9&&t.length!==7?this:(this.r=parseInt(t.substring(1,3),16)/255,this.g=parseInt(t.substring(3,5),16)/255,this.b=parseInt(t.substring(5,7),16)/255,t.length===9&&(this.a=parseInt(t.substring(7,9),16)/255),this)}toLinearSpace(t=!1){const i=new g;return this.toLinearSpaceToRef(i,t),i}toLinearSpaceToRef(t,i=!1){return i?(t.r=d(this.r),t.g=d(this.g),t.b=d(this.b)):(t.r=R(this.r),t.g=R(this.g),t.b=R(this.b)),t.a=this.a,this}toGammaSpace(t=!1){const i=new g;return this.toGammaSpaceToRef(i,t),i}toGammaSpaceToRef(t,i=!1){return i?(t.r=F(this.r),t.g=F(this.g),t.b=F(this.b)):(t.r=T(this.r),t.g=T(this.g),t.b=T(this.b)),t.a=this.a,this}static FromHexString(t){return t.substring(0,1)!=="#"||t.length!==9&&t.length!==7?new g(0,0,0,0):new g(0,0,0,1).fromHexString(t)}static Lerp(t,i,s){return g.LerpToRef(t,i,s,new g)}static LerpToRef(t,i,s,r){return r.r=t.r+(i.r-t.r)*s,r.g=t.g+(i.g-t.g)*s,r.b=t.b+(i.b-t.b)*s,r.a=t.a+(i.a-t.a)*s,r}static Hermite(t,i,s,r,n){const e=n*n,a=n*e,u=2*a-3*e+1,f=-2*a+3*e,b=a-2*e+n,w=a-e,M=t.r*u+s.r*f+i.r*b+r.r*w,I=t.g*u+s.g*f+i.g*b+r.g*w,S=t.b*u+s.b*f+i.b*b+r.b*w,B=t.a*u+s.a*f+i.a*b+r.a*w;return new g(M,I,S,B)}static Hermite1stDerivative(t,i,s,r,n){const e=new g;return this.Hermite1stDerivativeToRef(t,i,s,r,n,e),e}static Hermite1stDerivativeToRef(t,i,s,r,n,e){const a=n*n;e.r=(a-n)*6*t.r+(3*a-4*n+1)*i.r+(-a+n)*6*s.r+(3*a-2*n)*r.r,e.g=(a-n)*6*t.g+(3*a-4*n+1)*i.g+(-a+n)*6*s.g+(3*a-2*n)*r.g,e.b=(a-n)*6*t.b+(3*a-4*n+1)*i.b+(-a+n)*6*s.b+(3*a-2*n)*r.b,e.a=(a-n)*6*t.a+(3*a-4*n+1)*i.a+(-a+n)*6*s.a+(3*a-2*n)*r.a}static FromColor3(t,i=1){return new g(t.r,t.g,t.b,i)}static FromArray(t,i=0){return new g(t[i],t[i+1],t[i+2],t[i+3])}static FromArrayToRef(t,i=0,s){s.r=t[i],s.g=t[i+1],s.b=t[i+2],s.a=t[i+3]}static FromInts(t,i,s,r){return new g(t/255,i/255,s/255,r/255)}static CheckColors4(t,i){if(t.length===i*3){const s=[];for(let r=0;r<t.length;r+=3){const n=r/3*4;s[n]=t[r],s[n+1]=t[r+1],s[n+2]=t[r+2],s[n+3]=1}return s}return t}}g._V8PerformanceHack=new g(.5,.5,.5,.5);Object.defineProperties(g.prototype,{dimension:{value:[4]},rank:{value:1}});class H{}H.Color3=P(3,c.Black);H.Color4=P(3,()=>new g(0,0,0,0));A("BABYLON.Color3",c);A("BABYLON.Color4",g);const j=Object.freeze(Object.defineProperty({__proto__:null,Color3:c,Color4:g,TmpColors:H},Symbol.toStringTag,{value:"Module"}));export{q as B,o as C,E,D as G,k as H,U as I,W as L,Y as N,z as P,A as R,H as T,m as W,V as _,c as a,g as b,L as c,G as d,N as e,P as f,j as m};
