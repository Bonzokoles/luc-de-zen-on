import{p as V,i as X,t as M,s as i,c as o,b as y,a as x,h as T,j as c,k as Z,g as n,e as W,n as r,u as S,v,w as u,x as D}from"./Header.astro_astro_type_script_index_0_lang.C3v9REYp.js";/* empty css                          */import"./react.0nTXIzv_.js";if(typeof MessageChannel>"u"){class d{constructor(){this.onmessage=null}postMessage(t){const s={data:t};(typeof queueMicrotask=="function"?queueMicrotask:p=>setTimeout(p,0))(()=>this.onmessage&&this.onmessage(s))}start(){}close(){}}class g{constructor(){this.port1=new d,this.port2=new d;const t=(s,p)=>{const w={data:p};(typeof queueMicrotask=="function"?queueMicrotask:b=>setTimeout(b,0))(()=>s.onmessage&&s.onmessage(w))};this.port1.postMessage=s=>t(this.port2,s),this.port2.postMessage=s=>t(this.port1,s)}}globalThis.MessageChannel=g}const ee="https://luc-de-zen-on.stolarnia-ams.workers.dev";async function se(d,g={}){try{const l=`${ee}${d}`;console.log(`🌐 Wywołanie Worker API: ${l}`);const t=await fetch(l,{headers:{"Content-Type":"application/json",...g.headers},...g});if(!t.ok){const p=await t.text();throw console.error(`❌ Worker API błąd: ${t.status} - ${p}`),new Error(`Worker API error: ${t.status} - ${p}`)}const s=await t.json();return console.log("✅ Worker API sukces:",s),s}catch(l){throw console.error("🚨 Błąd Worker API:",l),l}}async function C(d,g){return se(d,{method:"POST",body:JSON.stringify(g)})}var ae=M('<div class="response-box svelte-1og5v91"><strong class="svelte-1og5v91">Odpowiedź:</strong> <p class="svelte-1og5v91"> </p></div>'),te=M('<div class="response-box svelte-1og5v91"><strong class="svelte-1og5v91">Status:</strong> <p class="svelte-1og5v91"> </p></div>'),oe=M(`<div class="api-demo svelte-1og5v91"><h3 class="svelte-1og5v91">🧪 API Demo - Cloudflare Workers</h3> <p class="demo-description svelte-1og5v91">Demonstracja działania naszych API endpointów w środowisku Cloudflare
    Workers</p> <div class="demo-grid svelte-1og5v91"><div class="demo-card svelte-1og5v91"><h4 class="svelte-1og5v91">💬 Chat API Test</h4> <button class="demo-btn svelte-1og5v91"><!></button> <!></div> <div class="demo-card svelte-1og5v91"><h4 class="svelte-1og5v91">🎨 Image Generator Test</h4> <button class="demo-btn svelte-1og5v91"><!></button> <!></div> <div class="demo-card svelte-1og5v91"><h4 class="svelte-1og5v91">📊 Data Analysis Test</h4> <button class="demo-btn svelte-1og5v91"><!></button> <div class="response-box svelte-1og5v91"><strong class="svelte-1og5v91">Info:</strong> <p class="svelte-1og5v91">Sprawdź konsolę przeglądarki (F12) aby zobaczyć wynik analizy</p></div></div></div> <div class="integration-info svelte-1og5v91"><h4 class="svelte-1og5v91">📋 Implementacja w kodzie:</h4> <pre class="code-example svelte-1og5v91"><code class="svelte-1og5v91"></code></pre></div> <div class="features-list svelte-1og5v91"><h4 class="svelte-1og5v91">✨ Funkcjonalności systemu:</h4> <ul class="svelte-1og5v91"><li class="svelte-1og5v91">🔄 Centralne API z obsługą CORS i błędów</li> <li class="svelte-1og5v91">🎯 Jednolite endpointy dla wszystkich Workers</li> <li class="svelte-1og5v91">🛡️ Walidacja danych i bezpieczne zapytania</li> <li class="svelte-1og5v91">📊 Monitoring i logowanie aktywności</li> <li class="svelte-1og5v91">⚡ Optymalizacja dla Cloudflare Edge</li> <li class="svelte-1og5v91">🔧 Łatwa integracja z Svelte/Astro</li></ul></div></div>`);function ne(d,g){V(g,!1);let l=W(""),t=W(""),s=W(!1);async function p(){v(s,!0);try{const e=await C("/api/chat",{message:"Napisz krótki wiersz o AI"});v(l,e.message||e.result||"Odpowiedź otrzymana")}catch(e){v(l,`Błąd: ${e.message}`)}finally{v(s,!1)}}async function w(){v(s,!0);try{const e=await C("/api/generate-image",{prompt:"Beautiful sunset over mountains"});v(t,e.result||"Obrazek wygenerowany pomyślnie")}catch(e){v(t,`Błąd: ${e.message}`)}finally{v(s,!1)}}async function b(){v(s,!0);try{const e=await C("/api/data-analyze",{data:[1,2,3,4,5],analysis:"basic_stats"});console.log("Analysis result:",e)}catch(e){console.error("Analysis error:",e)}finally{v(s,!1)}}X();var _=oe(),A=i(o(_),4),z=o(A),m=i(o(z),2),B=o(m);{var q=e=>{var a=u("⏳ Przetwarzanie...");c(e,a)},E=e=>{var a=u("🚀 Test Chat API");c(e,a)};y(B,e=>{n(s)?e(q):e(E,!1)})}r(m);var $=i(m,2);{var F=e=>{var a=ae(),f=i(o(a),2),P=o(f,!0);r(f),r(a),x(()=>D(P,n(l))),c(e,a)};y($,e=>{n(l)&&e(F)})}r(z);var I=i(z,2),h=i(o(I),2),G=o(h);{var J=e=>{var a=u("⏳ Generowanie...");c(e,a)},N=e=>{var a=u("🎨 Test Image API");c(e,a)};y(G,e=>{n(s)?e(J):e(N,!1)})}r(h);var Y=i(h,2);{var K=e=>{var a=te(),f=i(o(a),2),P=o(f,!0);r(f),r(a),x(()=>D(P,n(t))),c(e,a)};y(Y,e=>{n(t)&&e(K)})}r(I);var j=i(I,2),k=i(o(j),2),L=o(k);{var U=e=>{var a=u("⏳ Analizowanie...");c(e,a)},H=e=>{var a=u("📊 Test Analyze API");c(e,a)};y(L,e=>{n(s)?e(U):e(H,!1)})}r(k),S(2),r(j),r(A);var R=i(A,2),O=i(o(R),2),Q=o(O);Q.textContent=`// Import API functions
import { postToWorker } from '../cloudflareApi';

// Chat API usage
const chatResponse = await postToWorker('/api/chat', {
  message: 'Your message here'
});

// Image generation usage  
const imageResponse = await postToWorker('/api/generate-image', {
  prompt: 'Your image description'
});

// Data analysis usage
const analysisResponse = await postToWorker('/api/data-analyze', {
  data: yourDataArray,
  analysis: 'basic_stats'
});`,r(O),r(R),S(2),r(_),x(()=>{m.disabled=n(s),h.disabled=n(s),k.disabled=n(s)}),T("click",m,p),T("click",h,w),T("click",k,b),c(d,_),Z()}export{ne as default};
