import"./disclose-version.DsnmJJEf.js";import"./legacy.kkaBD5aU.js";import{o as nt}from"./index-client.CI4zVHyS.js";import{p as lt,m as g,g as e,a as F,f as b,s as r,c as t,t as j,b as u,d as dt,h as d,r as a,n as $,e as ct,i as Re,q as _e,k as ge}from"./template.BqTI6ysn.js";import{e as S,s as m}from"./render.DLtPj5hE.js";import{i as y}from"./if.CL3_9eW_.js";import{e as vt}from"./each.BgQDu70D.js";import{r as V,a as pt}from"./attributes.CMoobVFc.js";import{s as X}from"./class.Cwo7PGLY.js";import{b as he,a as we}from"./input.BDyfk_mK.js";import{b as Fe}from"./select.CpkoEXAE.js";import{i as ut}from"./lifecycle.CZxN27Pe.js";/* empty css                                    */import"./index.DIeogL5L.js";import"./attributes.BJtm3mOD.js";var mt=b('<div class="mb-6 p-4 bg-red-900/20 border border-red-500/50 rounded-lg"><p class="text-red-300"> </p> <button class="mt-2 text-sm text-red-400 hover:text-red-300">Zamknij</button></div>'),bt=b('<div class="mb-6 p-4 bg-gray-900/50 border border-cyan-500/30 rounded-lg"><h3 class="text-lg font-semibold mb-4 text-cyan-400"> </h3> <div class="grid grid-cols-1 md:grid-cols-2 gap-4"><div><label class="block text-sm font-medium mb-2">Tytuł *</label> <input type="text" placeholder="Wpisz tytuł przypomnienia" class="w-full p-3 bg-gray-800 border border-gray-600 rounded focus:border-cyan-400 focus:outline-none" required/></div> <div><label class="block text-sm font-medium mb-2">Data i godzina *</label> <input type="datetime-local" class="w-full p-3 bg-gray-800 border border-gray-600 rounded focus:border-cyan-400 focus:outline-none" required/></div> <div class="md:col-span-2"><label class="block text-sm font-medium mb-2">Opis</label> <textarea placeholder="Opcjonalny opis przypomnienia" rows="3" class="w-full p-3 bg-gray-800 border border-gray-600 rounded focus:border-cyan-400 focus:outline-none resize-none"></textarea></div> <div><label class="block text-sm font-medium mb-2">Priorytet</label> <select class="w-full p-3 bg-gray-800 border border-gray-600 rounded focus:border-cyan-400 focus:outline-none"><option>🟢 Niski</option><option>🟡 Średni</option><option>🔴 Wysoki</option></select></div> <div><label class="block text-sm font-medium mb-2">Powtarzanie</label> <select class="w-full p-3 bg-gray-800 border border-gray-600 rounded focus:border-cyan-400 focus:outline-none"><option>Jednorazowe</option><option>Codziennie</option><option>Co tydzień</option><option>Co miesiąc</option></select></div> <div class="md:col-span-2"><label class="block text-sm font-medium mb-2">Powiadomienia</label> <div class="flex space-x-6"><label class="flex items-center"><input type="checkbox" class="mr-2 accent-cyan-500"/> 📧 Email</label> <label class="flex items-center"><input type="checkbox" class="mr-2 accent-cyan-500"/> 🔔 Push</label> <label class="flex items-center"><input type="checkbox" class="mr-2 accent-cyan-500"/> 📱 SMS</label></div></div></div> <div class="flex justify-end space-x-3 mt-4"><button class="px-4 py-2 bg-gray-700/50 hover:bg-gray-600/50 rounded text-sm font-semibold transition-colors">Anuluj</button> <button class="px-4 py-2 bg-cyan-700/50 hover:bg-cyan-600/50 rounded text-sm font-semibold transition-colors"> </button></div></div>'),ft=b('<div class="text-center py-8"><div class="animate-spin w-8 h-8 border-2 border-cyan-400 border-t-transparent rounded-full mx-auto mb-4"></div> <p class="text-gray-400">Ładowanie przypomnień...</p></div>'),yt=b('<div class="text-center py-8"><p class="text-gray-400">Brak przypomnień</p> <button class="mt-4 px-4 py-2 bg-cyan-700/50 hover:bg-cyan-600/50 rounded text-sm font-semibold transition-colors">Utwórz pierwsze przypomnienie</button></div>'),xt=b('<span class="text-xs px-2 py-1 rounded bg-purple-900/50 text-purple-300"> </span>'),_t=b("<p> </p>"),gt=b('<span class="text-red-400 ml-1">(PRZETERMINOWANE)</span>'),ht=b('<span class="text-yellow-400 ml-1">(DZISIAJ)</span>'),wt=b("<span>📧</span>"),Dt=b("<span>🔔</span>"),kt=b("<span>📱</span>"),zt=b('<div><div class="flex items-start justify-between"><div class="flex items-start space-x-3 flex-1"><button class="mt-1 text-xl hover:scale-110 transition-transform"> </button> <div class="flex-1"><div class="flex items-center space-x-2 mb-1"><span> </span> <span> </span> <!></div> <!> <div class="flex items-center space-x-4 text-sm text-gray-400"><div class="flex items-center space-x-1"><span>📅</span> <span> <!></span></div> <div class="flex items-center space-x-2"><!> <!> <!></div></div></div></div> <div class="flex items-center space-x-2 ml-4"><button class="px-2 py-1 bg-yellow-700/50 hover:bg-yellow-600/50 rounded text-xs font-semibold transition-colors">✏️</button> <button class="px-2 py-1 bg-red-700/50 hover:bg-red-600/50 rounded text-xs font-semibold transition-colors">🗑️</button></div></div></div>'),jt=b('<div class="bg-black/80 backdrop-blur-sm border border-cyan-500/30 rounded-xl p-6 text-cyan-300 max-h-[800px] overflow-hidden"><div class="flex items-center justify-between mb-6"><div class="flex items-center space-x-3"><div class="w-3 h-3 bg-cyan-400 rounded-full animate-pulse"></div> <h2 class="text-2xl font-bold text-cyan-400">HARMONOGRAM I PRZYPOMNIENIA</h2></div> <button class="px-4 py-2 bg-cyan-700/50 hover:bg-cyan-600/50 rounded text-sm font-semibold transition-colors"> </button></div> <div class="grid grid-cols-2 md:grid-cols-4 gap-4 mb-6"><div class="bg-gray-900/50 border border-cyan-500/20 rounded-lg p-4 text-center"><div class="text-2xl font-bold text-cyan-400"> </div> <div class="text-sm text-gray-400">Łącznie</div></div> <div class="bg-green-900/20 border border-green-500/30 rounded-lg p-4 text-center"><div class="text-2xl font-bold text-green-400"> </div> <div class="text-sm text-gray-400">Zakończone</div></div> <div class="bg-red-900/20 border border-red-500/30 rounded-lg p-4 text-center"><div class="text-2xl font-bold text-red-400"> </div> <div class="text-sm text-gray-400">Przeterminowane</div></div> <div class="bg-yellow-900/20 border border-yellow-500/30 rounded-lg p-4 text-center"><div class="text-2xl font-bold text-yellow-400"> </div> <div class="text-sm text-gray-400">Dzisiaj</div></div></div> <!> <!> <div class="space-y-3 max-h-96 overflow-y-auto custom-scrollbar svelte-1seyal6"><!></div></div>');function qt($e,Ce){lt(Ce,!1);let ne=F([]),q=F({total:0,completed:0,overdue:0,today:0,high:0,medium:0,low:0}),le=F(!0),f=F(""),h=F(!1),C=F(null),s=F({title:"",description:"",dueDate:"",priority:"medium",notifications:{email:!0,push:!1,sms:!1},recurrence:void 0});const Ae={low:"text-green-400 border-green-500",medium:"text-yellow-400 border-yellow-500",high:"text-red-400 border-red-500"},Ze={low:"🟢",medium:"🟡",high:"🔴"};async function ee(){try{d(le,!0);const n=await(await fetch("/api/reminders")).json();n.success?(d(ne,n.reminders),d(q,n.stats)):d(f,n.message||"Failed to fetch reminders")}catch(i){d(f,"Network error occurred"),console.error("Error fetching reminders:",i)}finally{d(le,!1)}}async function Je(){if(!e(s).title.trim()||!e(s).dueDate){d(f,"Tytuł i data są wymagane");return}try{const n=await(await fetch("/api/reminders",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...e(s),userId:`user${Math.floor(Math.random()*1e3)}`})})).json();n.success?(De(),d(h,!1),await ee()):d(f,n.message||"Failed to create reminder")}catch(i){d(f,"Failed to create reminder"),console.error("Error creating reminder:",i)}}async function qe(i,n){try{const w=await(await fetch("/api/reminders",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:i,...n})})).json();w.success?(await ee(),d(C,null)):d(f,w.message||"Failed to update reminder")}catch(p){d(f,"Failed to update reminder"),console.error("Error updating reminder:",p)}}async function He(i){if(confirm("Czy na pewno chcesz usunąć to przypomnienie?"))try{const p=await(await fetch(`/api/reminders?id=${i}`,{method:"DELETE"})).json();p.success?await ee():d(f,p.message||"Failed to delete reminder")}catch(n){d(f,"Failed to delete reminder"),console.error("Error deleting reminder:",n)}}function De(){d(s,{title:"",description:"",dueDate:"",priority:"medium",notifications:{email:!0,push:!1,sms:!1},recurrence:void 0})}function Le(i){return new Date(i).toLocaleString("pl-PL",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}function de(i){return new Date(i).getTime()<Date.now()}function ce(i){const n=new Date;return new Date(i).toDateString()===n.toDateString()}function Ue(){const i=new Date;return i.setMinutes(i.getMinutes()+5),i.toISOString().slice(0,16)}nt(()=>{ee();const i=new Date;i.setHours(i.getHours()+1),g(s,e(s).dueDate=i.toISOString().slice(0,16))}),ut();var ve=jt(),pe=t(ve),ue=r(t(pe),2),We=t(ue,!0);a(ue),a(pe);var me=r(pe,2),be=t(me),ke=t(be),Be=t(ke,!0);a(ke),$(2),a(be);var fe=r(be,2),ze=t(fe),Ge=t(ze,!0);a(ze),$(2),a(fe);var ye=r(fe,2),je=t(ye),Ye=t(je,!0);a(je),$(2),a(ye);var Se=r(ye,2),Ee=t(Se),Ke=t(Ee,!0);a(Ee),$(2),a(Se),a(me);var Oe=r(me,2);{var Qe=i=>{var n=mt(),p=t(n),w=t(p);a(p);var E=r(p,2);a(n),j(()=>m(w,`❌ ${e(f)??""}`)),S("click",E,()=>d(f,"")),u(i,n)};y(Oe,i=>{e(f)&&i(Qe)})}var Me=r(Oe,2);{var Ve=i=>{var n=bt(),p=t(n),w=t(p,!0);a(p);var E=r(p,2),x=t(E),_=r(t(x),2);V(_),a(x);var O=r(x,2),M=r(t(O),2);V(M),a(O);var o=r(O,2),T=r(t(o),2);ct(T),a(o);var A=r(o,2),I=r(t(A),2);j(()=>{e(s),Re(()=>{})});var D=t(I);D.value=D.__value="low";var H=r(D);H.value=H.__value="medium";var L=r(H);L.value=L.__value="high",a(I),a(A);var N=r(A,2),k=r(t(N),2);j(()=>{e(s),Re(()=>{})});var U=t(k);U.value=(U.__value=void 0)??"";var z=r(U);z.value=z.__value="daily";var W=r(z);W.value=W.__value="weekly";var te=r(W);te.value=te.__value="monthly",a(k),a(N);var ae=r(N,2),B=r(t(ae),2),G=t(B),Y=t(G);V(Y),$(),a(G);var P=r(G,2),Z=t(P);V(Z),$(),a(P);var K=r(P,2),re=t(K);V(re),$(),a(K),a(B),a(ae),a(E);var oe=r(E,2),ie=t(oe),J=r(ie,2),se=t(J,!0);a(J),a(oe),a(n),j(v=>{m(w,e(C)?"Edytuj przypomnienie":"Nowe przypomnienie"),pt(M,"min",v),m(se,e(C)?"Zaktualizuj":"Utwórz")},[Ue]),he(_,()=>e(s).title,v=>g(s,e(s).title=v)),he(M,()=>e(s).dueDate,v=>g(s,e(s).dueDate=v)),he(T,()=>e(s).description,v=>g(s,e(s).description=v)),Fe(I,()=>e(s).priority,v=>g(s,e(s).priority=v)),Fe(k,()=>e(s).recurrence,v=>g(s,e(s).recurrence=v)),we(Y,()=>e(s).notifications.email,v=>g(s,e(s).notifications.email=v)),we(Z,()=>e(s).notifications.push,v=>g(s,e(s).notifications.push=v)),we(re,()=>e(s).notifications.sms,v=>g(s,e(s).notifications.sms=v)),S("click",ie,()=>{d(h,!1),d(C,null),De()}),S("click",J,Je),u(i,n)};y(Me,i=>{(e(h)||e(C))&&i(Ve)})}var Te=r(Me,2),Xe=t(Te);{var et=i=>{var n=ft();u(i,n)},tt=i=>{var n=_e(),p=ge(n);{var w=x=>{var _=yt(),O=r(t(_),2);a(_),S("click",O,()=>d(h,!0)),u(x,_)},E=x=>{var _=_e(),O=ge(_);vt(O,1,()=>e(ne),M=>M.id,(M,o)=>{var T=zt(),A=t(T),I=t(A),D=t(I),H=t(D,!0);a(D);var L=r(D,2),N=t(L),k=t(N),U=t(k,!0);a(k);var z=r(k,2),W=t(z);a(z);var te=r(z,2);{var ae=l=>{var c=xt(),R=t(c);a(c),j(()=>m(R,`🔄 ${e(o).recurrence??""}`)),u(l,c)};y(te,l=>{e(o).recurrence&&l(ae)})}a(N);var B=r(N,2);{var G=l=>{var c=_t(),R=t(c,!0);a(c),j(()=>{X(c,1,`text-sm text-gray-300 mb-2 ${e(o).completed?"line-through":""}`),m(R,e(o).description)}),u(l,c)};y(B,l=>{e(o).description&&l(G)})}var Y=r(B,2),P=t(Y),Z=r(t(P),2),K=t(Z),re=r(K);{var oe=l=>{var c=gt();u(l,c)},ie=l=>{var c=_e(),R=ge(c);{var xe=Q=>{var st=ht();u(Q,st)};y(R,Q=>{ce(e(o).dueDate)&&!e(o).completed&&Q(xe)},!0)}u(l,c)};y(re,l=>{de(e(o).dueDate)&&!e(o).completed?l(oe):l(ie,!1)})}a(Z),a(P);var J=r(P,2),se=t(J);{var v=l=>{var c=wt();u(l,c)};y(se,l=>{e(o).notifications.email&&l(v)})}var Ie=r(se,2);{var at=l=>{var c=Dt();u(l,c)};y(Ie,l=>{e(o).notifications.push&&l(at)})}var rt=r(Ie,2);{var ot=l=>{var c=kt();u(l,c)};y(rt,l=>{e(o).notifications.sms&&l(ot)})}a(J),a(Y),a(L),a(I);var Ne=r(I,2),Pe=t(Ne),it=r(Pe,2);a(Ne),a(A),a(T),j((l,c,R,xe,Q)=>{X(T,1,`bg-gray-900/30 border border-gray-700/50 rounded-lg p-4 hover:border-cyan-500/50 transition-colors
          ${e(o).completed?"opacity-60":""}
          ${l??""}
          ${c??""}
        `),m(H,e(o).completed?"✅":"⭕"),X(k,1,`font-semibold text-cyan-300 ${e(o).completed?"line-through":""}`),m(U,e(o).title),X(z,1,`text-sm px-2 py-1 rounded border ${Ae[e(o).priority]??""} bg-gray-800/50`,"svelte-1seyal6"),m(W,`${Ze[e(o).priority]??""} ${e(o).priority??""}`),X(Z,1,`${R??""}
                                ${xe??""}`),m(K,`${Q??""} `)},[()=>de(e(o).dueDate)&&!e(o).completed?"border-red-500/50 bg-red-900/10":"",()=>ce(e(o).dueDate)&&!e(o).completed?"border-yellow-500/50 bg-yellow-900/10":"",()=>de(e(o).dueDate)&&!e(o).completed?"text-red-400 font-semibold":"",()=>ce(e(o).dueDate)&&!e(o).completed?"text-yellow-400 font-semibold":"",()=>Le(e(o).dueDate)]),S("click",D,()=>qe(e(o).id,{completed:!e(o).completed})),S("click",Pe,()=>{d(C,e(o)),d(s,{title:e(o).title,description:e(o).description,dueDate:new Date(e(o).dueDate).toISOString().slice(0,16),priority:e(o).priority,notifications:{...e(o).notifications},recurrence:e(o).recurrence}),d(h,!0)}),S("click",it,()=>He(e(o).id)),u(M,T)}),u(x,_)};y(p,x=>{e(ne).length===0?x(w):x(E,!1)},!0)}u(i,n)};y(Xe,i=>{e(le)?i(et):i(tt,!1)})}a(Te),a(ve),j(()=>{m(We,e(h)?"❌ Anuluj":"➕ Nowe przypomnienie"),m(Be,e(q).total),m(Ge,e(q).completed),m(Ye,e(q).overdue),m(Ke,e(q).today)}),S("click",ue,()=>d(h,!e(h))),u($e,ve),dt()}export{qt as default};
