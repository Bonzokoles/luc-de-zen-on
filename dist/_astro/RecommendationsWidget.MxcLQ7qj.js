import{p as ue,i as ge,t as v,s,c as a,b as f,a as h,y as D,g as r,e as j,x,d as K,v as l,h as L,j as p,k as ye,q as be,n as t,l as me,B as fe,A as he,u as xe,C as _e}from"./Header.astro_astro_type_script_index_0_lang.C3v9REYp.js";/* empty css                                              */import"./react.0nTXIzv_.js";if(typeof MessageChannel>"u"){class z{constructor(){this.onmessage=null}postMessage(u){const o={data:u};(typeof queueMicrotask=="function"?queueMicrotask:d=>setTimeout(d,0))(()=>this.onmessage&&this.onmessage(o))}start(){}close(){}}class P{constructor(){this.port1=new z,this.port2=new z;const u=(o,d)=>{const m={data:d};(typeof queueMicrotask=="function"?queueMicrotask:q=>setTimeout(q,0))(()=>o.onmessage&&o.onmessage(m))};this.port1.postMessage=o=>u(this.port2,o),this.port2.postMessage=o=>u(this.port1,o)}}globalThis.MessageChannel=P}var we=v('<button class="px-6 py-3 bg-gray-700/50 border border-gray-600/50 text-white rounded-lg font-semibold hover:bg-gray-600/50 hover:border-gray-500/50 transition-all duration-300 disabled:opacity-50 uppercase tracking-wide">OdÅ›wieÅ¼</button>'),ke=v('<div class="p-4 bg-red-900/30 border border-red-500/50 rounded-lg text-red-300 font-mono"> </div>'),je=v('<div class="text-center py-8"><div class="text-cyan-400 mb-4"><div class="w-12 h-12 mx-auto border-4 border-cyan-500/30 border-t-cyan-500 rounded-full animate-spin"></div></div> <p class="text-cyan-300 uppercase tracking-wide">AnalizujÄ™ preferencje i generujÄ™ rekomendacje...</p></div>'),ze=v('<span class="px-2 py-1 bg-gray-800/50 border border-gray-600/30 text-xs rounded text-gray-300 uppercase tracking-wide"> </span>'),qe=v('<div class="mb-3"><span class="text-cyan-400 text-sm font-semibold uppercase tracking-wide">Dlaczego dla Ciebie:</span> <p class="text-gray-400 text-sm italic font-mono"> </p></div>'),Me=v('<div class="flex justify-between items-center"><span class="px-3 py-1 bg-cyan-900/20 border border-cyan-500/30 text-cyan-300 text-xs rounded uppercase tracking-wide font-semibold"> </span> <button class="px-4 py-2 bg-gradient-to-r from-cyan-600 to-cyan-700 text-white text-sm rounded hover:from-cyan-500 hover:to-cyan-600 transition-all duration-300 uppercase tracking-wide font-semibold border border-cyan-500/50">Dowiedz siÄ™ wiÄ™cej</button></div>'),Pe=v('<div><div class="flex justify-between items-start mb-3"><h4 class="text-white font-bold text-lg uppercase tracking-wide"> </h4> <!></div> <p class="text-gray-300 mb-3 leading-relaxed font-mono text-sm"> </p> <!> <!></div>'),Ce=v('<div class="mt-6"><h3 class="text-lg font-semibold text-cyan-300 mb-4 uppercase tracking-wider"> </h3> <div class="grid gap-4"></div></div>'),Se=v(`<div class="text-center py-8 text-gray-500"><div class="text-4xl mb-2">ğŸ¤–</div> <p class="font-mono uppercase tracking-wide">Brak rekomendacji dla podanych preferencji. SprÃ³buj ponownie z innymi
          danymi.</p></div>`),Te=v('<div class="worker-card bg-black border border-cyan-500/30 p-6 rounded-lg shadow-2xl svelte-bqqj6t"><div class="mb-6"><h2 class="text-2xl font-bold text-cyan-300 mb-2 uppercase tracking-wider">Personalizowane rekomendacje</h2> <p class="text-gray-400">System rekomendacji produktÃ³w i usÅ‚ug oparty na preferencjach uÅ¼ytkownika</p></div> <div class="space-y-4"><div><label for="preferences" class="block text-cyan-300 font-medium mb-2 uppercase text-sm tracking-wide">Preferencje uÅ¼ytkownika</label> <textarea id="preferences" placeholder="Wpisz preferencje uÅ¼ytkownika (np. technologie, marketing, e-commerce)..." rows="3" class="w-full p-3 bg-gray-900/80 border border-gray-600/50 rounded-lg text-white placeholder-gray-500 focus:border-cyan-500 focus:outline-none focus:ring-2 focus:ring-cyan-500/30 font-mono"></textarea></div> <div><label for="history" class="block text-cyan-300 font-medium mb-2 uppercase text-sm tracking-wide">Historia uÅ¼ytkownika (opcjonalnie)</label> <input id="history" placeholder="Historia zakupÃ³w, odwiedzonych stron (oddziel przecinkami)..." class="w-full p-3 bg-gray-900/80 border border-gray-600/50 rounded-lg text-white placeholder-gray-500 focus:border-cyan-500 focus:outline-none focus:ring-2 focus:ring-cyan-500/30 font-mono"></div> <div class="flex gap-4"><button class="px-6 py-3 bg-gradient-to-r from-cyan-600 to-cyan-700 text-white rounded-lg font-semibold hover:from-cyan-500 hover:to-cyan-600 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed shadow-lg border border-cyan-500/50 uppercase tracking-wide"> </button> <!></div> <!> <!> <!> <!></div></div>');function Ae(z,P){ue(P,!1);let b=j(""),u=j(""),o=j([]),d=j(!1),m=j("");async function q(){if(!r(b).trim()){l(m,"ProszÄ™ podaÄ‡ preferencje uÅ¼ytkownika");return}l(d,!0),l(m,"");try{const e=r(u).trim()?r(u).split(",").map(R=>R.trim()):[],g=await(await fetch("/api/get-recommendations",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({preferences:r(b),history:e,userProfile:{timestamp:new Date().toISOString()}})})).json();g.success?l(o,g.recommendations||[]):l(m,g.error||"WystÄ…piÅ‚ bÅ‚Ä…d podczas generowania rekomendacji")}catch(e){l(m,"BÅ‚Ä…d poÅ‚Ä…czenia z serwerem"),console.error("Error:",e)}finally{l(d,!1)}}function Q(){l(o,[]),q()}function U(e){return e>=4?"border-green-400 bg-green-900/10":e>=3?"border-yellow-400 bg-yellow-900/10":"border-gray-500 bg-gray-900/10"}function V(e){return e>=4?"Wysoki priorytet":e>=3?"Åšredni priorytet":"Niski priorytet"}ge();var C=Te(),G=s(a(C),2),S=a(G),H=s(a(S),2);be(H),t(S);var T=s(S,2),N=s(a(T),2);me(N),t(T);var O=s(T,2),w=a(O),X=a(w,!0);t(w);var Y=s(w,2);{var Z=e=>{var i=we();h(()=>i.disabled=r(d)),L("click",i,Q),p(e,i)};f(Y,e=>{r(o).length>0&&e(Z)})}t(O);var $=s(O,2);{var ee=e=>{var i=ke(),g=a(i,!0);t(i),h(()=>x(g,r(m))),p(e,i)};f($,e=>{r(m)&&e(ee)})}var E=s($,2);{var re=e=>{var i=je();p(e,i)};f(E,e=>{r(d)&&e(re)})}var I=s(E,2);{var te=e=>{var i=Ce(),g=a(i),R=a(g);t(g);var J=s(g,2);fe(J,5,()=>r(o),_e,(ie,y)=>{var M=Pe(),W=a(M),A=a(W),se=a(A,!0);t(A);var ne=s(A,2);{var de=n=>{var c=ze(),_=a(c,!0);t(c),h(k=>x(_,k),[()=>V(r(y).priority)],D),p(n,c)};f(ne,n=>{r(y).priority&&n(de)})}t(W);var B=s(W,2),ce=a(B,!0);t(B);var F=s(B,2);{var le=n=>{var c=qe(),_=s(a(c),2),k=a(_,!0);t(_),t(c),h(()=>x(k,r(y).reason)),p(n,c)};f(F,n=>{r(y).reason&&n(le)})}var pe=s(F,2);{var ve=n=>{var c=Me(),_=a(c),k=a(_,!0);t(_),xe(2),t(c),h(()=>x(k,r(y).category)),p(n,c)};f(pe,n=>{r(y).category&&n(ve)})}t(M),h(n=>{he(M,1,`p-4 rounded-lg border ${n??""} transition-all duration-300 hover:shadow-xl hover:border-opacity-80 bg-gray-900/20`,"svelte-bqqj6t"),x(se,r(y).title),x(ce,r(y).description)},[()=>U(r(y).priority||3)],D),p(ie,M)}),t(J),t(i),h(()=>x(R,`Rekomendacje dla Ciebie (${r(o).length??""})`)),p(e,i)};f(I,e=>{r(o).length>0&&!r(d)&&e(te)})}var ae=s(I,2);{var oe=e=>{var i=Se();p(e,i)};f(ae,e=>{!r(d)&&r(o).length===0&&r(b)&&e(oe)})}t(G),t(C),h(e=>{w.disabled=e,x(X,r(d)?"GenerujÄ™...":"Generuj rekomendacje")},[()=>r(d)||!r(b).trim()],D),K(H,()=>r(b),e=>l(b,e)),K(N,()=>r(u),e=>l(u,e)),L("click",w,q),p(z,C),ye()}export{Ae as default};
