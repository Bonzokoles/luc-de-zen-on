import"./disclose-version.DsnmJJEf.js";import"./legacy.kkaBD5aU.js";import{p as V,f as W,s as r,c as a,t as z,b as v,d as X,g as i,a as I,r as o,n as O,h as c,j as f}from"./template.BqTI6ysn.js";import{e as P,s as S}from"./render.DLtPj5hE.js";import{i as y}from"./if.CL3_9eW_.js";import{i as Z}from"./lifecycle.CZxN27Pe.js";/* empty css                          */import"./index.DIeogL5L.js";const ee="https://luc-de-zen-on.stolarnia-ams.workers.dev";async function te(p,d={}){try{const l=`${ee}${p}`;console.log(`🌐 Wywołanie Worker API: ${l}`);const n=await fetch(l,{headers:{"Content-Type":"application/json",...d.headers},...d});if(!n.ok){const g=await n.text();throw console.error(`❌ Worker API błąd: ${n.status} - ${g}`),new Error(`Worker API error: ${n.status} - ${g}`)}const s=await n.json();return console.log("✅ Worker API sukces:",s),s}catch(l){throw console.error("🚨 Błąd Worker API:",l),l}}async function x(p,d){return te(p,{method:"POST",body:JSON.stringify(d)})}var se=W('<div class="response-box svelte-ftk53j"><strong class="svelte-ftk53j">Odpowiedź:</strong> <p class="svelte-ftk53j"> </p></div>'),ae=W('<div class="response-box svelte-ftk53j"><strong class="svelte-ftk53j">Status:</strong> <p class="svelte-ftk53j"> </p></div>'),oe=W(`<div class="api-demo svelte-ftk53j"><h3 class="svelte-ftk53j">🧪 API Demo - Cloudflare Workers</h3> <p class="demo-description svelte-ftk53j">Demonstracja działania naszych API endpointów w środowisku Cloudflare
    Workers</p> <div class="demo-grid svelte-ftk53j"><div class="demo-card svelte-ftk53j"><h4 class="svelte-ftk53j">💬 Chat API Test</h4> <button class="demo-btn svelte-ftk53j"><!></button> <!></div> <div class="demo-card svelte-ftk53j"><h4 class="svelte-ftk53j">🎨 Image Generator Test</h4> <button class="demo-btn svelte-ftk53j"><!></button> <!></div> <div class="demo-card svelte-ftk53j"><h4 class="svelte-ftk53j">📊 Data Analysis Test</h4> <button class="demo-btn svelte-ftk53j"><!></button> <div class="response-box svelte-ftk53j"><strong class="svelte-ftk53j">Info:</strong> <p class="svelte-ftk53j">Sprawdź konsolę przeglądarki (F12) aby zobaczyć wynik analizy</p></div></div></div> <div class="integration-info svelte-ftk53j"><h4 class="svelte-ftk53j">📋 Implementacja w kodzie:</h4> <pre class="code-example svelte-ftk53j"><code class="svelte-ftk53j"></code></pre></div> <div class="features-list svelte-ftk53j"><h4 class="svelte-ftk53j">✨ Funkcjonalności systemu:</h4> <ul class="svelte-ftk53j"><li class="svelte-ftk53j">🔄 Centralne API z obsługą CORS i błędów</li> <li class="svelte-ftk53j">🎯 Jednolite endpointy dla wszystkich Workers</li> <li class="svelte-ftk53j">🛡️ Walidacja danych i bezpieczne zapytania</li> <li class="svelte-ftk53j">📊 Monitoring i logowanie aktywności</li> <li class="svelte-ftk53j">⚡ Optymalizacja dla Cloudflare Edge</li> <li class="svelte-ftk53j">🔧 Łatwa integracja z Svelte/Astro</li></ul></div></div>`);function pe(p,d){V(d,!1);let l=I(""),n=I(""),s=I(!1);async function g(){c(s,!0);try{const e=await x("/api/chat",{message:"Napisz krótki wiersz o AI"});c(l,e.message||e.result||"Odpowiedź otrzymana")}catch(e){c(l,`Błąd: ${e.message}`)}finally{c(s,!1)}}async function D(){c(s,!0);try{const e=await x("/api/generate-image",{prompt:"Beautiful sunset over mountains"});c(n,e.result||"Obrazek wygenerowany pomyślnie")}catch(e){c(n,`Błąd: ${e.message}`)}finally{c(s,!1)}}async function B(){c(s,!0);try{const e=await x("/api/data-analyze",{data:[1,2,3,4,5],analysis:"basic_stats"});console.log("Analysis result:",e)}catch(e){console.error("Analysis error:",e)}finally{c(s,!1)}}Z();var h=oe(),w=r(a(h),4),b=a(w),k=r(a(b),2),E=a(k);{var $=e=>{var t=f("⏳ Przetwarzanie...");v(e,t)},F=e=>{var t=f("🚀 Test Chat API");v(e,t)};y(E,e=>{i(s)?e($):e(F,!1)})}o(k);var G=r(k,2);{var J=e=>{var t=se(),u=r(a(t),2),A=a(u,!0);o(u),o(t),z(()=>S(A,i(l))),v(e,t)};y(G,e=>{i(l)&&e(J)})}o(b);var _=r(b,2),m=r(a(_),2),N=a(m);{var Y=e=>{var t=f("⏳ Generowanie...");v(e,t)},K=e=>{var t=f("🎨 Test Image API");v(e,t)};y(N,e=>{i(s)?e(Y):e(K,!1)})}o(m);var L=r(m,2);{var M=e=>{var t=ae(),u=r(a(t),2),A=a(u,!0);o(u),o(t),z(()=>S(A,i(n))),v(e,t)};y(L,e=>{i(n)&&e(M)})}o(_);var T=r(_,2),j=r(a(T),2),U=a(j);{var q=e=>{var t=f("⏳ Analizowanie...");v(e,t)},H=e=>{var t=f("📊 Test Analyze API");v(e,t)};y(U,e=>{i(s)?e(q):e(H,!1)})}o(j),O(2),o(T),o(w);var C=r(w,2),R=r(a(C),2),Q=a(R);Q.textContent=`// Import API functions
import { postToWorker } from '../cloudflareApi';

// Chat API usage
const chatResponse = await postToWorker('/api/chat', {
  message: 'Your message here'
});

// Image generation usage  
const imageResponse = await postToWorker('/api/generate-image', {
  prompt: 'Your image description'
});

// Data analysis usage
const analysisResponse = await postToWorker('/api/data-analyze', {
  data: yourDataArray,
  analysis: 'basic_stats'
});`,o(R),o(C),O(2),o(h),z(()=>{k.disabled=i(s),m.disabled=i(s),j.disabled=i(s)}),P("click",k,g),P("click",m,D),P("click",j,B),v(p,h),X()}export{pe as default};
