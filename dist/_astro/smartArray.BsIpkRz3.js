class h{constructor(t){this.length=0,this.data=new Array(t),this._id=h._GlobalId++}push(t){this.data[this.length++]=t,this.length>this.data.length&&(this.data.length*=2)}forEach(t){for(let s=0;s<this.length;s++)t(this.data[s])}sort(t){this.data.sort(t)}reset(){this.length=0}dispose(){this.reset(),this.data&&(this.data.length=0)}concat(t){if(t.length!==0){this.length+t.length>this.data.length&&(this.data.length=(this.length+t.length)*2);for(let s=0;s<t.length;s++)this.data[this.length++]=(t.data||t)[s]}}indexOf(t){const s=this.data.indexOf(t);return s>=this.length?-1:s}contains(t){return this.indexOf(t)!==-1}}h._GlobalId=0;class n extends h{constructor(){super(...arguments),this._duplicateId=0}push(t){super.push(t),t.__smartArrayFlags||(t.__smartArrayFlags={}),t.__smartArrayFlags[this._id]=this._duplicateId}pushNoDuplicate(t){return t.__smartArrayFlags&&t.__smartArrayFlags[this._id]===this._duplicateId?!1:(this.push(t),!0)}reset(){super.reset(),this._duplicateId++}concatWithNoDuplicate(t){if(t.length!==0){this.length+t.length>this.data.length&&(this.data.length=(this.length+t.length)*2);for(let s=0;s<t.length;s++){const i=(t.data||t)[s];this.pushNoDuplicate(i)}}}}export{h as S,n as a};
