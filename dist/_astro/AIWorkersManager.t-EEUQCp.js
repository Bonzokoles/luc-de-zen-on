import"./disclose-version.DsnmJJEf.js";import"./legacy.kkaBD5aU.js";import{o as Zs}from"./index-client.CI4zVHyS.js";import{p as qs,f as m,t as f,c as o,s as a,g as e,b as u,d as Fs,h as n,a as b,r,i as ks,m as rs}from"./template.BqTI6ysn.js";import{e as y,s as v}from"./render.DLtPj5hE.js";import{i as S}from"./if.CL3_9eW_.js";import{e as ys,i as xs}from"./each.BgQDu70D.js";import{r as os}from"./attributes.CMoobVFc.js";import{s as Ts}from"./class.Cwo7PGLY.js";import{b as ns}from"./input.BDyfk_mK.js";import{b as $s}from"./select.CpkoEXAE.js";import{p as Qs}from"./event-modifiers.D4Caz1gY.js";import{i as Rs}from"./lifecycle.CZxN27Pe.js";/* empty css                                    */import"./index.DIeogL5L.js";import"./attributes.BJtm3mOD.js";var Vs=m('<div class="alert error svelte-1sonwds"><span class="icon">❌</span> <button class="close-btn svelte-1sonwds">✕</button></div>'),Xs=m('<div class="alert success svelte-1sonwds"><span class="icon">✅</span> <button class="close-btn svelte-1sonwds">✕</button></div>'),Ys=m('<div class="loading svelte-1sonwds"><div class="spinner svelte-1sonwds"></div> <span>Przetwarzanie...</span></div>'),se=m("<option> </option>"),ee=m('<div class="empty-state svelte-1sonwds"><span class="icon svelte-1sonwds">🤖</span> <p>Brak workers. Utwórz pierwszy!</p></div>'),ae=m('<div><div class="worker-header svelte-1sonwds"><h4 class="svelte-1sonwds"> </h4> <span class="worker-type svelte-1sonwds"> </span></div> <div class="worker-details svelte-1sonwds"><p class="svelte-1sonwds"><strong>Model:</strong> </p> <p class="svelte-1sonwds"><strong>Endpoint:</strong> <code class="svelte-1sonwds"> </code></p> <p class="svelte-1sonwds"><strong>Status:</strong> <span> </span></p></div> <div class="worker-actions svelte-1sonwds"><button class="btn-test svelte-1sonwds">🧪 Test</button> <button class="btn-select svelte-1sonwds">📋 Wybierz</button> <button class="btn-danger svelte-1sonwds">🗑️ Usuń</button></div></div>'),te=m('<div class="workers-grid svelte-1sonwds"></div>'),re=m('<div class="selected-worker-section svelte-1sonwds"><h3> </h3> <div class="worker-details-expanded svelte-1sonwds"><div class="detail-group svelte-1sonwds"><h4 class="svelte-1sonwds">Konfiguracja:</h4> <pre class="config-json svelte-1sonwds"> </pre></div> <div class="detail-group svelte-1sonwds"><h4 class="svelte-1sonwds">Metadane:</h4> <p><strong>ID:</strong> </p> <p><strong>Created:</strong> </p> <p><strong>Last Used:</strong> </p></div></div></div>'),oe=m('<div class="ai-workers-manager svelte-1sonwds"><div class="header svelte-1sonwds"><h2 class="svelte-1sonwds">🤖 AI Workers Manager</h2> <p class="subtitle svelte-1sonwds">Zarządzaj AI Workers w środowisku Cloudflare</p></div> <!> <!> <!> <div class="create-worker-section svelte-1sonwds"><h3>➕ Utwórz Nowy Worker</h3> <form class="worker-form svelte-1sonwds"><div class="form-group svelte-1sonwds"><label for="worker-name" class="svelte-1sonwds">Nazwa Worker:</label> <input id="worker-name" type="text" placeholder="np. Chat Assistant v2" required class="svelte-1sonwds"/></div> <div class="form-group svelte-1sonwds"><label for="worker-type" class="svelte-1sonwds">Typ Worker:</label> <select id="worker-type" class="svelte-1sonwds"></select></div> <div class="config-section"><h4>Konfiguracja AI:</h4> <div class="form-row svelte-1sonwds"><div class="form-group svelte-1sonwds"><label for="model" class="svelte-1sonwds">Model:</label> <select id="model" class="svelte-1sonwds"><option>Llama 3.1 8B</option><option>Llama 3.1 70B</option><option>Gemma 7B</option></select></div> <div class="form-group svelte-1sonwds"><label for="max-tokens" class="svelte-1sonwds">Max Tokens:</label> <input id="max-tokens" type="number" min="100" max="4000" class="svelte-1sonwds"/></div> <div class="form-group svelte-1sonwds"><label for="temperature" class="svelte-1sonwds">Temperature:</label> <input id="temperature" type="range" min="0" max="2" step="0.1" class="svelte-1sonwds"/> <span class="range-value svelte-1sonwds"> </span></div></div></div> <button type="submit" class="btn-primary svelte-1sonwds">🚀 Utwórz Worker</button></form></div> <div class="workers-list-section svelte-1sonwds"><div class="section-header svelte-1sonwds"><h3> </h3> <button class="btn-secondary svelte-1sonwds">🔄 Odśwież</button></div> <!></div> <!></div>');function ye(zs,Ws){qs(Ws,!1);let z=b([]),_=b(null),d=b(!1),c=b(""),g=b(""),h=b(""),W=b("chat"),p=b({model:"llama-3.1-8b-instant",maxTokens:1e3,temperature:.7});const O=[{id:"chat",name:"Chat AI",endpoint:"/api/chat"},{id:"image",name:"Image Generator",endpoint:"/api/generate-image"},{id:"analyze",name:"Data Analyzer",endpoint:"/api/data-analyze"},{id:"search",name:"Search Assistant",endpoint:"/api/search"}];Zs(async()=>{await C()});async function C(){n(d,!0),n(c,"");try{const s=await fetch("/api/ai-workers?action=list",{method:"GET",headers:{"Content-Type":"application/json"}});if(!s.ok)throw new Error(`HTTP ${s.status}: ${s.statusText}`);const t=await s.json();n(z,t.workers||[]),console.log("✅ Załadowano workers:",e(z).length)}catch(s){n(c,`Błąd ładowania workers: ${s.message||s}`),console.error("❌ Błąd:",s)}finally{n(d,!1)}}async function js(){if(!e(h).trim()){n(c,"Nazwa worker jest wymagana");return}n(d,!0),n(c,""),n(g,"");try{const s={action:"create",name:e(h),type:e(W),config:e(p),endpoint:O.find(i=>i.id===e(W))?.endpoint},t=await fetch("/api/ai-workers",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});if(!t.ok)throw new Error(`HTTP ${t.status}: ${t.statusText}`);const l=await t.json();n(g,`Worker "${e(h)}" został utworzony pomyślnie!`),n(h,""),await C()}catch(s){n(c,`Błąd tworzenia worker: ${s.message||s}`)}finally{n(d,!1)}}async function As(s){n(d,!0),n(c,"");try{const t={action:"test",workerId:s.id,testData:{message:"Test connectivity",prompt:"Say hello in a creative way"}},l=await fetch("/api/ai-workers",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!l.ok)throw new Error(`HTTP ${l.status}: ${l.statusText}`);const i=await l.json();n(g,`Worker "${s.name}" odpowiada poprawnie: ${i.result?.response||i.message}`)}catch(t){n(c,`Worker "${s.name}" błąd: ${t.message||t}`)}finally{n(d,!1)}}async function Ns(s){if(confirm("Czy na pewno chcesz usunąć tego worker?")){n(d,!0),n(c,"");try{const t=await fetch("/api/ai-workers",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"delete",workerId:s})});if(!t.ok)throw new Error(`HTTP ${t.status}: ${t.statusText}`);n(g,"Worker został usunięty pomyślnie"),await C()}catch(t){n(c,`Błąd usuwania worker: ${t.message||t}`)}finally{n(d,!1)}}}function Ss(s){n(_,s)}function is(){n(c,""),n(g,"")}Rs();var P=oe(),ls=a(o(P),2);{var Cs=s=>{var t=Vs(),l=a(o(t)),i=a(l);r(t),f(()=>v(l,` ${e(c)??""} `)),y("click",i,is),u(s,t)};S(ls,s=>{e(c)&&s(Cs)})}var ds=a(ls,2);{var Bs=s=>{var t=Xs(),l=a(o(t)),i=a(l);r(t),f(()=>v(l,` ${e(g)??""} `)),y("click",i,is),u(s,t)};S(ds,s=>{e(g)&&s(Bs)})}var vs=a(ds,2);{var Is=s=>{var t=Ys();u(s,t)};S(vs,s=>{e(d)&&s(Is)})}var D=a(vs,2),E=a(o(D),2),U=o(E),cs=a(o(U),2);os(cs),r(U);var H=a(U,2),J=a(o(H),2);f(()=>{e(W),ks(()=>{})}),ys(J,5,()=>O,xs,(s,t)=>{var l=se(),i=o(l,!0);r(l);var w={};f(()=>{v(i,e(t).name),w!==(w=e(t).id)&&(l.value=(l.__value=e(t).id)??"")}),u(s,l)}),r(J),r(H);var L=a(H,2),ps=a(o(L),2),G=o(ps),K=a(o(G),2);f(()=>{e(p),ks(()=>{})});var Z=o(K);Z.value=Z.__value="llama-3.1-8b-instant";var q=a(Z);q.value=q.__value="llama-3.1-70b-versatile";var ws=a(q);ws.value=ws.__value="gemma-7b-it",r(K),r(G);var F=a(G,2),us=a(o(F),2);os(us),r(F);var ms=a(F,2),Q=a(o(ms),2);os(Q);var _s=a(Q,2),Ms=o(_s,!0);r(_s),r(ms),r(ps),r(L);var Os=a(L,2);r(E),r(D);var R=a(D,2),V=o(R),X=o(V),Ps=o(X);r(X);var fs=a(X,2);r(V);var Ds=a(V,2);{var Es=s=>{var t=ee();u(s,t)},Us=s=>{var t=te();ys(t,5,()=>e(z),xs,(l,i)=>{var w=ae();let x;var T=o(w),j=o(T),B=o(j,!0);r(j);var $=a(j,2),Y=o($,!0);r($),r(T);var k=a(T,2),A=o(k),I=a(o(A));r(A);var N=a(A,2),M=a(o(N),2),Ls=o(M,!0);r(M),r(N);var bs=a(N,2),ss=a(o(bs),2),Gs=o(ss,!0);r(ss),r(bs),r(k);var gs=a(k,2),es=o(gs),as=a(es,2),hs=a(as,2);r(gs),r(w),f((ts,Ks)=>{x=Ts(w,1,"worker-card svelte-1sonwds",null,x,ts),v(B,e(i).name),v(Y,Ks),v(I,` ${e(i).config?.model||"N/A"}`),v(Ls,e(i).endpoint),Ts(ss,1,`status ${e(i).status||"active"}`,"svelte-1sonwds"),v(Gs,e(i).status||"active"),es.disabled=e(d),as.disabled=e(d),hs.disabled=e(d)},[()=>({selected:e(_)?.id===e(i).id}),()=>O.find(ts=>ts.id===e(i).type)?.name||e(i).type]),y("click",es,()=>As(e(i))),y("click",as,()=>Ss(e(i))),y("click",hs,()=>Ns(e(i).id)),u(l,w)}),r(t),u(s,t)};S(Ds,s=>{e(z).length===0&&!e(d)?s(Es):s(Us,!1)})}r(R);var Hs=a(R,2);{var Js=s=>{var t=re(),l=o(t),i=o(l);r(l);var w=a(l,2),x=o(w),T=a(o(x),2),j=o(T,!0);r(T),r(x);var B=a(x,2),$=a(o(B),2),Y=a(o($));r($);var k=a($,2),A=a(o(k));r(k);var I=a(k,2),N=a(o(I));r(I),r(B),r(w),r(t),f(M=>{v(i,`🎯 Szczegóły Worker: ${e(_).name??""}`),v(j,M),v(Y,` ${e(_).id??""}`),v(A,` ${e(_).created||"N/A"}`),v(N,` ${e(_).lastUsed||"N/A"}`)},[()=>JSON.stringify(e(_).config,null,2)]),u(s,t)};S(Hs,s=>{e(_)&&s(Js)})}r(P),f(s=>{v(Ms,e(p).temperature),Os.disabled=s,v(Ps,`📋 Lista Workers (${e(z).length??""})`),fs.disabled=e(d)},[()=>e(d)||!e(h).trim()]),ns(cs,()=>e(h),s=>n(h,s)),$s(J,()=>e(W),s=>n(W,s)),$s(K,()=>e(p).model,s=>rs(p,e(p).model=s)),ns(us,()=>e(p).maxTokens,s=>rs(p,e(p).maxTokens=s)),ns(Q,()=>e(p).temperature,s=>rs(p,e(p).temperature=s)),y("submit",E,Qs(js)),y("click",fs,C),u(zs,P),Fs()}export{ye as default};
