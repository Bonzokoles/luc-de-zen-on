import"./disclose-version.DsnmJJEf.js";import"./legacy.kkaBD5aU.js";import{p as je,l as ee,o as Qe,f as w,s as r,c as a,b as p,d as Ce,h as i,g as e,a as g,r as s,t as x,u as c,k as ce,q as Se}from"./template.BqTI6ysn.js";import{s as _,e as I}from"./render.DLtPj5hE.js";import{i as j}from"./if.CL3_9eW_.js";import{e as F,i as H}from"./each.BgQDu70D.js";import{s as G}from"./class.Cwo7PGLY.js";import{s as Ie}from"./style.eybEfuFE.js";import{i as Ne}from"./lifecycle.CZxN27Pe.js";/* empty css                                     */import"./index.DIeogL5L.js";import"./attributes.BJtm3mOD.js";var Te=w('<button><div class="topic-name svelte-14iho1h"> </div> <div class="topic-description svelte-14iho1h"> </div></button>'),Ue=w('<button><div class="difficulty-name svelte-14iho1h"> </div> <div class="difficulty-description svelte-14iho1h"> </div></button>'),Oe=w('<div class="quiz-setup svelte-14iho1h"><div class="setup-section svelte-14iho1h"><h3 class="setup-title svelte-14iho1h">📖 Wybierz temat</h3> <div class="topics-grid svelte-14iho1h"></div></div> <div class="setup-section svelte-14iho1h"><h3 class="setup-title svelte-14iho1h">⚡ Poziom trudności</h3> <div class="difficulty-grid svelte-14iho1h"></div></div> <button class="start-quiz-btn svelte-14iho1h">🚀 Rozpocznij Quiz</button></div>'),De=w('<div class="loading-container svelte-14iho1h"><div class="loading-spinner svelte-14iho1h"></div> <p class="loading-text svelte-14iho1h">Generowanie quizu AI...</p></div>'),Ee=w('<div class="error-container svelte-14iho1h"><p class="error-text svelte-14iho1h"> </p> <button class="retry-btn svelte-14iho1h">Spróbuj ponownie</button></div>'),Je=w("<button> </button>"),Me=w('<div class="feedback-container svelte-14iho1h"><p class="feedback-text svelte-14iho1h"> </p></div>'),Re=w('<button class="submit-btn svelte-14iho1h">Zatwierdź odpowiedź</button>'),We=w('<div class="quiz-progress svelte-14iho1h"><div class="progress-bar svelte-14iho1h"><div class="progress-fill svelte-14iho1h"></div></div> <div class="progress-text svelte-14iho1h"> </div></div> <div class="question-container svelte-14iho1h"><h3 class="question-text svelte-14iho1h"> </h3> <div class="answers-grid svelte-14iho1h"></div> <!></div>',1),Ze=w('<div class="review-answer correct svelte-14iho1h"> </div>'),Be=w('<div class="review-explanation svelte-14iho1h"> </div>'),Xe=w('<div class="answer-review svelte-14iho1h"><div class="review-question svelte-14iho1h"><span class="question-number svelte-14iho1h"></span> </div> <div class="review-answers svelte-14iho1h"><div> </div> <!> <!></div></div>'),Ge=w('<div class="results-container svelte-14iho1h"><h3 class="results-title svelte-14iho1h">🎉 Quiz ukończony!</h3> <div class="score-display svelte-14iho1h"><div class="score-circle svelte-14iho1h"><span> </span></div> <p class="score-description svelte-14iho1h"> </p></div> <div class="answers-review svelte-14iho1h"><h4 class="review-title svelte-14iho1h">📝 Przegląd odpowiedzi</h4> <!></div> <div class="results-actions svelte-14iho1h"><button class="retry-quiz-btn svelte-14iho1h">🔄 Nowy Quiz</button> <button class="share-results-btn svelte-14iho1h">📤 Udostępnij wynik</button></div></div>'),Ke=w('<div class="quiz-widget-container svelte-14iho1h"><h2 class="widget-title svelte-14iho1h">🧠 Interaktywny Quiz AI</h2> <!> <!> <!> <!> <!></div>');function nt(le,he){je(he,!1);const W=g(),te=g(),Z=g();let $=g(""),E=g("beginner"),d=g(null),y=g(0),q=g(""),B=g([]),N=g(0),J=g(!1),M=g(""),X=g(!1),Q=g("");const ie=[{id:"programming",name:"💻 Programowanie",description:"JavaScript, Python, React, Node.js"},{id:"design",name:"🎨 Design & UX",description:"UI/UX design, design thinking, prototyping"},{id:"data-science",name:"📊 Data Science",description:"Machine learning, statystyka, Python, R"},{id:"marketing",name:"📢 Marketing",description:"Digital marketing, SEO, content marketing"},{id:"business",name:"💼 Business",description:"Zarządzanie, finanse, strategia biznesowa"},{id:"ai",name:"🤖 Sztuczna Inteligencja",description:"AI, machine learning, deep learning"}],ue=[{id:"beginner",name:"🌱 Początkujący",description:"Podstawowe pytania wprowadzające"},{id:"intermediate",name:"⚡ Średniozaawansowany",description:"Pytania wymagające analizy"},{id:"advanced",name:"🔥 Zaawansowany",description:"Kompleksowe scenariusze"},{id:"expert",name:"💎 Ekspert",description:"Najwyższy poziom trudności"}];async function pe(){if(!e($)){i(M,"Proszę wybrać temat quizu");return}try{i(M,""),i(J,!0),i(X,!1),i(q,""),i(B,[]),i(N,0),i(y,0);const t=await fetch("/api/quiz",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({topic:e($),difficulty:e(E),questionCount:5})});if(!t.ok)throw new Error("Błąd podczas generowania quizu");const n=await t.json();i(d,n.quiz)}catch(t){i(M,t.message??"Nieznany błąd podczas generowania quizu"),console.error("Quiz generation error:",t)}finally{i(J,!1)}}function _e(t){i(Q,""),i(q,t)}async function fe(){if(!e(q)||!e(d))return;const t=e(d).questions[e(y)],n=e(q)===t.correctAnswer;n&&i(N,e(N)+1);try{const f=await(await fetch("/api/quiz-feedback",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({question:t.question,selectedAnswer:e(q),correctAnswer:t.correctAnswer,isCorrect:n,topic:e($),difficulty:e(E)})})).json();i(Q,f.feedback??(n?"Poprawna odpowiedź!":"Niepoprawna odpowiedź."))}catch{i(Q,n?"Poprawna odpowiedź!":"Niepoprawna odpowiedź.")}i(B,[...e(B),{question:t.question,selectedAnswer:e(q),correctAnswer:t.correctAnswer,isCorrect:n,explanation:t.explanation}]),setTimeout(me,900)}function me(){i(Q,""),i(q,""),e(d)&&(e(y)<e(d).questions.length-1?i(y,e(y)+1):i(X,!0))}function se(){i($,""),i(E,"beginner"),i(d,null),i(y,0),i(q,""),i(B,[]),i(N,0),i(J,!1),i(M,""),i(X,!1),i(Q,"")}function ge(t){return t>=80?"good":t>=50?"avg":"bad"}ee(()=>(e(d),e(y)),()=>{i(W,e(d)?.questions[e(y)])}),ee(()=>(e(d),e(y)),()=>{i(te,e(d)?(e(y)+1)/e(d).questions.length*100:0)}),ee(()=>(e(d),e(N)),()=>{i(Z,e(d)?Math.round(e(N)/e(d).questions.length*100):0)}),Qe(),Ne();var V=Ke(),ae=r(a(V),2);{var we=t=>{var n=Oe(),l=a(n),f=r(a(l),2);F(f,5,()=>ie,H,(C,v)=>{var h=Te(),m=a(h),S=a(m,!0);s(m);var A=r(m,2),k=a(A,!0);s(A),s(h),x(()=>{G(h,1,`topic-card ${e($),e(v),c(()=>e($)===e(v).id?"selected":"")??""}`,"svelte-14iho1h"),_(S,(e(v),c(()=>e(v).name))),_(k,(e(v),c(()=>e(v).description)))}),I("click",h,()=>i($,e(v).id)),p(C,h)}),s(f),s(l);var z=r(l,2),T=r(a(z),2);F(T,5,()=>ue,H,(C,v)=>{var h=Ue(),m=a(h),S=a(m,!0);s(m);var A=r(m,2),k=a(A,!0);s(A),s(h),x(()=>{G(h,1,`difficulty-card ${e(E),e(v),c(()=>e(E)===e(v).id?"selected":"")??""}`,"svelte-14iho1h"),_(S,(e(v),c(()=>e(v).name))),_(k,(e(v),c(()=>e(v).description)))}),I("click",h,()=>i(E,e(v).id)),p(C,h)}),s(T),s(z);var U=r(z,2);s(n),x(()=>U.disabled=!e($)),I("click",U,pe),p(t,n)};j(ae,t=>{!e(d)&&!e(J)&&t(we)})}var re=r(ae,2);{var be=t=>{var n=De();p(t,n)};j(re,t=>{e(J)&&t(be)})}var oe=r(re,2);{var ye=t=>{var n=Ee(),l=a(n),f=a(l);s(l);var z=r(l,2);s(n),x(()=>_(f,`❌ ${e(M)??""}`)),I("click",z,se),p(t,n)};j(oe,t=>{e(M)&&t(ye)})}var ne=r(oe,2);{var ze=t=>{var n=We(),l=ce(n),f=a(l),z=a(f);s(f);var T=r(f,2),U=a(T);s(T),s(l);var C=r(l,2),v=a(C),h=a(v,!0);s(v);var m=r(v,2);F(m,5,()=>(e(W),c(()=>e(W)?.answers??[])),H,(o,b)=>{var u=Je(),P=a(u,!0);s(u),x(()=>{G(u,1,`answer-btn ${e(q)===e(b)?"selected":""}`,"svelte-14iho1h"),u.disabled=e(Q)!=="",_(P,e(b))}),I("click",u,()=>_e(e(b))),p(o,u)}),s(m);var S=r(m,2);{var A=o=>{var b=Me(),u=a(b),P=a(u,!0);s(u),s(b),x(()=>_(P,e(Q))),p(o,b)},k=o=>{var b=Se(),u=ce(b);{var P=R=>{var K=Re();I("click",K,fe),p(R,K)};j(u,R=>{e(q)&&R(P)},!0)}p(o,b)};j(S,o=>{e(Q)?o(A):o(k,!1)})}s(C),x(()=>{Ie(z,`width: ${e(te)??""}%`),_(U,`Pytanie ${e(y)+1} z ${e(d),c(()=>e(d).questions.length)??""}`),_(h,(e(W),c(()=>e(W)?.question)))}),p(t,n)};j(ne,t=>{e(d)&&!e(X)&&!e(J)&&t(ze)})}var ke=r(ne,2);{var xe=t=>{var n=Ge(),l=r(a(n),2),f=a(l),z=a(f),T=a(z);s(z),s(f);var U=r(f,2),C=a(U);s(U),s(l);var v=r(l,2),h=r(a(v),2);F(h,1,()=>e(B),H,(k,o,b)=>{var u=Xe(),P=a(u),R=a(P);R.textContent=`#${b+1}`;var K=r(R);s(P);var ve=r(P,2),L=a(ve),qe=a(L);s(L);var de=r(L,2);{var $e=O=>{var D=Ze(),Y=a(D);s(D),x(()=>_(Y,`Poprawna odpowiedź: ${e(o),c(()=>e(o).correctAnswer)??""} ✅`)),p(O,D)};j(de,O=>{e(o),c(()=>!e(o).isCorrect)&&O($e)})}var Ae=r(de,2);{var Pe=O=>{var D=Be(),Y=a(D);s(D),x(()=>_(Y,`💡 ${e(o),c(()=>e(o).explanation)??""}`)),p(O,D)};j(Ae,O=>{e(o),c(()=>e(o).explanation)&&O(Pe)})}s(ve),s(u),x(()=>{_(K,` ${e(o),c(()=>e(o).question)??""}`),G(L,1,`review-answer ${e(o),c(()=>e(o).isCorrect?"correct":"incorrect")??""}`,"svelte-14iho1h"),_(qe,`Twoja odpowiedź: ${e(o),c(()=>e(o).selectedAnswer)??""}
                ${e(o),c(()=>e(o).isCorrect?"✅":"❌")??""}`)}),p(k,u)}),s(v);var m=r(v,2),S=a(m),A=r(S,2);s(m),s(n),x(k=>{G(z,1,`score-text ${k??""}`,"svelte-14iho1h"),_(T,`${e(Z)??""}%`),_(C,`Uzyskałeś ${e(N)??""} z ${e(d),c(()=>e(d).questions.length)??""} punktów`)},[()=>(e(Z),c(()=>ge(e(Z))))]),I("click",S,se),I("click",A,()=>navigator.clipboard.writeText(`Ukończyłem quiz AI! Wynik: ${e(Z)}% w kategorii ${ie.find(k=>k.id===e($))?.name}`)),p(t,n)};j(ke,t=>{e(X)&&e(d)&&t(xe)})}s(V),p(le,V),Ce()}export{nt as default};
