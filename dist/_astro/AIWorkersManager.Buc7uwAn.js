import{H as Ks,i as Zs,f as h,a as A,t as g,A as xs,c as r,s as a,b as ns,g as e,e as Ts,h as x,j as f,k as Xs,p as Fs,v as n,d as k,l as is,n as o,o as zs,B as $s,x as c,m as ls,X as Qs,z as Ws}from"./Header.astro_astro_type_script_index_0_lang.AXIbBUBV.js";/* empty css                                    */import"./react.CU-GxeNQ.js";if(typeof MessageChannel>"u"){class N{constructor(){this.onmessage=null}postMessage(p){const i={data:p};(typeof queueMicrotask=="function"?queueMicrotask:v=>setTimeout(v,0))(()=>this.onmessage&&this.onmessage(i))}start(){}close(){}}class O{constructor(){this.port1=new N,this.port2=new N;const p=(i,v)=>{const m={data:v};(typeof queueMicrotask=="function"?queueMicrotask:_=>setTimeout(_,0))(()=>i.onmessage&&i.onmessage(m))};this.port1.postMessage=i=>p(this.port2,i),this.port2.postMessage=i=>p(this.port1,i)}}globalThis.MessageChannel=O}var Rs=h('<div class="alert error svelte-1sonwds"><span class="icon">❌</span> <button class="close-btn svelte-1sonwds">✕</button></div>'),Vs=h('<div class="alert success svelte-1sonwds"><span class="icon">✅</span> <button class="close-btn svelte-1sonwds">✕</button></div>'),Ys=h('<div class="loading svelte-1sonwds"><div class="spinner svelte-1sonwds"></div> <span>Przetwarzanie...</span></div>'),se=h("<option> </option>"),ee=h('<div class="empty-state svelte-1sonwds"><span class="icon svelte-1sonwds">🤖</span> <p>Brak workers. Utwórz pierwszy!</p></div>'),ae=h('<div><div class="worker-header svelte-1sonwds"><h4 class="svelte-1sonwds"> </h4> <span class="worker-type svelte-1sonwds"> </span></div> <div class="worker-details svelte-1sonwds"><p class="svelte-1sonwds"><strong>Model:</strong> </p> <p class="svelte-1sonwds"><strong>Endpoint:</strong> <code class="svelte-1sonwds"> </code></p> <p class="svelte-1sonwds"><strong>Status:</strong> <span> </span></p></div> <div class="worker-actions svelte-1sonwds"><button class="btn-test svelte-1sonwds">🧪 Test</button> <button class="btn-select svelte-1sonwds">📋 Wybierz</button> <button class="btn-danger svelte-1sonwds">🗑️ Usuń</button></div></div>'),te=h('<div class="workers-grid svelte-1sonwds"></div>'),oe=h('<div class="selected-worker-section svelte-1sonwds"><h3> </h3> <div class="worker-details-expanded svelte-1sonwds"><div class="detail-group svelte-1sonwds"><h4 class="svelte-1sonwds">Konfiguracja:</h4> <pre class="config-json svelte-1sonwds"> </pre></div> <div class="detail-group svelte-1sonwds"><h4 class="svelte-1sonwds">Metadane:</h4> <p><strong>ID:</strong> </p> <p><strong>Created:</strong> </p> <p><strong>Last Used:</strong> </p></div></div></div>'),re=h('<div class="ai-workers-manager svelte-1sonwds"><div class="header svelte-1sonwds"><h2 class="svelte-1sonwds">🤖 AI Workers Manager</h2> <p class="subtitle svelte-1sonwds">Zarządzaj AI Workers w środowisku Cloudflare</p></div> <!> <!> <!> <div class="create-worker-section svelte-1sonwds"><h3>➕ Utwórz Nowy Worker</h3> <form class="worker-form svelte-1sonwds"><div class="form-group svelte-1sonwds"><label for="worker-name" class="svelte-1sonwds">Nazwa Worker:</label> <input id="worker-name" type="text" placeholder="np. Chat Assistant v2" required class="svelte-1sonwds"/></div> <div class="form-group svelte-1sonwds"><label for="worker-type" class="svelte-1sonwds">Typ Worker:</label> <select id="worker-type" class="svelte-1sonwds"></select></div> <div class="config-section"><h4>Konfiguracja AI:</h4> <div class="form-row svelte-1sonwds"><div class="form-group svelte-1sonwds"><label for="model" class="svelte-1sonwds">Model:</label> <select id="model" class="svelte-1sonwds"><option>Llama 3.1 8B</option><option>Llama 3.1 70B</option><option>Gemma 7B</option></select></div> <div class="form-group svelte-1sonwds"><label for="max-tokens" class="svelte-1sonwds">Max Tokens:</label> <input id="max-tokens" type="number" min="100" max="4000" class="svelte-1sonwds"/></div> <div class="form-group svelte-1sonwds"><label for="temperature" class="svelte-1sonwds">Temperature:</label> <input id="temperature" type="range" min="0" max="2" step="0.1" class="svelte-1sonwds"/> <span class="range-value svelte-1sonwds"> </span></div></div></div> <button type="submit" class="btn-primary svelte-1sonwds">🚀 Utwórz Worker</button></form></div> <div class="workers-list-section svelte-1sonwds"><div class="section-header svelte-1sonwds"><h3> </h3> <button class="btn-secondary svelte-1sonwds">🔄 Odśwież</button></div> <!></div> <!></div>');function de(N,O){Fs(O,!1);let b=k([]),p=k(null),i=k(!1),v=k(""),m=k(""),_=k(""),W=k("chat"),u=k({model:"llama-3.1-8b-instant",maxTokens:1e3,temperature:.7});const D=[{id:"chat",name:"Chat AI",endpoint:"/api/chat"},{id:"image",name:"Image Generator",endpoint:"/api/generate-image"},{id:"analyze",name:"Data Analyzer",endpoint:"/api/data-analyze"},{id:"search",name:"Search Assistant",endpoint:"/api/search"}];Ks(async()=>{await S()});async function S(){n(i,!0),n(v,"");try{const s=await fetch("/api/ai-workers?action=list",{method:"GET",headers:{"Content-Type":"application/json"}});if(!s.ok)throw new Error(`HTTP ${s.status}: ${s.statusText}`);const t=await s.json();n(b,t.workers||[]),console.log("✅ Załadowano workers:",e(b).length)}catch(s){n(v,`Błąd ładowania workers: ${s.message||s}`),console.error("❌ Błąd:",s)}finally{n(i,!1)}}async function Ms(){if(!e(_).trim()){n(v,"Nazwa worker jest wymagana");return}n(i,!0),n(v,""),n(m,"");try{const s={action:"create",name:e(_),type:e(W),config:e(u),endpoint:D.find(l=>l.id===e(W))?.endpoint},t=await fetch("/api/ai-workers",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});if(!t.ok)throw new Error(`HTTP ${t.status}: ${t.statusText}`);const d=await t.json();n(m,`Worker "${e(_)}" został utworzony pomyślnie!`),n(_,""),await S()}catch(s){n(v,`Błąd tworzenia worker: ${s.message||s}`)}finally{n(i,!1)}}async function js(s){n(i,!0),n(v,"");try{const t={action:"test",workerId:s.id,testData:{message:"Test connectivity",prompt:"Say hello in a creative way"}},d=await fetch("/api/ai-workers",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!d.ok)throw new Error(`HTTP ${d.status}: ${d.statusText}`);const l=await d.json();n(m,`Worker "${s.name}" odpowiada poprawnie: ${l.result?.response||l.message}`)}catch(t){n(v,`Worker "${s.name}" błąd: ${t.message||t}`)}finally{n(i,!1)}}async function Cs(s){if(confirm("Czy na pewno chcesz usunąć tego worker?")){n(i,!0),n(v,"");try{const t=await fetch("/api/ai-workers",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"delete",workerId:s})});if(!t.ok)throw new Error(`HTTP ${t.status}: ${t.statusText}`);n(m,"Worker został usunięty pomyślnie"),await S()}catch(t){n(v,`Błąd usuwania worker: ${t.message||t}`)}finally{n(i,!1)}}}function As(s){n(p,s)}function ds(){n(v,""),n(m,"")}Zs();var E=re(),vs=a(r(E),2);{var Ns=s=>{var t=Rs(),d=a(r(t)),l=a(d);o(t),g(()=>c(d,` ${e(v)??""} `)),x("click",l,ds),f(s,t)};A(vs,s=>{e(v)&&s(Ns)})}var cs=a(vs,2);{var Ss=s=>{var t=Vs(),d=a(r(t)),l=a(d);o(t),g(()=>c(d,` ${e(m)??""} `)),x("click",l,ds),f(s,t)};A(cs,s=>{e(m)&&s(Ss)})}var ps=a(cs,2);{var Ps=s=>{var t=Ys();f(s,t)};A(ps,s=>{e(i)&&s(Ps)})}var U=a(ps,2),q=a(r(U),2),H=r(q),us=a(r(H),2);is(us),o(H);var J=a(H,2),L=a(r(J),2);g(()=>{e(W),zs(()=>{})}),xs(L,5,()=>D,$s,(s,t)=>{var d=se(),l=r(d,!0);o(d);var w={};g(()=>{c(l,e(t).name),w!==(w=e(t).id)&&(d.value=(d.__value=e(t).id)??"")}),f(s,d)}),o(L),o(J);var G=a(J,2),ws=a(r(G),2),K=r(ws),Z=a(r(K),2);g(()=>{e(u),zs(()=>{})});var X=r(Z);X.value=X.__value="llama-3.1-8b-instant";var F=a(X);F.value=F.__value="llama-3.1-70b-versatile";var ms=a(F);ms.value=ms.__value="gemma-7b-it",o(Z),o(K);var Q=a(K,2),_s=a(r(Q),2);is(_s),o(Q);var fs=a(Q,2),R=a(r(fs),2);is(R);var hs=a(R,2),Bs=r(hs,!0);o(hs),o(fs),o(ws),o(G);var Is=a(G,2);o(q),o(U);var V=a(U,2),Y=r(V),ss=r(Y),Os=r(ss);o(ss);var gs=a(ss,2);o(Y);var Ds=a(Y,2);{var Es=s=>{var t=ee();f(s,t)},Us=s=>{var t=te();xs(t,5,()=>e(b),$s,(d,l)=>{var w=ae();let T;var z=r(w),M=r(z),P=r(M,!0);o(M);var $=a(M,2),es=r($,!0);o($),o(z);var y=a(z,2),j=r(y),B=a(r(j));o(j);var C=a(j,2),I=a(r(C),2),Js=r(I,!0);o(I),o(C);var ks=a(C,2),as=a(r(ks),2),Ls=r(as,!0);o(as),o(ks),o(y);var bs=a(y,2),ts=r(bs),os=a(ts,2),ys=a(os,2);o(bs),o(w),g((rs,Gs)=>{T=Ws(w,1,"worker-card svelte-1sonwds",null,T,rs),c(P,e(l).name),c(es,Gs),c(B,` ${e(l).config?.model||"N/A"}`),c(Js,e(l).endpoint),Ws(as,1,`status ${e(l).status||"active"}`,"svelte-1sonwds"),c(Ls,e(l).status||"active"),ts.disabled=e(i),os.disabled=e(i),ys.disabled=e(i)},[()=>({selected:e(p)?.id===e(l).id}),()=>D.find(rs=>rs.id===e(l).type)?.name||e(l).type]),x("click",ts,()=>js(e(l))),x("click",os,()=>As(e(l))),x("click",ys,()=>Cs(e(l).id)),f(d,w)}),o(t),f(s,t)};A(Ds,s=>{e(b).length===0&&!e(i)?s(Es):s(Us,!1)})}o(V);var qs=a(V,2);{var Hs=s=>{var t=oe(),d=r(t),l=r(d);o(d);var w=a(d,2),T=r(w),z=a(r(T),2),M=r(z,!0);o(z),o(T);var P=a(T,2),$=a(r(P),2),es=a(r($));o($);var y=a($,2),j=a(r(y));o(y);var B=a(y,2),C=a(r(B));o(B),o(P),o(w),o(t),g(I=>{c(l,`🎯 Szczegóły Worker: ${e(p).name??""}`),c(M,I),c(es,` ${e(p).id??""}`),c(j,` ${e(p).created||"N/A"}`),c(C,` ${e(p).lastUsed||"N/A"}`)},[()=>JSON.stringify(e(p).config,null,2)]),f(s,t)};A(qs,s=>{e(p)&&s(Hs)})}o(E),g(s=>{c(Bs,e(u).temperature),Is.disabled=s,c(Os,`📋 Lista Workers (${e(b).length??""})`),gs.disabled=e(i)},[()=>e(i)||!e(_).trim()]),ns(us,()=>e(_),s=>n(_,s)),Ts(L,()=>e(W),s=>n(W,s)),Ts(Z,()=>e(u).model,s=>ls(u,e(u).model=s)),ns(_s,()=>e(u).maxTokens,s=>ls(u,e(u).maxTokens=s)),ns(R,()=>e(u).temperature,s=>ls(u,e(u).temperature=s)),x("submit",q,Qs(Ms)),x("click",gs,S),f(N,E),Xs()}export{de as default};
