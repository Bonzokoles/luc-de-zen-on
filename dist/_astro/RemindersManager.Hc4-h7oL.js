import{p as rt,G as st,m as k,g as e,e as N,i as it,t as f,s as o,c as t,b as g,a as E,h as O,j as m,k as nt,v as d,n as a,u as F,x as b,l as ee,q as lt,o as Ce,y as Ie,F as dt,d as he,f as Ne,a6 as we,R as ct,z as vt,B as ut,A as te}from"./Header.astro_astro_type_script_index_0_lang.C3v9REYp.js";/* empty css                                    */import"./react.0nTXIzv_.js";if(typeof MessageChannel>"u"){class ae{constructor(){this.onmessage=null}postMessage(_){const y={data:_};(typeof queueMicrotask=="function"?queueMicrotask:u=>setTimeout(u,0))(()=>this.onmessage&&this.onmessage(y))}start(){}close(){}}class de{constructor(){this.port1=new ae,this.port2=new ae;const _=(y,u)=>{const h={data:u};(typeof queueMicrotask=="function"?queueMicrotask:D=>setTimeout(D,0))(()=>y.onmessage&&y.onmessage(h))};this.port1.postMessage=y=>_(this.port2,y),this.port2.postMessage=y=>_(this.port1,y)}}globalThis.MessageChannel=de}var pt=f('<div class="mb-6 p-4 bg-red-900/20 border border-red-500/50 rounded-lg"><p class="text-red-300"> </p> <button class="mt-2 text-sm text-red-400 hover:text-red-300">Zamknij</button></div>'),mt=f('<div class="mb-6 p-4 bg-gray-900/50 border border-cyan-500/30 rounded-lg"><h3 class="text-lg font-semibold mb-4 text-cyan-400"> </h3> <div class="grid grid-cols-1 md:grid-cols-2 gap-4"><div><label class="block text-sm font-medium mb-2">Tytuł *</label> <input type="text" placeholder="Wpisz tytuł przypomnienia" class="w-full p-3 bg-gray-800 border border-gray-600 rounded focus:border-cyan-400 focus:outline-none" required></div> <div><label class="block text-sm font-medium mb-2">Data i godzina *</label> <input type="datetime-local" class="w-full p-3 bg-gray-800 border border-gray-600 rounded focus:border-cyan-400 focus:outline-none" required></div> <div class="md:col-span-2"><label class="block text-sm font-medium mb-2">Opis</label> <textarea placeholder="Opcjonalny opis przypomnienia" rows="3" class="w-full p-3 bg-gray-800 border border-gray-600 rounded focus:border-cyan-400 focus:outline-none resize-none"></textarea></div> <div><label class="block text-sm font-medium mb-2">Priorytet</label> <select class="w-full p-3 bg-gray-800 border border-gray-600 rounded focus:border-cyan-400 focus:outline-none"><option>🟢 Niski</option><option>🟡 Średni</option><option>🔴 Wysoki</option></select></div> <div><label class="block text-sm font-medium mb-2">Powtarzanie</label> <select class="w-full p-3 bg-gray-800 border border-gray-600 rounded focus:border-cyan-400 focus:outline-none"><option>Jednorazowe</option><option>Codziennie</option><option>Co tydzień</option><option>Co miesiąc</option></select></div> <div class="md:col-span-2"><label class="block text-sm font-medium mb-2">Powiadomienia</label> <div class="flex space-x-6"><label class="flex items-center"><input type="checkbox" class="mr-2 accent-cyan-500"> 📧 Email</label> <label class="flex items-center"><input type="checkbox" class="mr-2 accent-cyan-500"> 🔔 Push</label> <label class="flex items-center"><input type="checkbox" class="mr-2 accent-cyan-500"> 📱 SMS</label></div></div></div> <div class="flex justify-end space-x-3 mt-4"><button class="px-4 py-2 bg-gray-700/50 hover:bg-gray-600/50 rounded text-sm font-semibold transition-colors">Anuluj</button> <button class="px-4 py-2 bg-cyan-700/50 hover:bg-cyan-600/50 rounded text-sm font-semibold transition-colors"> </button></div></div>'),bt=f('<div class="text-center py-8"><div class="animate-spin w-8 h-8 border-2 border-cyan-400 border-t-transparent rounded-full mx-auto mb-4"></div> <p class="text-gray-400">Ładowanie przypomnień...</p></div>'),ft=f('<div class="text-center py-8"><p class="text-gray-400">Brak przypomnień</p> <button class="mt-4 px-4 py-2 bg-cyan-700/50 hover:bg-cyan-600/50 rounded text-sm font-semibold transition-colors">Utwórz pierwsze przypomnienie</button></div>'),yt=f('<span class="text-xs px-2 py-1 rounded bg-purple-900/50 text-purple-300"> </span>'),xt=f("<p> </p>"),gt=f('<span class="text-red-400 ml-1">(PRZETERMINOWANE)</span>'),_t=f('<span class="text-yellow-400 ml-1">(DZISIAJ)</span>'),ht=f("<span>📧</span>"),wt=f("<span>🔔</span>"),kt=f("<span>📱</span>"),Dt=f('<div><div class="flex items-start justify-between"><div class="flex items-start space-x-3 flex-1"><button class="mt-1 text-xl hover:scale-110 transition-transform"> </button> <div class="flex-1"><div class="flex items-center space-x-2 mb-1"><span> </span> <span> </span> <!></div> <!> <div class="flex items-center space-x-4 text-sm text-gray-400"><div class="flex items-center space-x-1"><span>📅</span> <span> <!></span></div> <div class="flex items-center space-x-2"><!> <!> <!></div></div></div></div> <div class="flex items-center space-x-2 ml-4"><button class="px-2 py-1 bg-yellow-700/50 hover:bg-yellow-600/50 rounded text-xs font-semibold transition-colors">✏️</button> <button class="px-2 py-1 bg-red-700/50 hover:bg-red-600/50 rounded text-xs font-semibold transition-colors">🗑️</button></div></div></div>'),zt=f('<div class="bg-black/80 backdrop-blur-sm border border-cyan-500/30 rounded-xl p-6 text-cyan-300 max-h-[800px] overflow-hidden"><div class="flex items-center justify-between mb-6"><div class="flex items-center space-x-3"><div class="w-3 h-3 bg-cyan-400 rounded-full animate-pulse"></div> <h2 class="text-2xl font-bold text-cyan-400">HARMONOGRAM I PRZYPOMNIENIA</h2></div> <button class="px-4 py-2 bg-cyan-700/50 hover:bg-cyan-600/50 rounded text-sm font-semibold transition-colors"> </button></div> <div class="grid grid-cols-2 md:grid-cols-4 gap-4 mb-6"><div class="bg-gray-900/50 border border-cyan-500/20 rounded-lg p-4 text-center"><div class="text-2xl font-bold text-cyan-400"> </div> <div class="text-sm text-gray-400">Łącznie</div></div> <div class="bg-green-900/20 border border-green-500/30 rounded-lg p-4 text-center"><div class="text-2xl font-bold text-green-400"> </div> <div class="text-sm text-gray-400">Zakończone</div></div> <div class="bg-red-900/20 border border-red-500/30 rounded-lg p-4 text-center"><div class="text-2xl font-bold text-red-400"> </div> <div class="text-sm text-gray-400">Przeterminowane</div></div> <div class="bg-yellow-900/20 border border-yellow-500/30 rounded-lg p-4 text-center"><div class="text-2xl font-bold text-yellow-400"> </div> <div class="text-sm text-gray-400">Dzisiaj</div></div></div> <!> <!> <div class="space-y-3 max-h-96 overflow-y-auto custom-scrollbar svelte-1xxtgzr"><!></div></div>');function Tt(ae,de){rt(de,!1);let L=N([]),_=N({total:0,completed:0,overdue:0,today:0,high:0,medium:0,low:0}),y=N(!0),u=N(""),h=N(!1),D=N(null),i=N({title:"",description:"",dueDate:"",priority:"medium",notifications:{email:!0,push:!1,sms:!1},recurrence:void 0});const Fe={low:"text-green-400 border-green-500",medium:"text-yellow-400 border-yellow-500",high:"text-red-400 border-red-500"},$e={low:"🟢",medium:"🟡",high:"🔴"};async function oe(){try{d(y,!0);const l=await(await fetch("/api/reminders")).json();l.success?(d(L,l.reminders),d(_,l.stats)):d(u,l.message||"Failed to fetch reminders")}catch(s){d(u,"Network error occurred"),console.error("Error fetching reminders:",s)}finally{d(y,!1)}}async function qe(){if(!e(i).title.trim()||!e(i).dueDate){d(u,"Tytuł i data są wymagane");return}try{const l=await(await fetch("/api/reminders",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...e(i),userId:`user${Math.floor(Math.random()*1e3)}`})})).json();l.success?(ke(),d(h,!1),await oe()):d(u,l.message||"Failed to create reminder")}catch(s){d(u,"Failed to create reminder"),console.error("Error creating reminder:",s)}}async function Ae(s,l){try{const z=await(await fetch("/api/reminders",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:s,...l})})).json();z.success?(await oe(),d(D,null)):d(u,z.message||"Failed to update reminder")}catch(p){d(u,"Failed to update reminder"),console.error("Error updating reminder:",p)}}async function Ze(s){if(confirm("Czy na pewno chcesz usunąć to przypomnienie?"))try{const p=await(await fetch(`/api/reminders?id=${s}`,{method:"DELETE"})).json();p.success?await oe():d(u,p.message||"Failed to delete reminder")}catch(l){d(u,"Failed to delete reminder"),console.error("Error deleting reminder:",l)}}function ke(){d(i,{title:"",description:"",dueDate:"",priority:"medium",notifications:{email:!0,push:!1,sms:!1},recurrence:void 0})}function Je(s){return new Date(s).toLocaleString("pl-PL",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}function ce(s){return new Date(s).getTime()<Date.now()}function ve(s){const l=new Date;return new Date(s).toDateString()===l.toDateString()}function He(){const s=new Date;return s.setMinutes(s.getMinutes()+5),s.toISOString().slice(0,16)}st(()=>{oe();const s=new Date;s.setHours(s.getHours()+1),k(i,e(i).dueDate=s.toISOString().slice(0,16))}),it();var ue=zt(),pe=t(ue),me=o(t(pe),2),Le=t(me,!0);a(me),a(pe);var be=o(pe,2),fe=t(be),De=t(fe),Ue=t(De,!0);a(De),F(2),a(fe);var ye=o(fe,2),ze=t(ye),We=t(ze,!0);a(ze),F(2),a(ye);var xe=o(ye,2),Me=t(xe),Be=t(Me,!0);a(Me),F(2),a(xe);var je=o(xe,2),Se=t(je),Ge=t(Se,!0);a(Se),F(2),a(je),a(be);var Te=o(be,2);{var Ye=s=>{var l=pt(),p=t(l),z=t(p);a(p);var x=o(p,2);a(l),E(()=>b(z,`❌ ${e(u)??""}`)),O("click",x,()=>d(u,"")),m(s,l)};g(Te,s=>{e(u)&&s(Ye)})}var Ee=o(Te,2);{var Ke=s=>{var l=mt(),p=t(l),z=t(p,!0);a(p);var x=o(p,2),w=t(x),$=o(t(w),2);ee($),a(w);var P=o(w,2),r=o(t(P),2);ee(r),a(P);var M=o(P,2),U=o(t(M),2);lt(U),a(M);var R=o(M,2),j=o(t(R),2);E(()=>{e(i),Ce(()=>{})});var W=t(j);W.value=(W.__value="low")==null?"":"low";var q=o(W);q.value=(q.__value="medium")==null?"":"medium";var A=o(q);A.value=(A.__value="high")==null?"":"high",a(j),a(R);var S=o(R,2),B=o(t(S),2);E(()=>{e(i),Ce(()=>{})});var T=t(B);T.value=(T.__value=void 0)==null?"":void 0;var G=o(T);G.value=(G.__value="daily")==null?"":"daily";var Y=o(G);Y.value=(Y.__value="weekly")==null?"":"weekly";var re=o(Y);re.value=(re.__value="monthly")==null?"":"monthly",a(B),a(S);var K=o(S,2),se=o(t(K),2),Z=t(se),J=t(Z);ee(J),F(),a(Z);var C=o(Z,2),Q=t(C);ee(Q),F(),a(C);var ie=o(C,2),ne=t(ie);ee(ne),F(),a(ie),a(se),a(K),a(x);var le=o(x,2),V=t(le),H=o(V,2),ge=t(H,!0);a(H),a(le),a(l),E(c=>{b(z,e(D)?"Edytuj przypomnienie":"Nowe przypomnienie"),dt(r,"min",c),b(ge,e(D)?"Zaktualizuj":"Utwórz")},[He],Ie),he($,()=>e(i).title,c=>k(i,e(i).title=c)),he(r,()=>e(i).dueDate,c=>k(i,e(i).dueDate=c)),he(U,()=>e(i).description,c=>k(i,e(i).description=c)),Ne(j,()=>e(i).priority,c=>k(i,e(i).priority=c)),Ne(B,()=>e(i).recurrence,c=>k(i,e(i).recurrence=c)),we(J,()=>e(i).notifications.email,c=>k(i,e(i).notifications.email=c)),we(Q,()=>e(i).notifications.push,c=>k(i,e(i).notifications.push=c)),we(ne,()=>e(i).notifications.sms,c=>k(i,e(i).notifications.sms=c)),O("click",V,()=>{d(h,!1),d(D,null),ke()}),O("click",H,qe),m(s,l)};g(Ee,s=>{(e(h)||e(D))&&s(Ke)})}var Oe=o(Ee,2),Qe=t(Oe);{var Ve=s=>{var l=bt();m(s,l)},Xe=(s,l)=>{{var p=x=>{var w=ft(),$=o(t(w),2);a(w),O("click",$,()=>d(h,!0)),m(x,w)},z=x=>{var w=ct(),$=vt(w);ut($,1,()=>e(L),P=>P.id,(P,r)=>{var M=Dt(),U=t(M),R=t(U),j=t(R),W=t(j,!0);a(j);var q=o(j,2),A=t(q),S=t(A),B=t(S,!0);a(S);var T=o(S,2),G=t(T);a(T);var Y=o(T,2);{var re=n=>{var v=yt(),I=t(v);a(v),E(()=>b(I,`🔄 ${e(r).recurrence??""}`)),m(n,v)};g(Y,n=>{e(r).recurrence&&n(re)})}a(A);var K=o(A,2);{var se=n=>{var v=xt(),I=t(v,!0);a(v),E(()=>{te(v,1,`text-sm text-gray-300 mb-2 ${(e(r).completed?"line-through":"")??""}`),b(I,e(r).description)}),m(n,v)};g(K,n=>{e(r).description&&n(se)})}var Z=o(K,2),J=t(Z),C=o(t(J),2),Q=t(C),ie=o(Q);{var ne=n=>{var v=gt();m(n,v)},le=(n,v)=>{{var I=X=>{var _e=_t();m(X,_e)};g(n,X=>{ve(e(r).dueDate)&&!e(r).completed&&X(I)},v)}};g(ie,n=>{ce(e(r).dueDate)&&!e(r).completed?n(ne):n(le,!1)})}a(C),a(J);var V=o(J,2),H=t(V);{var ge=n=>{var v=ht();m(n,v)};g(H,n=>{e(r).notifications.email&&n(ge)})}var c=o(H,2);{var et=n=>{var v=wt();m(n,v)};g(c,n=>{e(r).notifications.push&&n(et)})}var tt=o(c,2);{var at=n=>{var v=kt();m(n,v)};g(tt,n=>{e(r).notifications.sms&&n(at)})}a(V),a(Z),a(q),a(R);var Pe=o(R,2),Re=t(Pe),ot=o(Re,2);a(Pe),a(U),a(M),E((n,v,I,X,_e)=>{te(M,1,`bg-gray-900/30 border border-gray-700/50 rounded-lg p-4 hover:border-cyan-500/50 transition-colors
          ${(e(r).completed?"opacity-60":"")??""}
          ${n??""}
          ${v??""}
        `),b(W,e(r).completed?"✅":"⭕"),te(S,1,`font-semibold text-cyan-300 ${(e(r).completed?"line-through":"")??""}`),b(B,e(r).title),te(T,1,`text-sm px-2 py-1 rounded border ${Fe[e(r).priority]??""} bg-gray-800/50`,"svelte-1xxtgzr"),b(G,`${$e[e(r).priority]??""} ${e(r).priority??""}`),te(C,1,`${I??""}
                                ${X??""}`),b(Q,`${_e??""} `)},[()=>ce(e(r).dueDate)&&!e(r).completed?"border-red-500/50 bg-red-900/10":"",()=>ve(e(r).dueDate)&&!e(r).completed?"border-yellow-500/50 bg-yellow-900/10":"",()=>ce(e(r).dueDate)&&!e(r).completed?"text-red-400 font-semibold":"",()=>ve(e(r).dueDate)&&!e(r).completed?"text-yellow-400 font-semibold":"",()=>Je(e(r).dueDate)],Ie),O("click",j,()=>Ae(e(r).id,{completed:!e(r).completed})),O("click",Re,()=>{d(D,e(r)),d(i,{title:e(r).title,description:e(r).description,dueDate:new Date(e(r).dueDate).toISOString().slice(0,16),priority:e(r).priority,notifications:{...e(r).notifications},recurrence:e(r).recurrence}),d(h,!0)}),O("click",ot,()=>Ze(e(r).id)),m(P,M)}),m(x,w)};g(s,x=>{e(L).length===0?x(p):x(z,!1)},l)}};g(Qe,s=>{e(y)?s(Ve):s(Xe,!1)})}a(Oe),a(ue),E(()=>{b(Le,e(h)?"❌ Anuluj":"➕ Nowe przypomnienie"),b(Ue,e(_).total),b(We,e(_).completed),b(Be,e(_).overdue),b(Ge,e(_).today)}),O("click",me,()=>d(h,!e(h))),m(ae,ue),nt()}export{Tt as default};
