import{p as Ke,G as Ze,i as Fe,t as g,b as j,a as h,B as xe,c as o,s,d as ie,g as a,f as Te,h as y,j as f,k as Qe,v as i,e as b,l as ne,n as r,o as We,C as $e,y as le,x as c,m as ve,W as Re,A as ze}from"./Header.astro_astro_type_script_index_0_lang.C3v9REYp.js";/* empty css                                    */import"./react.0nTXIzv_.js";if(typeof MessageChannel>"u"){class A{constructor(){this.onmessage=null}postMessage(p){const l={data:p};(typeof queueMicrotask=="function"?queueMicrotask:d=>setTimeout(d,0))(()=>this.onmessage&&this.onmessage(l))}start(){}close(){}}class I{constructor(){this.port1=new A,this.port2=new A;const p=(l,d)=>{const w={data:d};(typeof queueMicrotask=="function"?queueMicrotask:m=>setTimeout(m,0))(()=>l.onmessage&&l.onmessage(w))};this.port1.postMessage=l=>p(this.port2,l),this.port2.postMessage=l=>p(this.port1,l)}}globalThis.MessageChannel=I}var Ve=g('<div class="alert error svelte-1qsa07w"><span class="icon">❌</span> <button class="close-btn svelte-1qsa07w">✕</button></div>'),Xe=g('<div class="alert success svelte-1qsa07w"><span class="icon">✅</span> <button class="close-btn svelte-1qsa07w">✕</button></div>'),Ye=g('<div class="loading svelte-1qsa07w"><div class="spinner svelte-1qsa07w"></div> <span>Przetwarzanie...</span></div>'),ea=g("<option> </option>"),aa=g('<div class="empty-state svelte-1qsa07w"><span class="icon svelte-1qsa07w">🤖</span> <p>Brak workers. Utwórz pierwszy!</p></div>'),sa=g('<div><div class="worker-header svelte-1qsa07w"><h4 class="svelte-1qsa07w"> </h4> <span class="worker-type svelte-1qsa07w"> </span></div> <div class="worker-details svelte-1qsa07w"><p class="svelte-1qsa07w"><strong>Model:</strong> </p> <p class="svelte-1qsa07w"><strong>Endpoint:</strong> <code class="svelte-1qsa07w"> </code></p> <p class="svelte-1qsa07w"><strong>Status:</strong> <span> </span></p></div> <div class="worker-actions svelte-1qsa07w"><button class="btn-test svelte-1qsa07w">🧪 Test</button> <button class="btn-select svelte-1qsa07w">📋 Wybierz</button> <button class="btn-danger svelte-1qsa07w">🗑️ Usuń</button></div></div>'),ta=g('<div class="workers-grid svelte-1qsa07w"></div>'),ra=g('<div class="selected-worker-section svelte-1qsa07w"><h3> </h3> <div class="worker-details-expanded svelte-1qsa07w"><div class="detail-group svelte-1qsa07w"><h4 class="svelte-1qsa07w">Konfiguracja:</h4> <pre class="config-json svelte-1qsa07w"> </pre></div> <div class="detail-group svelte-1qsa07w"><h4 class="svelte-1qsa07w">Metadane:</h4> <p><strong>ID:</strong> </p> <p><strong>Created:</strong> </p> <p><strong>Last Used:</strong> </p></div></div></div>'),oa=g('<div class="ai-workers-manager svelte-1qsa07w"><div class="header svelte-1qsa07w"><h2 class="svelte-1qsa07w">🤖 AI Workers Manager</h2> <p class="subtitle svelte-1qsa07w">Zarządzaj AI Workers w środowisku Cloudflare</p></div> <!> <!> <!> <div class="create-worker-section svelte-1qsa07w"><h3>➕ Utwórz Nowy Worker</h3> <form class="worker-form svelte-1qsa07w"><div class="form-group svelte-1qsa07w"><label for="worker-name" class="svelte-1qsa07w">Nazwa Worker:</label> <input id="worker-name" type="text" placeholder="np. Chat Assistant v2" required class="svelte-1qsa07w"></div> <div class="form-group svelte-1qsa07w"><label for="worker-type" class="svelte-1qsa07w">Typ Worker:</label> <select id="worker-type" class="svelte-1qsa07w"></select></div> <div class="config-section"><h4>Konfiguracja AI:</h4> <div class="form-row svelte-1qsa07w"><div class="form-group svelte-1qsa07w"><label for="model" class="svelte-1qsa07w">Model:</label> <select id="model" class="svelte-1qsa07w"><option>Llama 3.1 8B</option><option>Llama 3.1 70B</option><option>Gemma 7B</option></select></div> <div class="form-group svelte-1qsa07w"><label for="max-tokens" class="svelte-1qsa07w">Max Tokens:</label> <input id="max-tokens" type="number" min="100" max="4000" class="svelte-1qsa07w"></div> <div class="form-group svelte-1qsa07w"><label for="temperature" class="svelte-1qsa07w">Temperature:</label> <input id="temperature" type="range" min="0" max="2" step="0.1" class="svelte-1qsa07w"> <span class="range-value svelte-1qsa07w"> </span></div></div></div> <button type="submit" class="btn-primary svelte-1qsa07w">🚀 Utwórz Worker</button></form></div> <div class="workers-list-section svelte-1qsa07w"><div class="section-header svelte-1qsa07w"><h3> </h3> <button class="btn-secondary svelte-1qsa07w">🔄 Odśwież</button></div> <!></div> <!></div>');function va(A,I){Ke(I,!1);let k=b([]),p=b(null),l=b(!1),d=b(""),w=b(""),m=b(""),$=b("chat"),u=b({model:"llama-3.1-8b-instant",maxTokens:1e3,temperature:.7});const O=[{id:"chat",name:"Chat AI",endpoint:"/api/chat"},{id:"image",name:"Image Generator",endpoint:"/api/generate-image"},{id:"analyze",name:"Data Analyzer",endpoint:"/api/data-analyze"},{id:"search",name:"Search Assistant",endpoint:"/api/search"}];Ze(async()=>{await N()});async function N(){i(l,!0),i(d,"");try{const e=await fetch("/api/ai-workers?action=list",{method:"GET",headers:{"Content-Type":"application/json"}});if(!e.ok)throw new Error(`HTTP ${e.status}: ${e.statusText}`);const t=await e.json();i(k,t.workers||[]),console.log("✅ Załadowano workers:",a(k).length)}catch(e){i(d,`Błąd ładowania workers: ${e.message||e}`),console.error("❌ Błąd:",e)}finally{i(l,!1)}}async function Me(){if(!a(m).trim()){i(d,"Nazwa worker jest wymagana");return}i(l,!0),i(d,""),i(w,"");try{const e={action:"create",name:a(m),type:a($),config:a(u),endpoint:O.find(n=>n.id===a($))?.endpoint},t=await fetch("/api/ai-workers",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw new Error(`HTTP ${t.status}: ${t.statusText}`);const v=await t.json();i(w,`Worker "${a(m)}" został utworzony pomyślnie!`),i(m,""),await N()}catch(e){i(d,`Błąd tworzenia worker: ${e.message||e}`)}finally{i(l,!1)}}async function Ce(e){i(l,!0),i(d,"");try{const t={action:"test",workerId:e.id,testData:{message:"Test connectivity",prompt:"Say hello in a creative way"}},v=await fetch("/api/ai-workers",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!v.ok)throw new Error(`HTTP ${v.status}: ${v.statusText}`);const n=await v.json();i(w,`Worker "${e.name}" odpowiada poprawnie: ${n.result?.response||n.message}`)}catch(t){i(d,`Worker "${e.name}" błąd: ${t.message||t}`)}finally{i(l,!1)}}async function je(e){if(confirm("Czy na pewno chcesz usunąć tego worker?")){i(l,!0),i(d,"");try{const t=await fetch("/api/ai-workers",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"delete",workerId:e})});if(!t.ok)throw new Error(`HTTP ${t.status}: ${t.statusText}`);i(w,"Worker został usunięty pomyślnie"),await N()}catch(t){i(d,`Błąd usuwania worker: ${t.message||t}`)}finally{i(l,!1)}}}function Ae(e){i(p,e)}function de(){i(d,""),i(w,"")}Fe();var D=oa(),ce=s(o(D),2);{var Ne=e=>{var t=Ve(),v=s(o(t)),n=s(v);r(t),h(()=>c(v,` ${a(d)??""} `)),y("click",n,de),f(e,t)};j(ce,e=>{a(d)&&e(Ne)})}var pe=s(ce,2);{var Se=e=>{var t=Xe(),v=s(o(t)),n=s(v);r(t),h(()=>c(v,` ${a(w)??""} `)),y("click",n,de),f(e,t)};j(pe,e=>{a(w)&&e(Se)})}var ue=s(pe,2);{var Pe=e=>{var t=Ye();f(e,t)};j(ue,e=>{a(l)&&e(Pe)})}var E=s(ue,2),U=s(o(E),2),G=o(U),we=s(o(G),2);ne(we),r(G);var H=s(G,2),J=s(o(H),2);h(()=>{a($),We(()=>{})}),xe(J,5,()=>O,$e,(e,t)=>{var v=ea(),n={},_=o(v,!0);r(v),h(()=>{n!==(n=a(t).id)&&(v.value=(v.__value=a(t).id)==null?"":a(t).id),c(_,a(t).name)}),f(e,v)}),r(J),r(H);var L=s(H,2),me=s(o(L),2),K=o(me),Z=s(o(K),2);h(()=>{a(u),We(()=>{})});var F=o(Z);F.value=(F.__value="llama-3.1-8b-instant")==null?"":"llama-3.1-8b-instant";var Q=s(F);Q.value=(Q.__value="llama-3.1-70b-versatile")==null?"":"llama-3.1-70b-versatile";var _e=s(Q);_e.value=(_e.__value="gemma-7b-it")==null?"":"gemma-7b-it",r(Z),r(K);var R=s(K,2),fe=s(o(R),2);ne(fe),r(R);var ge=s(R,2),V=s(o(ge),2);ne(V);var he=s(V,2),Be=o(he,!0);r(he),r(ge),r(me),r(L);var Ie=s(L,2);r(U),r(E);var X=s(E,2),Y=o(X),ee=o(Y),Oe=o(ee);r(ee);var be=s(ee,2);r(Y);var De=s(Y,2);{var Ee=e=>{var t=aa();f(e,t)},Ue=e=>{var t=ta();xe(t,5,()=>a(k),$e,(v,n)=>{var _=sa();let x;var T=o(_),z=o(T),S=o(z,!0);r(z);var W=s(z,2),ae=o(W,!0);r(W),r(T);var q=s(T,2),M=o(q),P=s(o(M));r(M);var C=s(M,2),B=s(o(C),2),Je=o(B,!0);r(B),r(C);var ke=s(C,2),se=s(o(ke),2),Le=o(se,!0);r(se),r(ke),r(q);var qe=s(q,2),te=o(qe),re=s(te,2),ye=s(re,2);r(qe),r(_),h(oe=>{x=ze(_,1,"worker-card svelte-1qsa07w",null,x,{selected:a(p)?.id===a(n).id}),c(S,a(n).name),c(ae,oe),c(P,` ${a(n).config?.model||"N/A"}`),c(Je,a(n).endpoint),ze(se,1,`status ${a(n).status||"active"}`,"svelte-1qsa07w"),c(Le,a(n).status||"active"),te.disabled=a(l),re.disabled=a(l),ye.disabled=a(l)},[()=>O.find(oe=>oe.id===a(n).type)?.name||a(n).type],le),y("click",te,()=>Ce(a(n))),y("click",re,()=>Ae(a(n))),y("click",ye,()=>je(a(n).id)),f(v,_)}),r(t),f(e,t)};j(De,e=>{a(k).length===0&&!a(l)?e(Ee):e(Ue,!1)})}r(X);var Ge=s(X,2);{var He=e=>{var t=ra(),v=o(t),n=o(v);r(v);var _=s(v,2),x=o(_),T=s(o(x),2),z=o(T,!0);r(T),r(x);var S=s(x,2),W=s(o(S),2),ae=s(o(W));r(W);var q=s(W,2),M=s(o(q));r(q);var P=s(q,2),C=s(o(P));r(P),r(S),r(_),r(t),h(B=>{c(n,`🎯 Szczegóły Worker: ${a(p).name??""}`),c(z,B),c(ae,` ${a(p).id??""}`),c(M,` ${a(p).created||"N/A"}`),c(C,` ${a(p).lastUsed||"N/A"}`)},[()=>JSON.stringify(a(p).config,null,2)],le),f(e,t)};j(Ge,e=>{a(p)&&e(He)})}r(D),h(e=>{c(Be,a(u).temperature),Ie.disabled=e,c(Oe,`📋 Lista Workers (${a(k).length??""})`),be.disabled=a(l)},[()=>a(l)||!a(m).trim()],le),ie(we,()=>a(m),e=>i(m,e)),Te(J,()=>a($),e=>i($,e)),Te(Z,()=>a(u).model,e=>ve(u,a(u).model=e)),ie(fe,()=>a(u).maxTokens,e=>ve(u,a(u).maxTokens=e)),ie(V,()=>a(u).temperature,e=>ve(u,a(u).temperature=e)),y("submit",U,Re(Me)),y("click",be,N),f(A,D),Qe()}export{va as default};
