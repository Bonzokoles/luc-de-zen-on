import{_ as C}from"./babylon-core.25e42Jml.js";if(typeof MessageChannel>"u"){class o{constructor(){this.onmessage=null}postMessage(n){const l={data:n};(typeof queueMicrotask=="function"?queueMicrotask:a=>setTimeout(a,0))(()=>this.onmessage&&this.onmessage(l))}start(){}close(){}}class e{constructor(){this.port1=new o,this.port2=new o;const n=(l,a)=>{const s={data:a};(typeof queueMicrotask=="function"?queueMicrotask:i=>setTimeout(i,0))(()=>l.onmessage&&l.onmessage(s))};this.port1.postMessage=l=>n(this.port2,l),this.port2.postMessage=l=>n(this.port1,l)}}globalThis.MessageChannel=e}window.apiTests=window.apiTests||{};window.openImageGenerator=window.openImageGenerator||function(){};window.openChatbot=window.openChatbot||function(){};window.openBigQuery=window.openBigQuery||function(){};window.openKaggle=window.openKaggle||function(){};window.openTavily=window.openTavily||function(){};window.testButtonFunction=window.testButtonFunction||function(){};window.checkDashboardLogin=window.checkDashboardLogin||function(){};window.addEventListener("DOMContentLoaded",async()=>{console.log("Loading API test functions...");try{const o=await C(()=>import("./apiTests.CnAhSYqp.js"),[]);window.apiTests=o,console.log("API Tests module loaded, available functions:",Object.keys(o))}catch(o){console.log("Failed to load API tests:",o)}});function d(){console.log("openImageGenerator() called");const o=document.getElementById("imagePrompt"),e=o?o.value.trim():"";console.log("Image prompt:",e),e&&(localStorage.setItem("quickPrompt",e),console.log("Prompt saved in localStorage")),console.log("Opening /image-generator"),window.open("/image-generator","_blank")}function u(){console.log("ğŸ’¬ openChatbot() wywoÅ‚ana");const o=document.getElementById("chatPrompt"),e=o?o.value.trim():"";console.log("Chat prompt:",e),e&&(localStorage.setItem("quickChatPrompt",e),console.log("Prompt saved in localStorage")),console.log("Opening /chatbot"),window.open("/chatbot","_blank")}function p(){console.log("ğŸ“Š openBigQuery() wywoÅ‚ana");const o=document.getElementById("bigqueryPrompt"),e=o?o.value.trim():"";console.log("BigQuery prompt:",e),e&&(localStorage.setItem("quickSQLQuery",e),console.log("SQL Query saved in localStorage")),console.log("Opening /bigquery-analytics"),window.open("/bigquery-analytics","_blank")}function w(){console.log("ğŸ” openKaggle() wywoÅ‚ana");const o=document.getElementById("kagglePrompt"),e=o?o.value.trim():"";console.log("Kaggle prompt:",e),e&&(localStorage.setItem("quickKaggleSearch",e),console.log("Kaggle search saved in localStorage")),console.log("Opening /kaggle-datasets"),window.open("/kaggle-datasets","_blank")}function m(){console.log("ğŸŒ openTavily() wywoÅ‚ana");const o=document.getElementById("tavilyPrompt"),e=o?o.value.trim():"";console.log("Tavily prompt:",e),e&&(localStorage.setItem("quickTavilySearch",e),console.log("Tavily search saved in localStorage")),console.log("Opening /tavily-search"),window.open("/tavily-search","_blank")}function k(o){return console.log(`ğŸ§ª TEST: Przycisk ${o} zostaÅ‚ klikniÄ™ty!`),alert(`Test udany! Przycisk ${o} dziaÅ‚a.`),!1}async function A(){if(console.log("Rozpoczynam testy wszystkich API..."),window.apiTests&&window.apiTests.testAllAPIs)try{await window.apiTests.testAllAPIs(),console.log("All API tests completed")}catch(o){console.log("Error during API tests:",o)}else console.log("â³ API tests nie sÄ… jeszcze zaÅ‚adowane, prÃ³bujÄ™ ponownie..."),setTimeout(A,1e3)}function E(){console.log("Opening API test console..."),console.log("Available API tests:"),console.log("- window.apiTests.testChatAPI()"),console.log("- window.apiTests.testImageGeneration()"),console.log("- window.apiTests.testAIBot()"),console.log("- window.apiTests.testAllAPIs()"),window.apiTests?console.log("API Tests module loaded, available functions:",Object.keys(window.apiTests)):console.log("API Tests module not loaded yet")}async function I(){const o=document.getElementById("overallStatus");if(!o)return;const e=o.querySelector(".status-dot"),t=o.querySelector("span:last-child");if(!(!e||!t)){t.textContent="Sprawdzanie...",e.className="status-dot";try{const n=["/api/generate-image","/api/chat","/api/bigquery","/api/kaggle","/api/tavi"],a=(await Promise.allSettled(n.map(i=>fetch(i).then(c=>({api:i,ok:c.ok}))))).filter(i=>i.status==="fulfilled"&&i.value.ok).length,s=n.length;a===s?(e.className="status-dot online",t.textContent=`Wszystkie online (${a}/${s})`):a>0?(e.className="status-dot",t.textContent=`CzÄ™Å›ciowo online (${a}/${s})`):(e.className="status-dot offline",t.textContent=`Offline (${a}/${s})`)}catch{e.className="status-dot offline",t.textContent="BÅ‚Ä…d sprawdzania"}}}function h(){const o=document.getElementById("dashboardLogin"),e=document.getElementById("loginContainer"),t=document.getElementById("dashboardButtons");if(!o||!e||!t)return;const n=o.value.trim();console.log("Checking login:",n),n==="HAOS77"?(e.classList.add("hidden"),t.classList.remove("hidden"),console.log("Login successful, showing dashboard buttons")):(console.log("Invalid login"),o.style.borderColor="#ef4444",setTimeout(()=>{o.style.borderColor=""},2e3))}function g(o){console.log(`ğŸ¯ KLIKNIÄ˜TO KAFELEK! Otwieranie funkcji: ${o}`),alert(`DEBUGOWANIE: KlikniÄ™to w funkcjÄ™: ${o}`);const t={rekomendacje:"/ai-functions/personalized-recommendations","obsÅ‚uga-klienta":"/ai-functions/customer-automation",monitorowanie:"/ai-functions/activity-monitoring",przypomnienia:"/ai-functions/reminders-calendar","faq-generator":"/ai-functions/dynamic-faq",edukacja:"/ai-functions/education-recommendations",tickety:"/ai-functions/ai-tickets",quizy:"/ai-functions/interactive-quizzes",marketing:"/ai-functions/marketing-content"}[o];t?(console.log(`Przekierowanie do: ${t}`),window.open(t,"_blank")):(console.error(`Nieznana funkcja: ${o}`),alert(`Funkcja "${o}" jest w trakcie implementacji. SprÃ³buj ponownie pÃ³Åºniej.`))}document.addEventListener("DOMContentLoaded",function(){console.log("ğŸš€ DOM zaÅ‚adowany, inicjalizacja funkcji"),console.log("ğŸ§ª Test funkcji openFunction:",typeof g),console.log("ğŸ§ª Test window.openFunction:",typeof window.openFunction),window.openFunction=g,console.log("âœ… openFunction dodana do window scope");const o=document.querySelectorAll(".feature-tile[data-function]");console.log(`ğŸ¯ Znaleziono ${o.length} kafelkÃ³w funkcji`),o.forEach((s,i)=>{const c=s.getAttribute("onclick")?.match(/openFunction\('(.+?)'\)/)?.[1];console.log(`ğŸ”— Tile ${i}: ${c}`),s.addEventListener("click",function(r){r.preventDefault(),r.stopPropagation(),console.log(`ğŸ¯ BEZPOÅšREDNI KLIK na tile: ${c}`),c&&g(c)})}),console.log("ğŸ§ª Test dostÄ™pnoÅ›ci funkcji:"),console.log("- openImageGenerator:",typeof d),console.log("- openChatbot:",typeof u),console.log("- openBigQuery:",typeof p),console.log("- openKaggle:",typeof w),console.log("- openTavily:",typeof m),console.log("ğŸ§ª Test dostÄ™pnoÅ›ci elementÃ³w input:"),console.log("- imagePrompt:",document.getElementById("imagePrompt")),console.log("- chatPrompt:",document.getElementById("chatPrompt")),console.log("- bigqueryPrompt:",document.getElementById("bigqueryPrompt")),console.log("- kagglePrompt:",document.getElementById("kagglePrompt")),console.log("- tavilyPrompt:",document.getElementById("tavilyPrompt")),document.querySelectorAll(".quick-prompt").forEach(s=>{const i=s;i.addEventListener("keydown",function(c){if(c.code==="Enter"||c.key==="Enter"){const r=i.id.replace("Prompt","");r==="image"?d():r==="chat"?u():r==="bigquery"?p():r==="kaggle"?w():r==="tavily"&&m()}})});const e=document.getElementById("dashboardLogin");e&&e.addEventListener("keydown",function(s){s.key==="Enter"&&h()}),console.log("ğŸ§¹ Clearing component cache and resetting state..."),localStorage.getItem("components-working")==="true"?console.log("âœ… Components were working, preserving state..."):(console.log("ğŸ§¹ Components not working, clearing cache..."),delete window.MUSIC,delete window.POLACZEK,sessionStorage.removeItem("polaczek-status"),sessionStorage.removeItem("music-status")),localStorage.setItem("components-initialized","false");let n=0;const l=50,a=()=>{n++,console.log(`ğŸ” Component check attempt ${n}/${l}`);const s=window.MUSIC&&typeof window.MUSIC.ensureLoaded=="function",i=window.POLACZEK&&typeof window.POLACZEK.openAssistant=="function";if(console.log(`ğŸµ Music ready: ${s}, ğŸ¤– POLACZEK ready: ${i}`),s&&i){console.log("âœ… All components are ready!"),localStorage.setItem("components-initialized","true"),localStorage.setItem("components-working","true");return}n<l?setTimeout(a,100):(console.warn("âŒ Components not all ready after 5 seconds, but continuing without forced reload"),localStorage.setItem("components-initialized","partial"))};I(),setTimeout(a,500),setTimeout(()=>{console.log("ğŸ”„ Auto-initializing components after page load..."),f(),y()},1e3),window.openImageGenerator=d,window.openChatbot=u,window.openBigQuery=p,window.openKaggle=w,window.openTavily=m,window.testButtonFunction=k,window.checkDashboardLogin=h,window.openFunction=g,window.toggleMusicPlayer=O,window.togglePolaczekAssistant=L,window.toggleGoogleVoice=S,window.openMainChat=v,window.openRefresh=T,window.openFolder=M,window.openClose=G,window.checkAllStatus=I,window.runAllAPITests=A,window.openAPITestConsole=E,window.resetComponents=b,window.hardResetComponents=z,console.log("All functions assigned to window object"),console.log("ğŸ”§ Debug functions available:"),console.log("- resetComponents() - soft reset"),console.log("- hardResetComponents() - hard reset with page reload"),console.log("- checkAllStatus() - check API status"),console.log("- Check localStorage.getItem('components-working') for component status")});function O(o=!0){if(!o){console.log("ğŸš« Auto-activation blocked for Music Player");return}console.log("ğŸµ Toggling Music Player (manual click)");const e=document.getElementById("musicPlayerBtn"),t=document.getElementById("musicPlayerWidget");e&&t&&(e.style.transform="scale(1.1) translateY(-2px)",setTimeout(()=>{e.style.transform=""},200),t.classList.toggle("hidden"),t.classList.contains("hidden")||setTimeout(()=>{if(console.log("ğŸµ Widget shown, checking Music API..."),window.MUSIC&&window.MUSIC.ensureLoaded){console.log("ğŸµ Music API available, calling ensureLoaded...");try{window.MUSIC.ensureLoaded()}catch(n){console.warn("Music ensureLoaded failed:",n)}}else console.log("ğŸµ Music API not available, waiting for initialization..."),f()},500),console.log("Music Player widget toggled"))}function L(o=!0){if(!o){console.log("ğŸš« Auto-activation blocked for AI Assistant");return}console.log("ğŸ¤– Toggling AI Assistant (manual click)");const e=document.getElementById("polaczekBtn"),t=document.getElementById("polaczekWidget");e&&t&&(e.style.transform="scale(1.1) translateY(-2px)",setTimeout(()=>{e.style.transform=""},200),t.classList.toggle("hidden"),t.classList.contains("hidden")||setTimeout(()=>{if(console.log("ğŸ¤– Widget shown, checking POLACZEK API..."),window.POLACZEK&&window.POLACZEK.openAssistant){console.log("ğŸ¤– POLACZEK API available, opening assistant...");try{window.POLACZEK.openAssistant(),window.POLACZEK.forceReconnect&&window.POLACZEK.forceReconnect()}catch(n){console.warn("POLACZEK openAssistant failed:",n)}}else console.log("ğŸ¤– POLACZEK API not available, waiting for initialization..."),y()},500),console.log("AI Assistant widget toggled"))}function S(o=!0){if(!o){console.log("ğŸš« Auto-activation blocked for Google Voice");return}console.log("ğŸ¤ Toggling Google Voice (manual click)");const e=document.getElementById("googleVoiceBtn"),t=document.getElementById("googleVoiceWidget");e&&t&&(e.style.transform="scale(1.1) translateY(-2px)",setTimeout(()=>{e.style.transform=""},200),t.classList.toggle("hidden"),t.classList.contains("hidden")||setTimeout(()=>{if(console.log("ğŸ¤ Widget shown, checking Google Voice API..."),window.GOOGLE_VOICE&&window.GOOGLE_VOICE.isSupported){console.log("ğŸ¤ Google Voice API available, checking support...");try{window.GOOGLE_VOICE.isSupported()?console.log("ğŸ¤ Speech recognition supported and ready"):console.warn("ğŸ¤ Speech recognition not supported in this browser")}catch(n){console.warn("Google Voice initialization failed:",n)}}else console.log("ğŸ¤ Google Voice API not available, waiting for initialization..."),P()},500),console.log("Google Voice widget toggled"))}function f(){console.log("ğŸµ Waiting for Music API...");let o=0;const e=100,t=()=>{if(o++,console.log(`ğŸµ Music API check attempt ${o}/${e}`),window.MUSIC&&window.MUSIC.ensureLoaded){console.log("ğŸµ Music API ready! Initializing...");try{window.MUSIC.ensureLoaded(),sessionStorage.setItem("music-status","ready"),localStorage.setItem("components-working","true"),console.log("ğŸµ Music player initialized successfully!")}catch(n){console.warn("Music ensureLoaded failed:",n),sessionStorage.setItem("music-status","error")}}else o<e?(console.log("ğŸµ Music API not ready yet, retrying..."),setTimeout(t,100)):(console.error("ğŸµ Music API not ready after 10 seconds - component may not be loaded"),sessionStorage.setItem("music-status","timeout"),console.log("ğŸµ Debug info:"),console.log("- window.MUSIC exists:",!!window.MUSIC),console.log("- window.MUSIC.ensureLoaded exists:",!!(window.MUSIC&&window.MUSIC.ensureLoaded)),console.log("- Music widget element exists:",!!document.getElementById("musicPlayerWidget")),console.log("ğŸµ Use resetComponents() or hardResetComponents() in console if needed"))};t()}function y(){console.log("ğŸ¤– Waiting for POLACZEK API...");let o=0;const e=100,t=()=>{if(o++,console.log(`ğŸ¤– POLACZEK API check attempt ${o}/${e}`),window.POLACZEK&&window.POLACZEK.openAssistant){console.log("ğŸ¤– POLACZEK API ready! Connecting...");try{if(window.POLACZEK.getStatus){const n=window.POLACZEK.getStatus();console.log("ğŸ¤– Current POLACZEK status:",n),n==="disconnected"&&(console.log("ğŸ¤– Triggering reconnection..."),window.dispatchEvent(new CustomEvent("polaczek-reconnect")))}sessionStorage.setItem("polaczek-status","ready"),localStorage.setItem("components-working","true"),console.log("ğŸ¤– POLACZEK assistant initialized successfully!")}catch(n){console.warn("POLACZEK initialization failed:",n),sessionStorage.setItem("polaczek-status","error")}}else o<e?(console.log("ğŸ¤– POLACZEK API not ready yet, retrying..."),setTimeout(t,100)):(console.error("ğŸ¤– POLACZEK API not ready after 10 seconds - component may not be loaded"),sessionStorage.setItem("polaczek-status","timeout"),console.log("ğŸ¤– Debug info:"),console.log("- window.POLACZEK exists:",!!window.POLACZEK),console.log("- window.POLACZEK.openAssistant exists:",!!(window.POLACZEK&&window.POLACZEK.openAssistant)),console.log("- POLACZEK widget element exists:",!!document.getElementById("polaczekWidget")),console.log("ğŸ¤– Use resetComponents() or hardResetComponents() in console if needed"))};t()}function P(){console.log("ğŸ¤ Waiting for Google Voice API...");let o=0;const e=50,t=()=>{if(o++,console.log(`ğŸ¤ Google Voice API check attempt ${o}/${e}`),window.GOOGLE_VOICE&&window.GOOGLE_VOICE.isSupported){console.log("ğŸ¤ Google Voice API ready! Checking support...");try{const n=window.GOOGLE_VOICE.isSupported();console.log("ğŸ¤ Speech recognition supported:",n),sessionStorage.setItem("google-voice-status",n?"ready":"not-supported"),localStorage.setItem("components-working","true"),console.log("ğŸ¤ Google Voice initialized successfully!")}catch(n){console.warn("Google Voice initialization failed:",n),sessionStorage.setItem("google-voice-status","error")}}else o<e?(console.log("ğŸ¤ Google Voice API not ready yet, retrying..."),setTimeout(t,100)):(console.error("ğŸ¤ Google Voice API not ready after 5 seconds - component may not be loaded"),sessionStorage.setItem("google-voice-status","timeout"),console.log("ğŸ¤ Debug info:"),console.log("- window.GOOGLE_VOICE exists:",!!window.GOOGLE_VOICE),console.log("- window.GOOGLE_VOICE.isSupported exists:",!!(window.GOOGLE_VOICE&&window.GOOGLE_VOICE.isSupported)),console.log("- Google Voice widget element exists:",!!document.getElementById("googleVoiceWidget")),console.log("ğŸ¤ Use resetComponents() or hardResetComponents() in console if needed"))};t()}function b(){console.log("ğŸ”„ Manually resetting all components..."),delete window.MUSIC,delete window.POLACZEK,delete window.GOOGLE_VOICE,sessionStorage.clear(),localStorage.setItem("components-initialized","false"),localStorage.setItem("components-working","false"),setTimeout(()=>{console.log("ğŸ”„ Re-initializing components..."),f(),y(),P()},500),console.log("ğŸ”„ Component reset completed!")}function z(){console.log("ğŸ’£ Hard resetting - clearing everything and reloading page..."),localStorage.clear(),sessionStorage.clear(),delete window.MUSIC,delete window.POLACZEK,window.location.reload(!0)}function v(){console.log("ğŸ’¬ Opening Main Chat"),window.open("/chatbot","_blank")}function T(){console.log("ğŸ”„ Refreshing page"),window.location.reload()}function M(){console.log("ğŸ“ Opening folder"),alert("Otwieranie lokalnego folderu jest zablokowane przez przeglÄ…darki ze wzglÄ™dÃ³w bezpieczeÅ„stwa.")}function G(){console.log("âŒ Closing tab");try{window.close()}catch{alert("Zamykanie karty moÅ¼e byÄ‡ zablokowane przez przeglÄ…darkÄ™.")}}
