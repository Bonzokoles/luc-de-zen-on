if(typeof MessageChannel>"u"){class s{constructor(){this.onmessage=null}postMessage(a){const o={data:a};(typeof queueMicrotask=="function"?queueMicrotask:r=>setTimeout(r,0))(()=>this.onmessage&&this.onmessage(o))}start(){}close(){}}class e{constructor(){this.port1=new s,this.port2=new s;const a=(o,r)=>{const u={data:r};(typeof queueMicrotask=="function"?queueMicrotask:f=>setTimeout(f,0))(()=>o.onmessage&&o.onmessage(u))};this.port1.postMessage=o=>a(this.port2,o),this.port2.postMessage=o=>a(this.port1,o)}}globalThis.MessageChannel=e}async function n(){console.log("🧪 Testing Chat API...");try{const s=await fetch("/api/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:"Test message from API test",model:"gpt-3.5-turbo"})}),e=await s.json();return s.ok?(console.log("✅ Chat API test successful:",e),{success:!0,message:"Chat API is working correctly",data:e}):(console.log("❌ Chat API test failed:",e),{success:!1,message:e.error||"Chat API test failed"})}catch(s){return console.log("❌ Chat API test error:",s),{success:!1,message:s.message}}}async function c(s="Test message"){console.log("🤖 Testing AI Bot API...");try{const e=await fetch("/api/ai-bot-worker",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:s,context:"test"})}),t=await e.json();return e.ok?(console.log("✅ AI Bot API test successful:",t),{success:!0,message:"AI Bot API is working correctly",data:t}):(console.log("❌ AI Bot API test failed:",t),{success:!1,message:t.error||"AI Bot API test failed"})}catch(e){return console.log("❌ AI Bot API test error:",e),{success:!1,message:e.message}}}async function l(s="beautiful landscape"){console.log("🎨 Testing Image Generation API...");try{const e=await fetch("/api/generate-image",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prompt:s,size:"512x512"})}),t=await e.json();return e.ok?(console.log("✅ Image Generation API test successful:",t),{success:!0,message:"Image Generation API is working correctly",data:t}):(console.log("❌ Image Generation API test failed:",t),{success:!1,message:t.error||"Image Generation API test failed"})}catch(e){return console.log("❌ Image Generation API test error:",e),{success:!1,message:e.message}}}async function i(s="machine learning"){console.log("📊 Testing Kaggle API...");try{const e=await fetch("/api/kaggle",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({search:s})}),t=await e.json();return e.ok?(console.log("✅ Kaggle API test successful:",t),{success:!0,message:"Kaggle API is working correctly",data:t}):(console.log("❌ Kaggle API test failed:",t),{success:!1,message:t.error||"Kaggle API test failed"})}catch(e){return console.log("❌ Kaggle API test error:",e),{success:!1,message:e.message}}}async function g(s="AI technology"){console.log("🔍 Testing Tavily Search API...");try{const e=await fetch("/api/tavi",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:s})}),t=await e.json();return e.ok?(console.log("✅ Tavily API test successful:",t),{success:!0,message:"Tavily API is working correctly",data:t}):(console.log("❌ Tavily API test failed:",t),{success:!1,message:t.error||"Tavily API test failed"})}catch(e){return console.log("❌ Tavily API test error:",e),{success:!1,message:e.message}}}async function h(){console.log("🚀 Testowanie wszystkich API...");const s={chat:null,aiBot:null,imageGen:null,kaggle:null,tavily:null,errors:[]};try{s.chat=await n()}catch(e){s.errors.push(`Chat API: ${e}`)}try{s.aiBot=await c("Cześć! To jest test.")}catch(e){s.errors.push(`AI Bot: ${e}`)}try{s.imageGen=await l("futuristic city")}catch(e){s.errors.push(`Image Gen: ${e}`)}try{s.kaggle=await i("deep learning")}catch(e){s.errors.push(`Kaggle: ${e}`)}try{s.tavily=await g("artificial intelligence news")}catch(e){s.errors.push(`Tavily: ${e}`)}return console.log("🏁 Test zakończony. Wyniki:",s),s}typeof window<"u"&&(window.testAPIs={chat:n,aiBot:c,imageGen:l,kaggle:i,tavily:g,all:h},console.log("🔧 API testy dostępne globalnie:","window.testAPIs.chat(), window.testAPIs.aiBot(), window.testAPIs.all()"));export{c as testAIBot,h as testAllAPIs,n as testChatAPI,l as testImageGeneration,i as testKaggleAPI,g as testTavilyAPI};
