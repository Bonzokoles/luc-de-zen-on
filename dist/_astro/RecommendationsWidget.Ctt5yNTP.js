import"./disclose-version.DsnmJJEf.js";import"./legacy.kkaBD5aU.js";import{p as ve,f as l,s as i,c as a,t as u,g as r,a as k,h as d,b as c,d as me,e as ue,r as t,n as ye}from"./template.BqTI6ysn.js";import{s as y,e as q}from"./render.DLtPj5hE.js";import{i as b}from"./if.CL3_9eW_.js";import{e as be,i as fe}from"./each.BgQDu70D.js";import{r as ge}from"./attributes.CMoobVFc.js";import{s as xe}from"./class.Cwo7PGLY.js";import{b as F}from"./input.BDyfk_mK.js";import{i as he}from"./lifecycle.CZxN27Pe.js";/* empty css                                         */import"./index.DIeogL5L.js";import"./attributes.BJtm3mOD.js";var we=l('<button class="px-6 py-3 bg-gray-700/50 border border-gray-600/50 text-white rounded-lg font-semibold hover:bg-gray-600/50 hover:border-gray-500/50 transition-all duration-300 disabled:opacity-50 uppercase tracking-wide">Od≈õwie≈º</button>'),_e=l('<div class="p-4 bg-red-900/30 border border-red-500/50 rounded-lg text-red-300 font-mono"> </div>'),ke=l('<div class="text-center py-8"><div class="text-cyan-400 mb-4"><div class="w-12 h-12 mx-auto border-4 border-cyan-500/30 border-t-cyan-500 rounded-full animate-spin"></div></div> <p class="text-cyan-300 uppercase tracking-wide">Analizujƒô preferencje i generujƒô rekomendacje...</p></div>'),je=l('<span class="px-2 py-1 bg-gray-800/50 border border-gray-600/30 text-xs rounded text-gray-300 uppercase tracking-wide"> </span>'),ze=l('<div class="mb-3"><span class="text-cyan-400 text-sm font-semibold uppercase tracking-wide">Dlaczego dla Ciebie:</span> <p class="text-gray-400 text-sm italic font-mono"> </p></div>'),Pe=l('<div class="flex justify-between items-center"><span class="px-3 py-1 bg-cyan-900/20 border border-cyan-500/30 text-cyan-300 text-xs rounded uppercase tracking-wide font-semibold"> </span> <button class="px-4 py-2 bg-gradient-to-r from-cyan-600 to-cyan-700 text-white text-sm rounded hover:from-cyan-500 hover:to-cyan-600 transition-all duration-300 uppercase tracking-wide font-semibold border border-cyan-500/50">Dowiedz siƒô wiƒôcej</button></div>'),Se=l('<div><div class="flex justify-between items-start mb-3"><h4 class="text-white font-bold text-lg uppercase tracking-wide"> </h4> <!></div> <p class="text-gray-300 mb-3 leading-relaxed font-mono text-sm"> </p> <!> <!></div>'),Ce=l('<div class="mt-6"><h3 class="text-lg font-semibold text-cyan-300 mb-4 uppercase tracking-wider"> </h3> <div class="grid gap-4"></div></div>'),Oe=l(`<div class="text-center py-8 text-gray-500"><div class="text-4xl mb-2">ü§ñ</div> <p class="font-mono uppercase tracking-wide">Brak rekomendacji dla podanych preferencji. Spr√≥buj ponownie z innymi
          danymi.</p></div>`),Re=l('<div class="worker-card bg-black border border-cyan-500/30 p-6 rounded-lg shadow-2xl svelte-1nof2ng"><div class="mb-6"><h2 class="text-2xl font-bold text-cyan-300 mb-2 uppercase tracking-wider">Personalizowane rekomendacje</h2> <p class="text-gray-400">System rekomendacji produkt√≥w i us≈Çug oparty na preferencjach u≈ºytkownika</p></div> <div class="space-y-4"><div><label for="preferences" class="block text-cyan-300 font-medium mb-2 uppercase text-sm tracking-wide">Preferencje u≈ºytkownika</label> <textarea id="preferences" placeholder="Wpisz preferencje u≈ºytkownika (np. technologie, marketing, e-commerce)..." rows="3" class="w-full p-3 bg-gray-900/80 border border-gray-600/50 rounded-lg text-white placeholder-gray-500 focus:border-cyan-500 focus:outline-none focus:ring-2 focus:ring-cyan-500/30 font-mono"></textarea></div> <div><label for="history" class="block text-cyan-300 font-medium mb-2 uppercase text-sm tracking-wide">Historia u≈ºytkownika (opcjonalnie)</label> <input id="history" placeholder="Historia zakup√≥w, odwiedzonych stron (oddziel przecinkami)..." class="w-full p-3 bg-gray-900/80 border border-gray-600/50 rounded-lg text-white placeholder-gray-500 focus:border-cyan-500 focus:outline-none focus:ring-2 focus:ring-cyan-500/30 font-mono"/></div> <div class="flex gap-4"><button class="px-6 py-3 bg-gradient-to-r from-cyan-600 to-cyan-700 text-white rounded-lg font-semibold hover:from-cyan-500 hover:to-cyan-600 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed shadow-lg border border-cyan-500/50 uppercase tracking-wide"> </button> <!></div> <!> <!> <!> <!></div></div>');function Fe(K,L){ve(L,!1);let x=k(""),j=k(""),f=k([]),m=k(!1),h=k("");async function A(){if(!r(x).trim()){d(h,"Proszƒô podaƒá preferencje u≈ºytkownika");return}d(m,!0),d(h,"");try{const e=r(j).trim()?r(j).split(",").map(R=>R.trim()):[],p=await(await fetch("/api/get-recommendations",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({preferences:r(x),history:e,userProfile:{timestamp:new Date().toISOString()}})})).json();p.success?d(f,p.recommendations||[]):d(h,p.error||"WystƒÖpi≈Ç b≈ÇƒÖd podczas generowania rekomendacji")}catch(e){d(h,"B≈ÇƒÖd po≈ÇƒÖczenia z serwerem"),console.error("Error:",e)}finally{d(m,!1)}}function M(){d(f,[]),A()}function Q(e){return e>=4?"border-green-400 bg-green-900/10":e>=3?"border-yellow-400 bg-yellow-900/10":"border-gray-500 bg-gray-900/10"}function U(e){return e>=4?"Wysoki priorytet":e>=3?"≈öredni priorytet":"Niski priorytet"}he();var P=Re(),B=i(a(P),2),S=a(B),G=i(a(S),2);ue(G),t(S);var C=i(S,2),H=i(a(C),2);ge(H),t(C);var O=i(C,2),w=a(O),V=a(w,!0);t(w);var X=i(w,2);{var Y=e=>{var o=we();u(()=>o.disabled=r(m)),q("click",o,M),c(e,o)};b(X,e=>{r(f).length>0&&e(Y)})}t(O);var N=i(O,2);{var Z=e=>{var o=_e(),p=a(o,!0);t(o),u(()=>y(p,r(h))),c(e,o)};b(N,e=>{r(h)&&e(Z)})}var $=i(N,2);{var ee=e=>{var o=ke();c(e,o)};b($,e=>{r(m)&&e(ee)})}var E=i($,2);{var re=e=>{var o=Ce(),p=a(o),R=a(p);t(p);var I=i(p,2);be(I,5,()=>r(f),fe,(oe,v)=>{var z=Se(),W=a(z),D=a(W),ie=a(D,!0);t(D);var ne=i(D,2);{var se=n=>{var s=je(),g=a(s,!0);t(s),u(_=>y(g,_),[()=>U(r(v).priority)]),c(n,s)};b(ne,n=>{r(v).priority&&n(se)})}t(W);var T=i(W,2),de=a(T,!0);t(T);var J=i(T,2);{var ce=n=>{var s=ze(),g=i(a(s),2),_=a(g,!0);t(g),t(s),u(()=>y(_,r(v).reason)),c(n,s)};b(J,n=>{r(v).reason&&n(ce)})}var le=i(J,2);{var pe=n=>{var s=Pe(),g=a(s),_=a(g,!0);t(g),ye(2),t(s),u(()=>y(_,r(v).category)),c(n,s)};b(le,n=>{r(v).category&&n(pe)})}t(z),u(n=>{xe(z,1,`p-4 rounded-lg border ${n??""} transition-all duration-300 hover:shadow-xl hover:border-opacity-80 bg-gray-900/20`,"svelte-1nof2ng"),y(ie,r(v).title),y(de,r(v).description)},[()=>Q(r(v).priority||3)]),c(oe,z)}),t(I),t(o),u(()=>y(R,`Rekomendacje dla Ciebie (${r(f).length??""})`)),c(e,o)};b(E,e=>{r(f).length>0&&!r(m)&&e(re)})}var te=i(E,2);{var ae=e=>{var o=Oe();c(e,o)};b(te,e=>{!r(m)&&r(f).length===0&&r(x)&&e(ae)})}t(B),t(P),u(e=>{w.disabled=e,y(V,r(m)?"Generujƒô...":"Generuj rekomendacje")},[()=>r(m)||!r(x).trim()]),F(G,()=>r(x),e=>d(x,e)),F(H,()=>r(j),e=>d(j,e)),q("click",w,A),c(K,P),me()}export{Fe as default};
