/**
 * Mouse Cursor Light Effect Styles
 * Advanced visual effect with light trail and idle glow
 */

/* ===== BACKGROUND WITH GRADIENTS AND TOPOGRAPHIC LINES ===== */

.cursor-light-background {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: -2;
  pointer-events: none;
  
  /* Multi-layer gradient background */
  background: 
    radial-gradient(circle at 20% 80%, #000000 0%, #000000 30%),
    radial-gradient(circle at 60% 40%, #0a1628 30%, transparent 50%),
    radial-gradient(circle at 80% 70%, #0d1f1a 40%, transparent 60%),
    #000000;
}

/* Topographic lines on gradient edges */
.cursor-light-background::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  
  /* Multiple topographic lines for navy area */
  background: 
    radial-gradient(
      ellipse 800px 600px at 60% 40%,
      transparent 29%,
      rgba(59, 130, 246, 0.3) 30%,
      rgba(59, 130, 246, 0.4) 30.5%,
      transparent 31%
    ),
    radial-gradient(
      ellipse 900px 700px at 60% 40%,
      transparent 39%,
      rgba(59, 130, 246, 0.25) 40%,
      rgba(59, 130, 246, 0.35) 40.5%,
      transparent 41%
    ),
    radial-gradient(
      ellipse 1000px 800px at 60% 40%,
      transparent 44%,
      rgba(59, 130, 246, 0.2) 45%,
      rgba(59, 130, 246, 0.3) 45.5%,
      transparent 46%
    );
}

/* Topographic lines for green area */
.cursor-light-background::after {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  
  background: 
    radial-gradient(
      ellipse 700px 550px at 80% 70%,
      transparent 39%,
      rgba(52, 211, 153, 0.25) 40%,
      rgba(52, 211, 153, 0.35) 40.5%,
      transparent 41%
    ),
    radial-gradient(
      ellipse 800px 650px at 80% 70%,
      transparent 49%,
      rgba(52, 211, 153, 0.2) 50%,
      rgba(52, 211, 153, 0.3) 50.5%,
      transparent 51%
    ),
    radial-gradient(
      ellipse 900px 750px at 80% 70%,
      transparent 54%,
      rgba(52, 211, 153, 0.15) 55%,
      rgba(52, 211, 153, 0.25) 55.5%,
      transparent 56%
    );
}

/* ===== LIGHT TRAIL CONTAINER ===== */

.cursor-light-container {
  position: fixed;
  top: 0;
  left: 0;
  z-index: 9999;
  pointer-events: none;
  
  /* Smooth trailing with cubic-bezier easing */
  transition: transform 0.15s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  
  /* Start invisible */
  opacity: 1;
  transition: opacity 0.5s ease-out, transform 0.15s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  
  /* Ensure it stays on top but doesn't block interactions */
  will-change: transform;
}

/* ===== MAIN LIGHT ELEMENT ===== */

.cursor-light {
  position: relative;
  width: 300px;
  height: 300px;
  
  /* Center the element on cursor position */
  transform: translate(-50%, -50%);
  
  /* Main light gradient - Layer 1 (shorter trail) */
  background: radial-gradient(
    circle,
    rgba(59, 130, 246, 0.6) 0%,
    rgba(96, 165, 250, 0.4) 15%,
    rgba(147, 197, 253, 0.25) 30%,
    rgba(191, 219, 254, 0.1) 50%,
    transparent 70%
  );
  
  /* Blur for soft light effect */
  filter: blur(40px);
  
  /* Subtle pulse animation */
  animation: cursor-pulse 3s ease-in-out infinite;
}

/* Layer 2 - Extended trail (::before) - LONG TAIL */
.cursor-light::before {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 500px;
  height: 500px;
  
  background: radial-gradient(
    circle,
    rgba(59, 130, 246, 0.4) 0%,
    rgba(96, 165, 250, 0.25) 20%,
    rgba(147, 197, 253, 0.15) 35%,
    rgba(191, 219, 254, 0.08) 50%,
    transparent 70%
  );
  
  filter: blur(50px);
  opacity: 0.8;
  
  /* Longer fade-out for extended trail */
  transition: opacity 2.5s ease-out;
}

/* Layer 3 - Core glow (::after) */
.cursor-light::after {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 150px;
  height: 150px;
  
  background: radial-gradient(
    circle,
    rgba(59, 130, 246, 0.8) 0%,
    rgba(96, 165, 250, 0.5) 30%,
    rgba(147, 197, 253, 0.3) 50%,
    transparent 70%
  );
  
  filter: blur(30px);
  
  /* Faster fade for tighter core */
  transition: opacity 1.2s ease-out;
}

/* ===== IDLE STATE (GLOW EFFECT) ===== */

/* Enhanced glow when idle */
.cursor-light.idle {
  width: 400px;
  height: 400px;
  
  /* More intense glow animation when idle */
  animation: idle-glow 2s ease-in-out infinite;
}

/* Extended glow layer when idle */
.cursor-light.idle::before {
  width: 600px;
  height: 600px;
  opacity: 1;
  filter: blur(60px) brightness(1.3);
}

/* Brighter core when idle */
.cursor-light.idle::after {
  filter: blur(35px) brightness(1.5);
  
  /* Add pulsing ring effect */
  box-shadow: 
    0 0 20px rgba(96, 165, 250, 0.4),
    0 0 40px rgba(59, 130, 246, 0.3);
}

/* Pulsing ring around cursor when idle - using a new pseudo-element approach */
/* We'll add this via the ring animation on the main element's border */
.cursor-light.idle {
  /* Create ring effect with border */
  position: relative;
}

/* Add animated ring via border styling */
.cursor-light.idle::before {
  border: 2px solid rgba(147, 197, 253, 0.3);
  border-radius: 50%;
  box-shadow: 
    0 0 20px rgba(96, 165, 250, 0.4),
    0 0 40px rgba(59, 130, 246, 0.2),
    inset 0 0 30px rgba(191, 219, 254, 0.1);
  
  /* Ring pulse animation */
  animation: idle-ring 3s ease-in-out infinite;
}

/* ===== ANIMATIONS ===== */

/* Subtle pulse for normal cursor movement */
@keyframes cursor-pulse {
  0%, 100% {
    opacity: 1;
    filter: blur(40px);
  }
  50% {
    opacity: 0.85;
    filter: blur(45px);
  }
}

/* Enhanced glow animation for idle state */
@keyframes idle-glow {
  0%, 100% {
    opacity: 1;
    filter: blur(40px) brightness(1);
  }
  50% {
    opacity: 0.9;
    filter: blur(50px) brightness(1.2);
  }
}

/* Pulsing ring animation for idle state */
@keyframes idle-ring {
  0%, 100% {
    transform: translate(-50%, -50%) scale(1);
    opacity: 0.5;
  }
  50% {
    transform: translate(-50%, -50%) scale(1.1);
    opacity: 0.8;
  }
}

/* ===== RESPONSIVE & ACCESSIBILITY ===== */

/* Disable on touch devices */
@media (hover: none) and (pointer: coarse) {
  .cursor-light-background,
  .cursor-light-container {
    display: none !important;
  }
}

/* Reduce sizes on smaller screens */
@media (max-width: 768px) {
  .cursor-light {
    width: 200px;
    height: 200px;
  }
  
  .cursor-light::before {
    width: 350px;
    height: 350px;
  }
  
  .cursor-light::after {
    width: 100px;
    height: 100px;
  }
  
  .cursor-light.idle {
    width: 300px;
    height: 300px;
  }
  
  .cursor-light.idle::before {
    width: 450px;
    height: 450px;
  }
}

/* Respect user's motion preferences */
@media (prefers-reduced-motion: reduce) {
  .cursor-light-container {
    transition: none;
  }
  
  .cursor-light,
  .cursor-light::before,
  .cursor-light::after {
    animation: none !important;
  }
}
