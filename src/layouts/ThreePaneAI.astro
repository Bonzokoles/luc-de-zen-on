---
/**
 * ThreePaneAI Layout
 * Reużywalny layout 3 kolumn (Left / Center / Right) dla narzędzi AI.
 * Zastępuje ad-hoc grid + inline scale w `image-generator.astro`.
 *
 * Props:
 *  - pageTitle, pageDescription (opcjonalne – jeśli wywołane wewnątrz UniversalPageLayout możesz je pominąć)
 *  - left, center, right: Content (sloty) kolumn
 *  - dense (boolean) – ciaśniejsze odstępy
 *  - fullHeight (boolean) – stretch min-h
 *  - glass (boolean) – czy stosować półprzezroczyste panele
 *  - gap (string) – tailwindowy gap override (domyślnie gap-6)
 */
interface Props {
  pageTitle?: string;
  pageDescription?: string;
  dense?: boolean;
  fullHeight?: boolean;
  glass?: boolean;
  gap?: string;
}

const { pageTitle, pageDescription, dense = false, fullHeight = false, glass = true, gap = 'gap-6' } = Astro.props;

const panelBase = `rounded-lg ${glass ? 'bg-black/60 backdrop-blur-xl border border-cyan-500/20' : ''}`;
const pad = dense ? 'p-4' : 'p-6';
---

<div class={`three-pane-wrapper w-full ${fullHeight ? 'min-h-[70vh]' : ''}`}>
  {pageTitle && (
    <header class="mb-6 text-center">
      <h2 class="text-3xl font-bold tracking-wide text-cyan-400">{pageTitle}</h2>
      {pageDescription && <p class="mt-1 text-gray-300 text-sm">{pageDescription}</p>}
    </header>
  )}
  <div class={`grid grid-cols-1 xl:grid-cols-12 ${gap}`}>
    <div class={`xl:col-span-3 mb-6 xl:mb-0`}> 
      <div class={`${panelBase} ${pad} h-full`}>
        <slot name="left" />
      </div>
    </div>
    <div class="xl:col-span-6 mb-6 xl:mb-0">
      <div class={`${panelBase} ${pad} h-full`}>
        <slot name="center" />
      </div>
    </div>
    <div class="xl:col-span-3">
      <div class={`${panelBase} ${pad} h-full`}>
        <slot name="right" />
      </div>
    </div>
  </div>
</div>

<style>
  .three-pane-wrapper { animation: fadeIn 0.4s ease; }
  @keyframes fadeIn { from { opacity:0; transform:translateY(8px);} to {opacity:1; transform:translateY(0);} }
  @media (max-width: 1024px){
    .three-pane-wrapper header h2 { font-size: 2rem; }
  }
</style>
