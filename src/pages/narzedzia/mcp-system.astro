---
import MainLayout from '../../layouts/MainLayout.astro';
import MCPConnectionStatus from '../../components/narzedzia/MCPConnectionStatus';
---

<MainLayout 
  title="MCP System - Model Context Protocol"
  description="ZarzƒÖdzanie po≈ÇƒÖczeniem MCP z system prompts i walidacjƒÖ bezpiecze≈Ñstwa"
>
  <div class="container mx-auto px-4 py-8 max-w-7xl">
    <!-- Header -->
    <div class="text-center mb-12">
      <h1 class="text-4xl md:text-5xl font-bold mb-4 bg-gradient-to-r from-cyan-400 to-purple-500 bg-clip-text text-transparent">
        MCP System 2025
      </h1>
      <p class="text-xl text-slate-400 max-w-3xl mx-auto">
        Model Context Protocol - Najnowszy standard po≈ÇƒÖczenia z AI z pe≈Çnym zarzƒÖdzaniem po≈ÇƒÖczeniem, system prompts i walidacjƒÖ bezpiecze≈Ñstwa
      </p>
    </div>

    <!-- Connection Status Component -->
    <div class="mb-8">
      <MCPConnectionStatus client:load serverUrl="/api/mcp-server" autoConnect={true} />
    </div>

    <!-- Info Sections -->
    <div class="grid md:grid-cols-2 gap-6 mb-8">
      <!-- Connection Management -->
      <div class="card bg-slate-900 border-slate-700 p-6">
        <h2 class="text-2xl font-bold text-white mb-4 flex items-center gap-2">
          <span class="text-cyan-400">üîó</span>
          ZarzƒÖdzanie Po≈ÇƒÖczeniem
        </h2>
        <ul class="space-y-3 text-slate-300">
          <li class="flex items-start gap-2">
            <span class="text-green-400 mt-1">‚úì</span>
            <span><strong>Keep-Alive:</strong> Automatyczne utrzymanie po≈ÇƒÖczenia</span>
          </li>
          <li class="flex items-start gap-2">
            <span class="text-green-400 mt-1">‚úì</span>
            <span><strong>Heartbeat:</strong> Sprawdzanie stanu co 30s</span>
          </li>
          <li class="flex items-start gap-2">
            <span class="text-green-400 mt-1">‚úì</span>
            <span><strong>Auto-reconnect:</strong> Automatyczne ponowne ≈ÇƒÖczenie</span>
          </li>
          <li class="flex items-start gap-2">
            <span class="text-green-400 mt-1">‚úì</span>
            <span><strong>Wyk≈Çadniczy backoff:</strong> Inteligentne op√≥≈∫nienia</span>
          </li>
          <li class="flex items-start gap-2">
            <span class="text-green-400 mt-1">‚úì</span>
            <span><strong>Monitoring:</strong> Real-time status po≈ÇƒÖczenia</span>
          </li>
        </ul>
      </div>

      <!-- Safety Features -->
      <div class="card bg-slate-900 border-slate-700 p-6">
        <h2 class="text-2xl font-bold text-white mb-4 flex items-center gap-2">
          <span class="text-purple-400">üõ°Ô∏è</span>
          Funkcje Bezpiecze≈Ñstwa
        </h2>
        <ul class="space-y-3 text-slate-300">
          <li class="flex items-start gap-2">
            <span class="text-green-400 mt-1">‚úì</span>
            <span><strong>Walidacja Prompt√≥w:</strong> Sprawdzanie niebezpiecznych wzorc√≥w</span>
          </li>
          <li class="flex items-start gap-2">
            <span class="text-green-400 mt-1">‚úì</span>
            <span><strong>Walidacja Skills:</strong> Tylko zweryfikowane funkcje</span>
          </li>
          <li class="flex items-start gap-2">
            <span class="text-green-400 mt-1">‚úì</span>
            <span><strong>Filtrowanie Tre≈õci:</strong> Usuwanie credentials i injection</span>
          </li>
          <li class="flex items-start gap-2">
            <span class="text-green-400 mt-1">‚úì</span>
            <span><strong>System Prompts:</strong> Kontekstowe zasady bezpiecze≈Ñstwa</span>
          </li>
          <li class="flex items-start gap-2">
            <span class="text-green-400 mt-1">‚úì</span>
            <span><strong>PII Protection:</strong> Ochrona danych osobowych</span>
          </li>
        </ul>
      </div>
    </div>

    <!-- API Examples -->
    <div class="card bg-slate-900 border-slate-700 p-6 mb-8">
      <h2 class="text-2xl font-bold text-white mb-4">Przyk≈Çady API</h2>
      
      <div class="space-y-6">
        <!-- Example 1 -->
        <div>
          <h3 class="text-lg font-semibold text-cyan-400 mb-2">1. Wykonanie Skill z Safety Check</h3>
          <pre class="bg-slate-800 rounded-lg p-4 overflow-x-auto"><code class="text-sm text-slate-300">POST /api/mcp-server
{
  "action": "execute_skill",
  "skillId": "text-generation",
  "prompt": "Napisz profesjonalny email",
  "context": "business",
  "parameters": {
    "tone": "professional",
    "length": "medium"
  }
}</code></pre>
        </div>

        <!-- Example 2 -->
        <div>
          <h3 class="text-lg font-semibold text-purple-400 mb-2">2. Walidacja Skill</h3>
          <pre class="bg-slate-800 rounded-lg p-4 overflow-x-auto"><code class="text-sm text-slate-300">POST /api/mcp-server
{
  "action": "validate_skill",
  "skillId": "email-writing"
}</code></pre>
        </div>

        <!-- Example 3 -->
        <div>
          <h3 class="text-lg font-semibold text-green-400 mb-2">3. Pobranie System Prompt</h3>
          <pre class="bg-slate-800 rounded-lg p-4 overflow-x-auto"><code class="text-sm text-slate-300">POST /api/mcp-server
{
  "action": "get_system_prompt",
  "context": "business"
}</code></pre>
        </div>
      </div>
    </div>

    <!-- Safe Skills -->
    <div class="card bg-slate-900 border-slate-700 p-6 mb-8">
      <h2 class="text-2xl font-bold text-white mb-4">Dozwolone Skills</h2>
      
      <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-6">
        <!-- Content Skills -->
        <div>
          <h3 class="text-lg font-semibold text-cyan-400 mb-3">Content</h3>
          <ul class="space-y-2 text-sm text-slate-300">
            <li>‚Ä¢ text-generation</li>
            <li>‚Ä¢ summarization</li>
            <li>‚Ä¢ translation</li>
            <li>‚Ä¢ paraphrasing</li>
            <li>‚Ä¢ grammar-check</li>
          </ul>
        </div>

        <!-- Business Skills -->
        <div>
          <h3 class="text-lg font-semibold text-purple-400 mb-3">Business</h3>
          <ul class="space-y-2 text-sm text-slate-300">
            <li>‚Ä¢ email-writing</li>
            <li>‚Ä¢ document-generation</li>
            <li>‚Ä¢ data-analysis</li>
            <li>‚Ä¢ report-generation</li>
            <li>‚Ä¢ task-management</li>
          </ul>
        </div>

        <!-- Technical Skills -->
        <div>
          <h3 class="text-lg font-semibold text-green-400 mb-3">Technical</h3>
          <ul class="space-y-2 text-sm text-slate-300">
            <li>‚Ä¢ code-review</li>
            <li>‚Ä¢ documentation</li>
            <li>‚Ä¢ debugging-assistance</li>
            <li>‚Ä¢ api-integration</li>
            <li>‚Ä¢ testing</li>
          </ul>
        </div>

        <!-- Creative Skills -->
        <div>
          <h3 class="text-lg font-semibold text-orange-400 mb-3">Creative</h3>
          <ul class="space-y-2 text-sm text-slate-300">
            <li>‚Ä¢ brainstorming</li>
            <li>‚Ä¢ ideation</li>
            <li>‚Ä¢ content-planning</li>
            <li>‚Ä¢ social-media</li>
          </ul>
        </div>
      </div>
    </div>

    <!-- Documentation Link -->
    <div class="card bg-gradient-to-r from-cyan-900/50 to-purple-900/50 border-cyan-700 p-6 text-center">
      <h2 class="text-2xl font-bold text-white mb-3">üìö Pe≈Çna Dokumentacja</h2>
      <p class="text-slate-300 mb-4">
        Dowiedz siƒô wiƒôcej o MCP System, Connection Manager, Safety Validator i API
      </p>
      <a 
        href="/docs/MCP_SYSTEM_2025.md" 
        target="_blank"
        class="inline-block px-6 py-3 bg-cyan-600 hover:bg-cyan-700 text-white rounded-lg font-semibold transition-colors"
      >
        Zobacz Dokumentacjƒô
      </a>
    </div>

    <!-- Footer Info -->
    <div class="mt-8 text-center text-sm text-slate-500">
      <p>Model Context Protocol 2025 Specification</p>
      <p class="mt-1">
        Zgodne z:
        <a href="https://modelcontextprotocol.io/" target="_blank" class="text-cyan-400 hover:underline ml-1">
          modelcontextprotocol.io
        </a>
      </p>
    </div>
  </div>
</MainLayout>

<style>
  .card {
    @apply bg-white/5 backdrop-blur-sm border rounded-xl shadow-xl;
  }
</style>
