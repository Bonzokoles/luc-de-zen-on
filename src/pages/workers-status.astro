---
import MyBonzoLayout from "../layouts/MyBonzoLayout.astro";
import AiHelpAssistant from "../components/AiHelpAssistant.svelte";
---

<MyBonzoLayout title="Workers Status & Store | AI Workers">
  <main class="min-h-svh">
    <!-- Header Section -->
    <section class="border border-edge">
      <div class="max-w-6xl mx-auto border-x border-edge">
        <div class="flex justify-between max-h-72 min-h-64">
          <div class="mt-auto">
            <span
              style="writing-mode: vertical-lr;"
              class="text-edge block px-2 text-xl font-semibold tracking-[0.3em]"
            >
              WORKERS
            </span>
          </div>
          <span class="mt-auto">
            <span
              style=""
              class="text-edge block px-2 text-xl font-semibold tracking-[0.3em]"
            >
              STATUS
            </span>
          </span>
        </div>
      </div>
    </section>

    <!-- Navigation Section -->
    <section class="border border-edge">
      <div class="max-w-6xl mx-auto border-x border-edge">
        <div class="flex flex-row p-2">
          <a class="hover:brightness-125" href="/">
            <h1 class="text-4xl sm:text-5xl">WORKERS STATUS & STORE</h1>
            <h2 class="text-2xl sm:text-3xl">AI Workers Management</h2>
          </a>

          <div class="hidden ml-auto gap-4 md:gap-0 md:flex md:flex-col">
            <a class="ml-auto hover:brightness-125 duration-200" href="/">
              ‚Üê Powr√≥t do strony g≈Ç√≥wnej
              <svg
                style="--rotation: -45deg"
                class="stroke-primary-foreground inline aspect-square w-3 h-auto fill-transparent rotate-[var(--rotation)]"
                viewBox="0 0 24 24"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M3 12L21 12M21 12L12.5 3.5M21 12L12.5 20.5"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"></path>
              </svg>
            </a>
          </div>
        </div>
      </div>
    </section>

    <!-- Workers Status Section -->
    <section
      class="ai-workers-section flex items-center justify-center py-16"
      id="workers-status"
    >
      <div class="section-container max-w-6xl mx-auto">
        <h2 class="section-title">AI WORKERS STATUS & STORE</h2>
        <p class="section-description">
          ZarzƒÖdzanie statusem worker√≥w AI oraz zakup token√≥w do poszczeg√≥lnych
          us≈Çug
        </p>

        <!-- Global Stats -->
        <div class="global-stats-grid mb-8">
          <div class="stat-card">
            <div class="stat-icon">üöÄ</div>
            <div class="stat-value" id="totalWorkers">5</div>
            <div class="stat-label">Aktywnych Workers</div>
          </div>
          <div class="stat-card">
            <div class="stat-icon">üí∞</div>
            <div class="stat-value" id="totalTokens">323</div>
            <div class="stat-label">≈ÅƒÖczne Tokeny</div>
          </div>
          <div class="stat-card">
            <div class="stat-icon">‚ö°</div>
            <div class="stat-value" id="apiCalls">1,247</div>
            <div class="stat-label">API Calls (24h)</div>
          </div>
          <div class="stat-card">
            <div class="stat-icon">üí≥</div>
            <div class="stat-value" id="monthlySpend">142</div>
            <div class="stat-label">PLN (miesiƒÖc)</div>
          </div>
          <div class="stat-card">
            <div class="stat-icon">üìà</div>
            <div class="stat-value" id="successRate">98.2%</div>
            <div class="stat-label">Success Rate</div>
          </div>
          <div class="stat-card">
            <div class="stat-icon">üî•</div>
            <div class="stat-value" id="avgResponse">2.1s</div>
            <div class="stat-label">Avg Response</div>
          </div>
          <div class="stat-card">
            <div class="stat-icon">üåê</div>
            <div class="stat-value" id="dataProcessed">847GB</div>
            <div class="stat-label">Data Processed</div>
          </div>
          <div class="stat-card">
            <div class="stat-icon">‚è±Ô∏è</div>
            <div class="stat-value" id="totalUptime">99.1%</div>
            <div class="stat-label">Total Uptime</div>
          </div>
        </div>

        <!-- Workers Status Management -->
        <div
          class="workers-management"
          style="background: rgba(15, 23, 42, 0.75); border: 1px solid rgba(0, 217, 255, 0.3); border-radius: 12px; margin-top: 2rem;"
        >
          <!-- Management Header -->
          <div
            class="management-header"
            style="background: rgba(15, 23, 42, 0.9); border-bottom: 1px solid rgba(0, 217, 255, 0.3); padding: 1rem; display: flex; align-items: center; justify-content: space-between;"
          >
            <div class="flex items-center gap-3">
              <div class="w-3 h-3 bg-green-400 rounded-full animate-pulse">
              </div>
              <span class="text-primary-foreground font-semibold"
                >AI Workers Management System</span
              >
            </div>
            <div class="flex gap-2">
              <button
                onclick="refreshAllWorkersStatus()"
                class="px-3 py-1 bg-green-600 hover:bg-green-700 text-white rounded text-sm"
              >
                Od≈õwie≈º wszystkie
              </button>
              <button
                onclick="exportWorkersReport()"
                class="px-3 py-1 bg-blue-600 hover:bg-blue-700 text-white rounded text-sm"
              >
                Export raportu
              </button>
              <button
                onclick="openBulkTokenPurchase()"
                class="px-3 py-1 bg-purple-600 hover:bg-purple-700 text-white rounded text-sm"
              >
                Bulk Purchase
              </button>
            </div>
          </div>

          <!-- Detailed Workers List -->
          <div class="workers-detailed-list p-6">
            <!-- Image Generator Worker -->
            <div class="worker-detailed-card">
              <div class="worker-main-info">
                <div class="worker-icon">üé®</div>
                <div class="worker-details">
                  <h3 class="worker-name">
                    Generator Obraz√≥w (Flux-1 Schnell)
                  </h3>
                  <p class="worker-description">
                    AI-powered image generation with high-quality output
                  </p>
                  <div class="worker-endpoints">
                    <span class="endpoint-tag">POST /api/generate-image</span>
                    <span class="endpoint-tag">GET /api/image-status</span>
                  </div>
                </div>
                <div class="worker-status-indicator">
                  <div class="status-badge online">ONLINE</div>
                  <div class="uptime">99.8% uptime</div>
                </div>
              </div>

              <div class="worker-metrics">
                <div class="metric">
                  <label>Tokeny:</label>
                  <span class="tokens-count">47 pozosta≈Ço</span>
                </div>
                <div class="metric">
                  <label>U≈ºycie (24h):</label>
                  <span>23 generacji</span>
                </div>
                <div class="metric">
                  <label>Avg. czas:</label>
                  <span>2.3s</span>
                </div>
                <div class="metric">
                  <label>Koszt/token:</label>
                  <span>0.20 PLN</span>
                </div>
              </div>

              <div class="worker-actions">
                <button
                  onclick="buyWorkerTokens('image-gen')"
                  class="btn-primary">Kup tokeny</button
                >
                <button
                  onclick="configureWorker('image-gen')"
                  class="btn-secondary">Konfiguruj</button
                >
                <button
                  onclick="viewWorkerLogs('image-gen')"
                  class="btn-tertiary">Logi</button
                >
              </div>
            </div>

            <!-- AI Chatbot Worker -->
            <div class="worker-detailed-card">
              <div class="worker-main-info">
                <div class="worker-icon">ü§ñ</div>
                <div class="worker-details">
                  <h3 class="worker-name">
                    AI Chatbot (GPT-4, Claude, Bielik)
                  </h3>
                  <p class="worker-description">
                    Multi-model conversational AI with advanced reasoning
                  </p>
                  <div class="worker-endpoints">
                    <span class="endpoint-tag">POST /api/ai-bot-worker</span>
                    <span class="endpoint-tag">GET /api/chat-models</span>
                  </div>
                </div>
                <div class="worker-status-indicator">
                  <div class="status-badge online">ONLINE</div>
                  <div class="uptime">99.9% uptime</div>
                </div>
              </div>

              <div class="worker-metrics">
                <div class="metric">
                  <label>Tokeny:</label>
                  <span class="tokens-count">156 pozosta≈Ço</span>
                </div>
                <div class="metric">
                  <label>U≈ºycie (24h):</label>
                  <span>89 konwersacji</span>
                </div>
                <div class="metric">
                  <label>Avg. czas:</label>
                  <span>1.8s</span>
                </div>
                <div class="metric">
                  <label>Koszt/token:</label>
                  <span>0.15 PLN</span>
                </div>
              </div>

              <div class="worker-actions">
                <button onclick="buyWorkerTokens('chatbot')" class="btn-primary"
                  >Kup tokeny</button
                >
                <button
                  onclick="configureWorker('chatbot')"
                  class="btn-secondary">Konfiguruj</button
                >
                <button onclick="viewWorkerLogs('chatbot')" class="btn-tertiary"
                  >Logi</button
                >
              </div>
            </div>

            <!-- BigQuery Analytics Worker -->
            <div class="worker-detailed-card">
              <div class="worker-main-info">
                <div class="worker-icon">üìä</div>
                <div class="worker-details">
                  <h3 class="worker-name">BigQuery Analytics</h3>
                  <p class="worker-description">
                    Google BigQuery integration for large-scale data analysis
                  </p>
                  <div class="worker-endpoints">
                    <span class="endpoint-tag">POST /api/bigquery</span>
                    <span class="endpoint-tag">GET /api/bq-datasets</span>
                  </div>
                </div>
                <div class="worker-status-indicator">
                  <div class="status-badge online">ONLINE</div>
                  <div class="uptime">98.5% uptime</div>
                </div>
              </div>

              <div class="worker-metrics">
                <div class="metric">
                  <label>Zapytania:</label>
                  <span class="tokens-count">23 pozosta≈Ço</span>
                </div>
                <div class="metric">
                  <label>U≈ºycie (24h):</label>
                  <span>12 zapyta≈Ñ</span>
                </div>
                <div class="metric">
                  <label>Avg. czas:</label>
                  <span>4.2s</span>
                </div>
                <div class="metric">
                  <label>Koszt/zapytanie:</label>
                  <span>0.85 PLN</span>
                </div>
              </div>

              <div class="worker-actions">
                <button
                  onclick="buyWorkerTokens('bigquery')"
                  class="btn-primary">Kup zapytania</button
                >
                <button
                  onclick="configureWorker('bigquery')"
                  class="btn-secondary">Konfiguruj</button
                >
                <button
                  onclick="viewWorkerLogs('bigquery')"
                  class="btn-tertiary">Logi</button
                >
              </div>
            </div>

            <!-- Kaggle Datasets Worker -->
            <div class="worker-detailed-card">
              <div class="worker-main-info">
                <div class="worker-icon">üèÜ</div>
                <div class="worker-details">
                  <h3 class="worker-name">Kaggle Datasets Explorer</h3>
                  <p class="worker-description">
                    Search and analyze datasets, competitions, and kernels
                  </p>
                  <div class="worker-endpoints">
                    <span class="endpoint-tag">GET /api/kaggle</span>
                    <span class="endpoint-tag">POST /api/kaggle-search</span>
                  </div>
                </div>
                <div class="worker-status-indicator">
                  <div class="status-badge limited">LIMITED</div>
                  <div class="uptime">96.2% uptime</div>
                </div>
              </div>

              <div class="worker-metrics">
                <div class="metric">
                  <label>Wyszukiwania:</label>
                  <span class="tokens-count warning">8 pozosta≈Ço</span>
                </div>
                <div class="metric">
                  <label>U≈ºycie (24h):</label>
                  <span>7 wyszukiwa≈Ñ</span>
                </div>
                <div class="metric">
                  <label>Avg. czas:</label>
                  <span>3.1s</span>
                </div>
                <div class="metric">
                  <label>Koszt/wyszukanie:</label>
                  <span>0.50 PLN</span>
                </div>
              </div>

              <div class="worker-actions">
                <button
                  onclick="buyWorkerTokens('kaggle')"
                  class="btn-primary premium">Upgrade Premium</button
                >
                <button
                  onclick="configureWorker('kaggle')"
                  class="btn-secondary">Konfiguruj</button
                >
                <button onclick="viewWorkerLogs('kaggle')" class="btn-tertiary"
                  >Logi</button
                >
              </div>
            </div>

            <!-- Tavily Search Worker -->
            <div class="worker-detailed-card">
              <div class="worker-main-info">
                <div class="worker-icon">üîç</div>
                <div class="worker-details">
                  <h3 class="worker-name">Tavily AI Search</h3>
                  <p class="worker-description">
                    AI-powered web search with content analysis and
                    summarization
                  </p>
                  <div class="worker-endpoints">
                    <span class="endpoint-tag">POST /api/tavi</span>
                    <span class="endpoint-tag">GET /api/search-history</span>
                  </div>
                </div>
                <div class="worker-status-indicator">
                  <div class="status-badge online">ONLINE</div>
                  <div class="uptime">99.1% uptime</div>
                </div>
              </div>

              <div class="worker-metrics">
                <div class="metric">
                  <label>Wyszukiwania:</label>
                  <span class="tokens-count">89 pozosta≈Ço</span>
                </div>
                <div class="metric">
                  <label>U≈ºycie (24h):</label>
                  <span>31 wyszukiwa≈Ñ</span>
                </div>
                <div class="metric">
                  <label>Avg. czas:</label>
                  <span>2.7s</span>
                </div>
                <div class="metric">
                  <label>Koszt/wyszukanie:</label>
                  <span>0.12 PLN</span>
                </div>
              </div>

              <div class="worker-actions">
                <button onclick="buyWorkerTokens('tavily')" class="btn-primary"
                  >Kup wyszukiwania</button
                >
                <button
                  onclick="configureWorker('tavily')"
                  class="btn-secondary">Konfiguruj</button
                >
                <button onclick="viewWorkerLogs('tavily')" class="btn-tertiary"
                  >Logi</button
                >
              </div>
            </div>
          </div>
        </div>

        <!-- Token Store Section -->
        <div class="token-store-section mt-8">
          <h3 class="text-2xl font-semibold mb-6 text-primary-foreground">
            üõí Token Store - Bulk Packages
          </h3>
          <div class="store-packages-grid">
            <div class="store-package">
              <div class="package-header">
                <h4>Starter Pack</h4>
                <div class="package-price">99 PLN</div>
              </div>
              <div class="package-content">
                <ul>
                  <li>50 token√≥w Image Gen</li>
                  <li>100 token√≥w Chatbot</li>
                  <li>20 zapyta≈Ñ BigQuery</li>
                  <li>50 wyszukiwa≈Ñ Tavily</li>
                  <li>30 wyszukiwa≈Ñ Kaggle</li>
                </ul>
                <div class="package-savings">Oszczƒôdzasz 15 PLN</div>
              </div>
              <button class="package-buy-btn">Kup teraz</button>
            </div>

            <div class="store-package popular">
              <div class="package-badge">POPULARNE</div>
              <div class="package-header">
                <h4>Professional Pack</h4>
                <div class="package-price">249 PLN</div>
              </div>
              <div class="package-content">
                <ul>
                  <li>150 token√≥w Image Gen</li>
                  <li>300 token√≥w Chatbot</li>
                  <li>60 zapyta≈Ñ BigQuery</li>
                  <li>200 wyszukiwa≈Ñ Tavily</li>
                  <li>100 wyszukiwa≈Ñ Kaggle</li>
                </ul>
                <div class="package-savings">Oszczƒôdzasz 45 PLN</div>
              </div>
              <button class="package-buy-btn">Kup teraz</button>
            </div>

            <div class="store-package">
              <div class="package-header">
                <h4>Enterprise Pack</h4>
                <div class="package-price">499 PLN</div>
              </div>
              <div class="package-content">
                <ul>
                  <li>400 token√≥w Image Gen</li>
                  <li>800 token√≥w Chatbot</li>
                  <li>150 zapyta≈Ñ BigQuery</li>
                  <li>500 wyszukiwa≈Ñ Tavily</li>
                  <li>300 wyszukiwa≈Ñ Kaggle</li>
                </ul>
                <div class="package-savings">Oszczƒôdzasz 120 PLN</div>
              </div>
              <button class="package-buy-btn">Kup teraz</button>
            </div>
          </div>
        </div>

        <!-- Usage Analytics -->
        <div
          class="usage-analytics mt-8"
          style="background: rgba(15, 23, 42, 0.75); border: 1px solid rgba(0, 217, 255, 0.3); border-radius: 12px; padding: 1.5rem;"
        >
          <h3 class="text-xl font-semibold mb-4 text-primary-foreground">
            üìà Analityka u≈ºycia (ostatnie 7 dni)
          </h3>
          <div class="analytics-grid">
            <div class="analytics-chart">
              <h4>U≈ºycie token√≥w</h4>
              <div class="chart-placeholder">
                <div class="chart-bar" style="height: 60%">Pon</div>
                <div class="chart-bar" style="height: 80%">Wt</div>
                <div class="chart-bar" style="height: 45%">≈ör</div>
                <div class="chart-bar" style="height: 90%">Czw</div>
                <div class="chart-bar" style="height: 70%">Pt</div>
                <div class="chart-bar" style="height: 30%">Sob</div>
                <div class="chart-bar" style="height: 25%">Nie</div>
              </div>
            </div>
            <div class="analytics-summary">
              <h4>Podsumowanie</h4>
              <div class="summary-stats">
                <div class="summary-item">
                  <span>Najczƒô≈õciej u≈ºywany:</span>
                  <span class="highlight">AI Chatbot</span>
                </div>
                <div class="summary-item">
                  <span>≈öredni koszt/dzie≈Ñ:</span>
                  <span class="highlight">18.50 PLN</span>
                </div>
                <div class="summary-item">
                  <span>Ca≈Çkowite API calls:</span>
                  <span class="highlight">1,847</span>
                </div>
                <div class="summary-item">
                  <span>Success rate:</span>
                  <span class="highlight success">98.2%</span>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>
  </main>

  <!-- AI Help Assistant Integration -->
  <AiHelpAssistant client:load />
</MyBonzoLayout>

<style>
  /* Base styles matching main page */
  .section-container {
    padding: 2rem;
    text-align: center;
  }

  .section-title {
    font-size: 3rem;
    font-weight: bold;
    color: #00bcd4;
    margin-bottom: 1rem;
    text-transform: uppercase;
  }

  .section-description {
    font-size: 1.25rem;
    color: #d1d5db;
    margin-bottom: 2rem;
  }

  .ai-workers-section {
    background: linear-gradient(
      135deg,
      rgba(15, 23, 42, 0.75) 0%,
      rgba(30, 41, 59, 0.75) 100%
    );
    min-height: 100vh;
  }

  /* Global Stats Grid */
  .global-stats-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
    gap: 1.5rem;
    margin-bottom: 2rem;
  }

  .stat-card {
    background: rgba(15, 23, 42, 0.75);
    border: 1px solid rgba(0, 217, 255, 0.3);
    border-radius: 12px;
    padding: 1.5rem;
    text-align: center;
    transition: all 0.3s ease;
  }

  .stat-card:hover {
    border-color: rgba(0, 217, 255, 0.6);
    background: rgba(0, 217, 255, 0.1);
  }

  .stat-icon {
    font-size: 2rem;
    margin-bottom: 0.5rem;
  }

  .stat-value {
    font-size: 2.5rem;
    font-weight: bold;
    color: #00bcd4;
    margin-bottom: 0.25rem;
  }

  .stat-label {
    color: #9ca3af;
    font-size: 0.9rem;
    text-transform: uppercase;
    letter-spacing: 0.5px;
  }

  /* Workers Detailed Cards */
  .worker-detailed-card {
    background: rgba(15, 23, 42, 0.75);
    border: 1px solid rgba(0, 217, 255, 0.3);
    border-radius: 12px;
    padding: 1.5rem;
    margin-bottom: 1.5rem;
    transition: all 0.3s ease;
  }

  .worker-detailed-card:hover {
    border-color: rgba(0, 217, 255, 0.5);
    background: rgba(0, 217, 255, 0.05);
  }

  .worker-main-info {
    display: flex;
    align-items: flex-start;
    gap: 1rem;
    margin-bottom: 1rem;
  }

  .worker-icon {
    font-size: 2.5rem;
    flex-shrink: 0;
  }

  .worker-details {
    flex: 1;
  }

  .worker-name {
    color: #00bcd4;
    font-size: 1.25rem;
    font-weight: 600;
    margin-bottom: 0.5rem;
  }

  .worker-description {
    color: #d1d5db;
    margin-bottom: 0.75rem;
  }

  .worker-endpoints {
    display: flex;
    gap: 0.5rem;
    flex-wrap: wrap;
  }

  .endpoint-tag {
    background: rgba(15, 23, 42, 0.7);
    color: #9ca3af;
    padding: 0.25rem 0.5rem;
    border-radius: 4px;
    font-size: 0.75rem;
    font-family: monospace;
  }

  .worker-status-indicator {
    text-align: right;
    flex-shrink: 0;
  }

  .uptime {
    color: #9ca3af;
    font-size: 0.8rem;
    margin-top: 0.25rem;
  }

  .worker-metrics {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
    gap: 1rem;
    margin-bottom: 1rem;
    padding: 1rem;
    background: rgba(15, 23, 42, 0.5);
    border-radius: 8px;
  }

  .metric {
    text-align: center;
  }

  .metric label {
    display: block;
    color: #9ca3af;
    font-size: 0.8rem;
    margin-bottom: 0.25rem;
  }

  .metric span {
    color: #d1d5db;
    font-weight: 500;
  }

  .tokens-count {
    color: #00bcd4 !important;
  }

  .tokens-count.warning {
    color: #fbbf24 !important;
  }

  .worker-actions {
    display: flex;
    gap: 0.75rem;
    justify-content: center;
  }

  .btn-primary,
  .btn-secondary,
  .btn-tertiary {
    padding: 0.5rem 1rem;
    border-radius: 6px;
    font-size: 0.875rem;
    font-weight: 500;
    cursor: pointer;
    transition: all 0.3s ease;
    border: none;
  }

  .btn-primary {
    background: linear-gradient(135deg, #00bcd4 0%, #0099cc 100%);
    color: #000;
  }

  .btn-primary:hover {
    background: linear-gradient(135deg, #0099cc 0%, #007799 100%);
    transform: translateY(-1px);
  }

  .btn-primary.premium {
    background: linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%);
  }

  .btn-secondary {
    background: rgba(15, 23, 42, 0.7);
    color: #d1d5db;
    border: 1px solid rgba(0, 217, 255, 0.3);
  }

  .btn-secondary:hover {
    border-color: #00bcd4;
    background: rgba(0, 217, 255, 0.1);
  }

  .btn-tertiary {
    background: transparent;
    color: #9ca3af;
    border: 1px solid #374151;
  }

  .btn-tertiary:hover {
    color: #d1d5db;
    border-color: #6b7280;
  }

  /* Store Packages */
  .store-packages-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 2rem;
  }

  .store-package {
    background: rgba(15, 23, 42, 0.75);
    border: 1px solid rgba(0, 217, 255, 0.3);
    border-radius: 12px;
    padding: 1.5rem;
    position: relative;
    transition: all 0.3s ease;
  }

  .store-package.popular {
    border-color: #22c55e;
    background: rgba(34, 197, 94, 0.1);
  }

  .package-badge {
    position: absolute;
    top: -8px;
    right: 1rem;
    background: linear-gradient(45deg, #22c55e, #16a34a);
    color: white;
    padding: 0.25rem 0.75rem;
    border-radius: 12px;
    font-size: 0.75rem;
    font-weight: bold;
  }

  .package-header {
    text-align: center;
    margin-bottom: 1rem;
  }

  .package-header h4 {
    color: #00bcd4;
    font-size: 1.5rem;
    font-weight: 600;
    margin-bottom: 0.5rem;
  }

  .package-price {
    font-size: 2.5rem;
    font-weight: bold;
    color: #d1d5db;
  }

  .package-content ul {
    list-style: none;
    padding: 0;
    margin: 0 0 1rem 0;
  }

  .package-content li {
    padding: 0.5rem 0;
    color: #d1d5db;
    border-bottom: 1px solid rgba(0, 217, 255, 0.1);
  }

  .package-savings {
    color: #22c55e;
    font-weight: 600;
    text-align: center;
    margin-bottom: 1rem;
  }

  .package-buy-btn {
    width: 100%;
    background: linear-gradient(135deg, #00bcd4 0%, #0099cc 100%);
    color: #000;
    border: none;
    padding: 0.75rem;
    border-radius: 8px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.3s ease;
  }

  .package-buy-btn:hover {
    background: linear-gradient(135deg, #0099cc 0%, #007799 100%);
    transform: translateY(-2px);
  }

  /* Analytics */
  .analytics-grid {
    display: grid;
    grid-template-columns: 2fr 1fr;
    gap: 2rem;
  }

  .chart-placeholder {
    display: flex;
    align-items: end;
    gap: 0.5rem;
    height: 200px;
    padding: 1rem;
    background: rgba(15, 23, 42, 0.7);
    border-radius: 8px;
    margin-top: 1rem;
  }

  .chart-bar {
    background: linear-gradient(135deg, #00bcd4 0%, #0099cc 100%);
    width: 100%;
    border-radius: 4px 4px 0 0;
    display: flex;
    align-items: end;
    justify-content: center;
    padding-bottom: 0.5rem;
    color: #000;
    font-size: 0.75rem;
    font-weight: 600;
  }

  .summary-stats {
    background: rgba(15, 23, 42, 0.7);
    border-radius: 8px;
    padding: 1rem;
    margin-top: 1rem;
  }

  .summary-item {
    display: flex;
    justify-content: space-between;
    padding: 0.5rem 0;
    border-bottom: 1px solid rgba(0, 217, 255, 0.1);
  }

  .summary-item:last-child {
    border-bottom: none;
  }

  .highlight {
    color: #00bcd4;
    font-weight: 600;
  }

  .highlight.success {
    color: #22c55e;
  }

  /* Responsive design */
  @media (max-width: 768px) {
    .worker-main-info {
      flex-direction: column;
      text-align: center;
    }

    .worker-metrics {
      grid-template-columns: repeat(2, 1fr);
    }

    .worker-actions {
      flex-direction: column;
    }

    .analytics-grid {
      grid-template-columns: 1fr;
    }

    .store-packages-grid {
      grid-template-columns: 1fr;
    }
  }
</style>

<script>
  function refreshAllWorkersStatus() {
    // Simulate refreshing all workers
    console.log("Refreshing all workers status...");

    // Update UI indicators
    const statusBadges = document.querySelectorAll(".status-badge");
    statusBadges.forEach((badge) => {
      badge.textContent = "UPDATING...";
      badge.className = "status-badge";

      setTimeout(
        () => {
          const isOnline = Math.random() > 0.2;
          badge.className = `status-badge ${isOnline ? "online" : "offline"}`;
          badge.textContent = isOnline ? "ONLINE" : "OFFLINE";
        },
        1000 + Math.random() * 2000
      );
    });
  }

  function exportWorkersReport() {
    // Generate workers report
    const report = {
      timestamp: new Date().toISOString(),
      workers: [
        { name: "Image Generator", status: "online", tokens: 47, usage24h: 23 },
        { name: "AI Chatbot", status: "online", tokens: 156, usage24h: 89 },
        {
          name: "BigQuery Analytics",
          status: "online",
          tokens: 23,
          usage24h: 12,
        },
        { name: "Kaggle Datasets", status: "limited", tokens: 8, usage24h: 7 },
        { name: "Tavily Search", status: "online", tokens: 89, usage24h: 31 },
      ],
    };

    const blob = new Blob([JSON.stringify(report, null, 2)], {
      type: "application/json",
    });
    const url = URL.createObjectURL(blob);
    const a = document.createElement("a");
    a.href = url;
    a.download = `workers-report-${new Date().toISOString().split("T")[0]}.json`;
    a.click();
    URL.revokeObjectURL(url);
  }

  function openBulkTokenPurchase() {
    alert("Bulk Token Purchase - funkcjonalno≈õƒá dostƒôpna wkr√≥tce!");
  }

  function buyWorkerTokens(workerType) {
    alert(`Zakup token√≥w dla ${workerType} - przekierowanie do p≈Çatno≈õci...`);
  }

  function configureWorker(workerType) {
    alert(`Konfiguracja workera ${workerType} - otwieranie panelu...`);
  }

  function viewWorkerLogs(workerType) {
    alert(`Logi workera ${workerType} - otwieranie konsoli...`);
  }

  // Update stats on load
  document.addEventListener("DOMContentLoaded", () => {
    // Animate counter numbers
    const counters = document.querySelectorAll(".stat-value");
    counters.forEach((counter) => {
      const target = parseInt(counter.textContent.replace(/,/g, ""));
      let current = 0;
      const increment = target / 100;

      const updateCounter = () => {
        if (current < target) {
          current += increment;
          counter.textContent = Math.floor(current).toLocaleString();
          setTimeout(updateCounter, 20);
        } else {
          counter.textContent = target.toLocaleString();
        }
      };

      updateCounter();
    });
  });
</script>
