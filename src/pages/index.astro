---
import MyBonzoLayout from "../layouts/MyBonzoLayout.astro";
import RandomQuote from "../components/RandomQuote.astro";
import ImageGeneratorWidget from "../components/ImageGeneratorWidget.svelte";
import PolaczekWidget from "../components/PolaczekWidget.svelte";
import MainChatWidget from "../components/MainChatWidget.svelte";
import AiHelpAssistant from "../components/AiHelpAssistant.svelte";
import FAQGeneratorWidget from "../components/FAQGeneratorWidget.svelte";
import EducationRecommendationsWidget from "../components/EducationRecommendationsWidget.svelte";
import TicketSubmissionWidget from "../components/TicketSubmissionWidget.svelte";
import WorkersStatusDashboard from "../components/WorkersStatusDashboard.svelte";
import QuickVoiceAI from "../components/QuickVoiceAI.astro";
import EdgeAudioVisualizer from "../components/voice-ai/EdgeAudioVisualizer.tsx";
import BackgroundMusicPlayerFixed from "../components/BackgroundMusicPlayerFixed.svelte";
import DecorativeLines from "../components/DecorativeLines.astro";
import OpenRouterFloatingButtons from "../components/OpenRouterFloatingButtons.svelte";
// import { Icon } from "astro-icon/components";
---

<MyBonzoLayout siteTitle="AI Workers Platform | KAROL LISSON">
  <DecorativeLines />

  <!-- Global vertical lines for workers sections -->
  <div class="workers-vertical-line-left"></div>
  <div class="workers-vertical-line-right"></div>

  <main class="min-h-svh">
    <!-- Top Separator Section -->
    <section class="border border-edge relative z-[1]">
      <div class="absolute left-0 right-0 h-full">
        <!-- Inner vertical lines -->
        <div
          class="absolute left-[calc(50vw+400px)] top-0 bottom-0 w-px bg-edge z-[1]"
        >
        </div>
        <div
          class="absolute right-[calc(50vw-400px)] top-0 bottom-0 w-px bg-edge z-[1]"
        >
        </div>
        <!-- Outer vertical lines -->
        <div
          class="absolute left-[calc(50vw+600px)] top-0 bottom-0 w-px bg-edge z-[1]"
        >
        </div>
        <div
          class="absolute right-[calc(50vw-600px)] top-0 bottom-0 w-px bg-edge z-[1]"
        >
        </div>
      </div>
      <div class="max-w-6xl mx-auto">
        <div class="py-1"></div>
      </div>
    </section>

    <!-- Header Section -->
    <section class="border border-edge relative z-[1]">
      <div class="absolute left-0 right-0 h-full">
        <!-- Inner vertical lines -->
        <div
          class="absolute left-[calc(50vw+400px)] top-0 bottom-0 w-px bg-edge z-[1]"
        >
        </div>
        <div
          class="absolute right-[calc(50vw-400px)] top-0 bottom-0 w-px bg-edge z-[1]"
        >
        </div>
        <!-- Outer vertical lines -->
        <div
          class="absolute left-[calc(50vw+600px)] top-0 bottom-0 w-px bg-edge z-[1]"
        >
        </div>
        <div
          class="absolute right-[calc(50vw-600px)] top-0 bottom-0 w-px bg-edge z-[1]"
        >
        </div>
      </div>
      <div class="max-w-6xl mx-auto">
        <div class="flex justify-between max-h-72 min-h-64">
          <!-- Left corner - O_MNIE content -->
          <div class="mt-auto" style="max-width: 45vw;">
            <div
              class="text-edge text-sm italic px-2"
              style="
                transform: scale(1.32);
                transform-origin: left center;
                margin: 15px;
                margin-left: 0px;
                width: calc(45vw - 30px);
                max-width: 380px;
                line-height: 1.4;
                word-wrap: break-word;
                hyphens: auto;
              "
            >
              Pasjonat technologii i programista z misj�.<br />
              Tworz� nowoczesne rozwi�zania, kt�re ��cz�<br />
              sztuczn� inteligencj� z automatyzacj�.<br />
              Moim celem jest budowanie u�ytecznych narz�dzi.
            </div>
          </div>
          <span class="mt-auto">
            <div
              style="
              transform: scale(1.56);
              transform-origin: center right;
              margin: 15px;
              width: calc(50vw - 576px - 10px - 20px - 30px);
              max-width: 400px;
              text-align: right;
              word-wrap: break-word;
              hyphens: auto;
            "
            >
              <RandomQuote />
            </div>
            <span
              style=""
              class="text-edge block px-2 text-xl font-semibold tracking-[0.3em]"
            >
              AUG 2025
            </span>
          </span>
        </div>
      </div>
    </section>

    <!-- Header-Navigation Separator -->
    <section class="border border-edge relative z-[1]">
      <div class="absolute left-0 right-0 h-full">
        <!-- Inner vertical lines -->
        <div
          class="absolute left-[calc(50vw+400px)] top-0 bottom-0 w-px bg-edge z-[1]"
        >
        </div>
        <div
          class="absolute right-[calc(50vw-400px)] top-0 bottom-0 w-px bg-edge z-[1]"
        >
        </div>
        <!-- Outer vertical lines -->
        <div
          class="absolute left-[calc(50vw+600px)] top-0 bottom-0 w-px bg-edge z-[1]"
        >
        </div>
        <div
          class="absolute right-[calc(50vw-600px)] top-0 bottom-0 w-px bg-edge z-[1]"
        >
        </div>
      </div>
      <div class="max-w-6xl mx-auto">
        <div class="py-1"></div>
      </div>
    </section>

    <!-- Navigation Section -->
    <section class="border border-edge relative z-[1]">
      <div class="absolute left-0 right-0 h-full">
        <!-- Inner vertical lines -->
        <div
          class="absolute left-[calc(50vw+400px)] top-0 bottom-0 w-px bg-edge z-[1]"
        >
        </div>
        <div
          class="absolute right-[calc(50vw-400px)] top-0 bottom-0 w-px bg-edge z-[1]"
        >
        </div>
        <!-- Outer vertical lines -->
        <div
          class="absolute left-[calc(50vw+600px)] top-0 bottom-0 w-px bg-edge z-[1]"
        >
        </div>
        <div
          class="absolute right-[calc(50vw-600px)] top-0 bottom-0 w-px bg-edge z-[1]"
        >
        </div>
      </div>
      <div class="max-w-6xl mx-auto">
        <div class="flex flex-row p-2">
          <a class="hover:brightness-125" href="/">
            <h1 class="text-4xl sm:text-5xl">KAROL LISSON</h1>
            <h2 class="text-2xl sm:text-3xl">MY_Bonzo_AI_ZEnon_HuB</h2>
          </a>

          <div class="hidden ml-auto gap-4 md:gap-0 md:flex md:flex-col">
            <a
              class="ml-auto hover:brightness-125 duration-200"
              href="mailto:LissonKarol.msa@gmail.com"
            >
              LissonKarol.msa@gmail.com
              <svg
                style="--rotation: -45deg"
                class="stroke-primary-foreground inline aspect-square w-3 h-auto fill-transparent rotate-[var(--rotation)]"
                viewBox="0 0 24 24"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M3 12L21 12M21 12L12.5 3.5M21 12L12.5 20.5"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"></path>
              </svg>
            </a>
            <div class="flex flex-row-reverse flex-wrap gap-4">
              <a
                class="hover:brightness-125 duration-200"
                href="https://www.linkedin.com/in/linkedinHandle"
              >
                LinkedIn
                <svg
                  style="--rotation: -45deg"
                  class="stroke-primary-foreground inline aspect-square w-3 h-auto fill-transparent rotate-[var(--rotation)]"
                  viewBox="0 0 24 24"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M3 12L21 12M21 12L12.5 3.5M21 12L12.5 20.5"
                    stroke-width="2"
                    stroke-linecap="round"
                    stroke-linejoin="round"></path>
                </svg>
              </a>
              <a
                class="hover:brightness-125 duration-200"
                href="https://www.github.com/githubUsername"
              >
                GitHub
                <svg
                  style="--rotation: -45deg"
                  class="stroke-primary-foreground inline aspect-square w-3 h-auto fill-transparent rotate-[var(--rotation)]"
                  viewBox="0 0 24 24"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M3 12L21 12M21 12L12.5 3.5M21 12L12.5 20.5"
                    stroke-width="2"
                    stroke-linecap="round"
                    stroke-linejoin="round"></path>
                </svg>
              </a>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Separator Section 1 -->
    <section class="border border-edge relative z-[1]">
      <div class="absolute left-0 right-0 h-full">
        <!-- Inner vertical lines -->
        <div
          class="absolute left-[calc(50vw+400px)] top-0 bottom-0 w-px bg-edge z-[1]"
        >
        </div>
        <div
          class="absolute right-[calc(50vw-400px)] top-0 bottom-0 w-px bg-edge z-[1]"
        >
        </div>
        <!-- Outer vertical lines -->
        <div
          class="absolute left-[calc(50vw+600px)] top-0 bottom-0 w-px bg-edge z-[1]"
        >
        </div>
        <div
          class="absolute right-[calc(50vw-600px)] top-0 bottom-0 w-px bg-edge z-[1]"
        >
        </div>
      </div>
      <div class="max-w-6xl mx-auto">
        <div class="py-1"></div>
      </div>
    </section>

    <!-- AI Workers Section - Centered -->
    <section
      class="border border-edge ai-workers-section flex items-center justify-center py-16 relative z-[1]"
      id="ai-workers"
    >
      <div class="absolute left-0 right-0 h-full">
        <!-- Inner vertical lines -->
        <div
          class="absolute left-[calc(50vw+400px)] top-0 bottom-0 w-px bg-edge z-[1]"
        >
        </div>
        <div
          class="absolute right-[calc(50vw-400px)] top-0 bottom-0 w-px bg-edge z-[1]"
        >
        </div>
        <!-- Outer vertical lines -->
        <div
          class="absolute left-[calc(50vw+600px)] top-0 bottom-0 w-px bg-edge z-[1]"
        >
        </div>
        <div
          class="absolute right-[calc(50vw-600px)] top-0 bottom-0 w-px bg-edge z-[1]"
        >
        </div>
      </div>
      <div class="max-w-6xl mx-auto w-full">
        <div class="section-container">
          <h2 class="system-title">SYSTEM ZAAWANSOWANEJ AUTOMATYZACJI AI</h2>

          <!-- Separator after title -->
          <div
            style="
            width: calc(100vw - 2 * (50vw - 576px - 10px - 20px));
            max-width: 1212px;
            margin: 0 auto;
            border-t: 1px solid #ffffff;
            margin-top: 1rem;
            margin-bottom: 1.5rem;
          "
          >
          </div>

          <p
            class="section-description"
            style="
            width: calc(100vw - 2 * (50vw - 576px - 10px - 20px) - 40px);
            max-width: 1100px;
            margin: 0 auto;
            margin-left: calc(50% - 10px);
            transform: translateX(-50%);
            text-align: center;
            font-size: 1.1rem;
            line-height: 1.6;
            padding: 0 15px;
          "
          >
            Platforma integruje wyspecjalizowane Workery AI, działające w
            chmurze Cloudflare, aby dostarczać kompleksowe rozwiązania
            automatyzacji z wykorzystaniem sztucznej inteligencji.
          </p>
        </div>

        {
          /* Keep the avatar + start/stop controls mounted as before (unchanged position) */
        }
        <QuickVoiceAI />

        {/* Voice Avatar Component - animowany avatar z synchronizacją ust */}
        {
          /* Temporarily disabled - working on generator graphics 
        <div class="my-8 flex justify-center">
          <VoiceAvatarComponent
            client:load
            variant="hero"
            avatarType="animated"
            enableLipSync={true}
            className="max-w-md"
          />
        </div>
        */
        }

        <!-- Full-width Music Visualizer - Extended to Left Screen Edge -->
        <div
          style="
            position: relative;
            left: 0;
            right: 0;
            width: 100vw;
            margin-top: 1rem;
            margin-bottom: 1.5rem;
            padding: 12px 0;
            margin-left: -50vw;
            margin-right: -50vw;
            left: 50%;
            background: rgba(0, 0, 0, 0.4);
          "
        >
          <!-- White lines extending to full screen width -->
          <div
            style="position:absolute; left:0; right:0; top:0; height:1px; background:#ffffff;"
          >
          </div>
          <div
            style="position:absolute; left:0; right:0; bottom:0; height:1px; background:#ffffff;"
          >
          </div>

          <!-- Music Visualizer - Two waves: Music Player and Mic -->
          <div
            style="
              width: 100vw;
              height: 120px;
              position: relative;
              display: flex;
              justify-content: center;
              align-items: center;
            "
          >
            <!-- Back layer: reacts to Music Player, same height but wave 3% taller -->
            <div
              style="
                position:absolute; 
                left: 50%; 
                transform: translateX(-50%) scaleY(1.03); 
                width: calc(100vw - 2 * (50vw - 576px - 10px - 20px));
                max-width: 1212px;
                height: 120px;
                opacity: 0.4;
                filter: hue-rotate(30deg) brightness(1.2);
                pointer-events:none;
              "
            >
              <EdgeAudioVisualizer
                client:only="react"
                height={120}
                source="music"
                variant="music"
              />
            </div>

            <!-- Back layer mirrored: reacts to Music Player, flipped horizontally with darker color -->
            <div
              style="
                position:absolute; 
                left: 50%; 
                transform: translateX(-50%) scaleY(1.03) scaleX(-1); 
                width: calc(100vw - 2 * (50vw - 576px - 10px - 20px));
                max-width: 1212px;
                height: 120px;
                opacity: 0.3;
                filter: hue-rotate(30deg) brightness(0.8);
                pointer-events:none;
              "
            >
              <EdgeAudioVisualizer
                client:only="react"
                height={120}
                source="music"
                variant="music"
              />
            </div>

            <!-- Front layer: reacts to Avatar (mic) -->
            <div
              style="
                position:absolute; 
                left: 50%; 
                transform: translateX(-50%); 
                width: calc(100vw - 2 * (50vw - 576px - 10px - 20px));
                max-width: 1212px;
                height: 120px;
                opacity: 0.8;
                pointer-events:none;
              "
            >
              <EdgeAudioVisualizer
                client:only="react"
                height={120}
                source="mic"
                variant="mic"
              />
            </div>
          </div>

          <!-- Optimized Script - Single Audio Context -->
          <script>
            // OPTIMIZED: Single audio context for all visualizers
            let globalAudioContext = null;
            let visualizerInitialized = false;

            function initializeSharedAudioContext() {
              if (visualizerInitialized) return;

              try {
                if (!globalAudioContext) {
                  globalAudioContext = new (window.AudioContext ||
                    window.webkitAudioContext)();
                  window.SHARED_AUDIO_CONTEXT = globalAudioContext;
                }

                // Only connect if music player is ready
                if (window.MUSIC && !window.MUSIC_ANALYSER) {
                  const musicElement = document.querySelector("audio");
                  if (musicElement) {
                    const analyser = globalAudioContext.createAnalyser();
                    analyser.fftSize = 256;
                    analyser.smoothingTimeConstant = 0.8;

                    const source =
                      globalAudioContext.createMediaElementSource(musicElement);
                    source.connect(analyser);
                    analyser.connect(globalAudioContext.destination);

                    window.MUSIC_ANALYSER = analyser;
                    window.dispatchEvent(
                      new CustomEvent("music-analyser-ready")
                    );
                    visualizerInitialized = true;
                    console.log("🎵 Optimized visualizer connected");
                  }
                }
              } catch (e) {
                console.warn("Visualizer init failed:", e);
              }
            }

            // Delayed initialization to prevent conflicts
            document.addEventListener("DOMContentLoaded", () => {
              setTimeout(initializeSharedAudioContext, 2000); // Wait 2 seconds
            });

            // Resume audio context on user interaction
            document.addEventListener(
              "click",
              function resumeAudio() {
                if (
                  globalAudioContext &&
                  globalAudioContext.state === "suspended"
                ) {
                  globalAudioContext.resume().then(() => {
                    console.log("🎵 Shared audio context resumed");
                  });
                }
              },
              { once: true }
            );
          </script>
        </div>

        <!-- Dashboard Buttons Section (only buttons after login) -->
        <div class="dashboard-buttons-section hidden" id="dashboardButtons">
          <a
            href="/dashboard/klienci"
            class="dashboard-btn"
            data-astro-cid-my52qgmw>KLIENCI_DSH_BON</a
          >
          <a
            href="/dashboard/statystyki"
            class="dashboard-btn"
            data-astro-cid-my52qgmw>AKYW_STATYSTIC</a
          >
          <a
            href="/dashboard/prywatne"
            class="dashboard-btn"
            data-astro-cid-my52qgmw>PRIV_STAFF</a
          >
        </div>

        <!-- Small Tags Section -->
        <div
          class="tags-section"
          style="
               display: flex !important;
               justify-content: center !important;
               gap: 1rem !important;
               margin-bottom: 2rem !important;
               width: 100% !important;
               z-index: 1000 !important;
               position: relative !important;
             "
          data-astro-cid-my52qgmw
        >
          <button
            class="tag-btn"
            onclick="window.open('/POLACZEK_AGENT_SYS_23', '_blank')"
            style="
              background: rgba(0, 217, 255, 0.1) !important;
              border: 1px solid rgba(0, 217, 255, 0.4) !important;
              color: #00d9ff !important;
              padding: 0.8rem 2rem !important;
              font-size: 0.9rem !important;
              font-weight: 600 !important;
              text-transform: uppercase !important;
              letter-spacing: 1px !important;
              cursor: pointer !important;
              transition: all 0.3s ease !important;
              font-family: Rajdhani, sans-serif !important;
              flex: 1 !important;
              text-align: center !important;
              min-width: 0 !important;
            "
            data-astro-cid-my52qgmw>POLACZEK_AGENT_SYS_23</button
          >
          <button
            class="tag-btn"
            onclick="window.open('/hub/ai-agent-s', '_blank')"
            style="
              background: rgba(0, 217, 255, 0.1) !important;
              border: 1px solid rgba(0, 217, 255, 0.4) !important;
              color: #00d9ff !important;
              padding: 0.8rem 2rem !important;
              font-size: 0.9rem !important;
              font-weight: 600 !important;
              text-transform: uppercase !important;
              letter-spacing: 1px !important;
              cursor: pointer !important;
              transition: all 0.3s ease !important;
              font-family: Rajdhani, sans-serif !important;
              flex: 1 !important;
              text-align: center !important;
              min-width: 0 !important;
            "
            data-astro-cid-my52qgmw>BIELIK</button
          >
          <button
            class="tag-btn"
            onclick="window.open('/workers-status', '_blank')"
            style="
              background: rgba(0, 217, 255, 0.1) !important;
              border: 1px solid rgba(0, 217, 255, 0.4) !important;
              color: #00d9ff !important;
              padding: 0.8rem 2rem !important;
              font-size: 0.9rem !important;
              font-weight: 600 !important;
              text-transform: uppercase !important;
              letter-spacing: 1px !important;
              cursor: pointer !important;
              transition: all 0.3s ease !important;
              font-family: Rajdhani, sans-serif !important;
              flex: 1 !important;
              text-align: center !important;
              min-width: 0 !important;
            "
            data-astro-cid-my52qgmw>ZENON</button
          >
          <button
            class="tag-btn"
            onclick="window.open('/klf-sheed-shop', '_blank')"
            style="
              background: rgba(0, 217, 255, 0.1) !important;
              border: 1px solid rgba(0, 217, 255, 0.4) !important;
              color: #00d9ff !important;
              padding: 0.8rem 2rem !important;
              font-size: 0.9rem !important;
              font-weight: 600 !important;
              text-transform: uppercase !important;
              letter-spacing: 1px !important;
              cursor: pointer !important;
              transition: all 0.3s ease !important;
              font-family: Rajdhani, sans-serif !important;
              flex: 1 !important;
              text-align: center !important;
              min-width: 0 !important;
            "
            data-astro-cid-my52qgmw>KLF_SHEED_SHOOP</button
          >
        </div>

        <div class="workers-grid" data-astro-cid-my52qgmw>
          <!-- Image Generator -->
          <div class="worker-card" data-worker="image" data-astro-cid-my52qgmw>
            <h3 class="worker-title" data-astro-cid-my52qgmw>
              Generator Obrazów
            </h3>
            <p class="worker-description" data-astro-cid-my52qgmw>
              Twórz niesamowite obrazy z tekstu używając Flux-1 Schnell
            </p>
            <div class="worker-features" data-astro-cid-my52qgmw>
              <span class="feature-tag" data-astro-cid-my52qgmw>Flux AI</span>
              <span class="feature-tag" data-astro-cid-my52qgmw>512-1024px</span
              >
              <span class="feature-tag" data-astro-cid-my52qgmw
                >Tłumaczenie PL</span
              >
            </div>
            <div class="worker-actions" data-astro-cid-my52qgmw>
              <input
                type="text"
                placeholder="Opisz obraz..."
                class="quick-prompt"
                id="imagePrompt"
                data-astro-cid-my52qgmw
              />
              <button
                class="action-btn primary"
                onclick="openImageGenerator()"
                data-astro-cid-my52qgmw>Generuj</button
              >
              <button
                class="action-btn secondary"
                onclick="window.open('/image-generator', '_blank')"
                data-astro-cid-my52qgmw>Otwórz</button
              >
            </div>
          </div>

          <!-- AI Chatbot -->
          <div class="worker-card" data-worker="chat" data-astro-cid-my52qgmw>
            <h3 class="worker-title" data-astro-cid-my52qgmw>AI Chatbot</h3>
            <p class="worker-description" data-astro-cid-my52qgmw>
              Inteligentny asystent do rozmów i odpowiadania na pytania
            </p>
            <div class="worker-features" data-astro-cid-my52qgmw>
              <span class="feature-tag" data-astro-cid-my52qgmw>OpenAI GPT</span
              >
              <span class="feature-tag" data-astro-cid-my52qgmw
                >Język polski</span
              >
              <span class="feature-tag" data-astro-cid-my52qgmw>Kontekst</span>
            </div>
            <div class="worker-actions" data-astro-cid-my52qgmw>
              <input
                type="text"
                placeholder="Zadaj pytanie..."
                class="quick-prompt"
                id="chatPrompt"
                data-astro-cid-my52qgmw
              />
              <button
                class="action-btn primary"
                onclick="openChatbot()"
                data-astro-cid-my52qgmw>Chat</button
              >
              <button
                class="action-btn secondary"
                onclick="window.open('/chatbot', '_blank')"
                data-astro-cid-my52qgmw>Otwórz</button
              >
            </div>
          </div>

          <!-- BigQuery Analytics -->
          <div
            class="worker-card"
            data-worker="bigquery"
            data-astro-cid-my52qgmw
          >
            <h3 class="worker-title" data-astro-cid-my52qgmw>
              BigQuery Analytics
            </h3>
            <p class="worker-description" data-astro-cid-my52qgmw>
              Analizuj dane z Google BigQuery, wykonuj zapytania SQL
            </p>
            <div class="worker-features" data-astro-cid-my52qgmw>
              <span class="feature-tag" data-astro-cid-my52qgmw
                >Google Cloud</span
              >
              <span class="feature-tag" data-astro-cid-my52qgmw>SQL Query</span>
              <span class="feature-tag" data-astro-cid-my52qgmw>Analytics</span>
            </div>
            <div class="worker-actions" data-astro-cid-my52qgmw>
              <input
                type="text"
                placeholder="SELECT * FROM..."
                class="quick-prompt"
                id="bigqueryPrompt"
                data-astro-cid-my52qgmw
              />
              <button
                class="action-btn primary"
                onclick="openBigQuery()"
                data-astro-cid-my52qgmw>Analizuj</button
              >
              <button
                class="action-btn secondary"
                onclick="window.open('/bigquery-analytics', '_blank')"
                data-astro-cid-my52qgmw>Otwórz</button
              >
            </div>
          </div>

          <!-- Kaggle Datasets -->
          <div class="worker-card" data-worker="kaggle" data-astro-cid-my52qgmw>
            <h3 class="worker-title" data-astro-cid-my52qgmw>
              Kaggle Datasets
            </h3>
            <p class="worker-description" data-astro-cid-my52qgmw>
              Przeszukuj zbiory danych, konkursy i profile Kaggle
            </p>
            <div class="worker-features" data-astro-cid-my52qgmw>
              <span class="feature-tag" data-astro-cid-my52qgmw
                >Machine Learning</span
              >
              <span class="feature-tag" data-astro-cid-my52qgmw>Datasets</span>
              <span class="feature-tag" data-astro-cid-my52qgmw
                >Competitions</span
              >
            </div>
            <div class="worker-actions" data-astro-cid-my52qgmw>
              <input
                type="text"
                placeholder="machine learning..."
                class="quick-prompt"
                id="kagglePrompt"
                data-astro-cid-my52qgmw
              />
              <button
                class="action-btn primary"
                onclick="openKaggle()"
                data-astro-cid-my52qgmw>Wyszukaj</button
              >
              <button
                class="action-btn secondary"
                onclick="window.open('/kaggle-datasets', '_blank')"
                data-astro-cid-my52qgmw>Otwórz</button
              >
            </div>
          </div>

          <!-- Tavily Search -->
          <div class="worker-card" data-worker="tavily" data-astro-cid-my52qgmw>
            <h3 class="worker-title" data-astro-cid-my52qgmw>
              Tavily AI Search
            </h3>
            <p class="worker-description" data-astro-cid-my52qgmw>
              Zaawansowane wyszukiwanie internetowe powered by AI
            </p>
            <div class="worker-features" data-astro-cid-my52qgmw>
              <span class="feature-tag" data-astro-cid-my52qgmw>AI Search</span>
              <span class="feature-tag" data-astro-cid-my52qgmw>Real-time</span>
              <span class="feature-tag" data-astro-cid-my52qgmw
                >Deep Analysis</span
              >
            </div>
            <div class="worker-actions" data-astro-cid-my52qgmw>
              <input
                type="text"
                placeholder="wyszukaj w sieci..."
                class="quick-prompt"
                id="tavilyPrompt"
                data-astro-cid-my52qgmw
              />
              <button
                class="action-btn primary"
                onclick="openTavily()"
                data-astro-cid-my52qgmw>Szukaj</button
              >
              <button
                class="action-btn secondary"
                onclick="window.open('/tavily-search', '_blank')"
                data-astro-cid-my52qgmw>Otwórz</button
              >
            </div>
          </div>

          <!-- STATUS WORKERS - Basic Opening Element -->
          <div class="worker-card" data-worker="status" data-astro-cid-my52qgmw>
            <h3 class="worker-title" data-astro-cid-my52qgmw>
              🔧 STATUS WORKERS
            </h3>
            <p class="worker-description" data-astro-cid-my52qgmw>
              Zaawansowany system monitorowania statusu wszystkich Cloudflare
              Workers
            </p>
            <div class="worker-features" data-astro-cid-my52qgmw>
              <span class="feature-tag" data-astro-cid-my52qgmw>Real-time</span>
              <span class="feature-tag" data-astro-cid-my52qgmw>Monitoring</span
              >
              <span class="feature-tag" data-astro-cid-my52qgmw>Analytics</span>
            </div>
            <div class="worker-actions" data-astro-cid-my52qgmw>
              <button
                class="action-btn primary"
                onclick="checkAllStatus()"
                data-astro-cid-my52qgmw>Sprawdź Status</button
              >
              <button
                class="action-btn secondary"
                onclick="window.open('/status-workers', '_blank')"
                data-astro-cid-my52qgmw>Otwórz Dashboard</button
              >
            </div>
          </div>

          <!-- API Testing Card -->
          <div
            class="worker-card"
            data-worker="api-tests"
            data-astro-cid-my52qgmw
          >
            <h3 class="worker-title" data-astro-cid-my52qgmw>🧪 API Tests</h3>
            <p class="worker-description" data-astro-cid-my52qgmw>
              Testuj wszystkie Workers API endpoints i sprawdź połączenia
            </p>
            <div class="worker-features" data-astro-cid-my52qgmw>
              <span class="feature-tag" data-astro-cid-my52qgmw>Testing</span>
              <span class="feature-tag" data-astro-cid-my52qgmw>API</span>
              <span class="feature-tag" data-astro-cid-my52qgmw>Debug</span>
            </div>
            <div class="worker-actions" data-astro-cid-my52qgmw>
              <button
                class="action-btn primary"
                onclick="runAllAPITests()"
                data-astro-cid-my52qgmw>Testuj wszystkie API</button
              >
              <button
                class="action-btn secondary"
                onclick="openAPITestConsole()"
                data-astro-cid-my52qgmw>Konsola testów</button
              >
            </div>
          </div>

          <!-- Flowise AI Card -->
          <div
            class="worker-card"
            data-worker="flowise"
            data-astro-cid-my52qgmw
          >
            <h3 class="worker-title" data-astro-cid-my52qgmw>🧠 Flowise AI</h3>
            <p class="worker-description" data-astro-cid-my52qgmw>
              Visual AI workflow builder with drag-and-drop interface
            </p>
            <div class="worker-features" data-astro-cid-my52qgmw>
              <span class="feature-tag" data-astro-cid-my52qgmw
                >Visual Builder</span
              >
              <span class="feature-tag" data-astro-cid-my52qgmw>Workflows</span>
              <span class="feature-tag" data-astro-cid-my52qgmw
                >Integration</span
              >
            </div>
            <div class="worker-actions" data-astro-cid-my52qgmw>
              <button
                class="action-btn primary"
                onclick="window.open('https://flowise.ai', '_blank')"
                data-astro-cid-my52qgmw>Open Flowise</button
              >
              <button
                class="action-btn secondary"
                onclick="launchFlowise()"
                data-astro-cid-my52qgmw>Launch</button
              >
            </div>
          </div>

          <!-- Content Creator Agent -->
          <div class="worker-card" data-worker="content-creator" data-astro-cid-my52qgmw>
            <h3 class="worker-title" data-astro-cid-my52qgmw>Content Creator Agent</h3>
            <p class="worker-description" data-astro-cid-my52qgmw>
              Automatyczne generowanie treści, artykułów i postów na bloga.
            </p>
            <div class="worker-features" data-astro-cid-my52qgmw>
              <span class="feature-tag" data-astro-cid-my52qgmw>AI Content</span>
              <span class="feature-tag" data-astro-cid-my52qgmw>Blog</span>
              <span class="feature-tag" data-astro-cid-my52qgmw>SEO</span>
            </div>
            <div class="worker-actions" data-astro-cid-my52qgmw>
              <input
                type="text"
                placeholder="Podaj temat treści..."
                class="quick-prompt"
                id="contentCreatorPrompt"
                data-astro-cid-my52qgmw
              />
              <button
                class="action-btn primary"
                onclick="window.open('/agents/content-creator', '_blank')"
                data-astro-cid-my52qgmw>Generuj</button
              >
            </div>
          </div>

          <!-- Customer Experience Agent -->
          <div class="worker-card" data-worker="customer-experience" data-astro-cid-my52qgmw>
            <h3 class="worker-title" data-astro-cid-my52qgmw>Customer Experience Agent</h3>
            <p class="worker-description" data-astro-cid-my52qgmw>
              Analiza opinii klientów, automatyczne odpowiedzi i rekomendacje.
            </p>
            <div class="worker-features" data-astro-cid-my52qgmw>
              <span class="feature-tag" data-astro-cid-my52qgmw>Feedback</span>
              <span class="feature-tag" data-astro-cid-my52qgmw>CRM</span>
              <span class="feature-tag" data-astro-cid-my52qgmw>AI Support</span>
            </div>
            <div class="worker-actions" data-astro-cid-my52qgmw>
              <input
                type="text"
                placeholder="Wpisz zapytanie klienta..."
                class="quick-prompt"
                id="customerExperiencePrompt"
                data-astro-cid-my52qgmw
              />
              <button
                class="action-btn primary"
                onclick="window.open('/agents/customer-experience', '_blank')"
                data-astro-cid-my52qgmw>Analizuj</button
              >
            </div>
          </div>

          <!-- Analytics Prophet Agent -->
          <div class="worker-card" data-worker="analytics-prophet" data-astro-cid-my52qgmw>
            <h3 class="worker-title" data-astro-cid-my52qgmw>Analytics Prophet Agent</h3>
            <p class="worker-description" data-astro-cid-my52qgmw>
              Prognozowanie trendów i analiza danych biznesowych.
            </p>
            <div class="worker-features" data-astro-cid-my52qgmw>
              <span class="feature-tag" data-astro-cid-my52qgmw>Forecast</span>
              <span class="feature-tag" data-astro-cid-my52qgmw>Business</span>
              <span class="feature-tag" data-astro-cid-my52qgmw>AI Analytics</span>
            </div>
            <div class="worker-actions" data-astro-cid-my52qgmw>
              <input
                type="text"
                placeholder="Opisz dane do analizy..."
                class="quick-prompt"
                id="analyticsProphetPrompt"
                data-astro-cid-my52qgmw
              />
              <button
                class="action-btn primary"
                onclick="window.open('/agents/analytics-prophet', '_blank')"
                data-astro-cid-my52qgmw>Prognozuj</button
              >
            </div>
          </div>

          <!-- Security Sentinel Agent -->
          <div class="worker-card" data-worker="security-sentinel" data-astro-cid-my52qgmw>
            <h3 class="worker-title" data-astro-cid-my52qgmw>Security Sentinel Agent</h3>
            <p class="worker-description" data-astro-cid-my52qgmw>
              Monitorowanie bezpieczeństwa, wykrywanie zagrożeń i alerty.
            </p>
            <div class="worker-features" data-astro-cid-my52qgmw>
              <span class="feature-tag" data-astro-cid-my52qgmw>Security</span>
              <span class="feature-tag" data-astro-cid-my52qgmw>Monitoring</span>
              <span class="feature-tag" data-astro-cid-my52qgmw>AI Alert</span>
            </div>
            <div class="worker-actions" data-astro-cid-my52qgmw>
              <input
                type="text"
                placeholder="Podaj incydent lub zapytanie..."
                class="quick-prompt"
                id="securitySentinelPrompt"
                data-astro-cid-my52qgmw
              />
              <button
                class="action-btn primary"
                onclick="window.open('/agents/security-sentinel', '_blank')"
                data-astro-cid-my52qgmw>Monitoruj</button
              >
            </div>
          </div>

          <!-- Activepieces Card -->
          <div
            class="worker-card"
            data-worker="activepieces"
            data-astro-cid-my52qgmw
          >
            <h3 class="worker-title" data-astro-cid-my52qgmw>
              ⚡ Activepieces
            </h3>
            <p class="worker-description" data-astro-cid-my52qgmw>
              Open-source automation platform for workflow automation
            </p>
            <div class="worker-features" data-astro-cid-my52qgmw>
              <span class="feature-tag" data-astro-cid-my52qgmw>Automation</span
              >
              <span class="feature-tag" data-astro-cid-my52qgmw
                >Open Source</span
              >
              <span class="feature-tag" data-astro-cid-my52qgmw>Workflows</span>
            </div>
            <div class="worker-actions" data-astro-cid-my52qgmw>
              <button
                class="action-btn primary"
                onclick="window.open('https://activepieces.com', '_blank')"
                data-astro-cid-my52qgmw>Open Activepieces</button
              >
              <button
                class="action-btn secondary"
                onclick="launchActivepieces()"
                data-astro-cid-my52qgmw>Launch</button
              >
            </div>
          </div>
        </div>

        <!-- 9 New Functions Grid -->
        <div class="additional-functions-section" data-astro-cid-my52qgmw>
          <h3 class="additional-title" data-astro-cid-my52qgmw>
            ZAAWANSOWANE FUNKCJE AI
          </h3>
          <div class="additional-grid" data-astro-cid-my52qgmw>
            <!-- Row 1 -->
            <div
              class="feature-tile"
              data-function="function2"
              onclick="openFunction('rekomendacje')"
              data-astro-cid-my52qgmw
            >
              <div class="feature-icon" data-astro-cid-my52qgmw>🎯</div>
              <div class="feature-title" data-astro-cid-my52qgmw>
                Personalizowane rekomendacje
              </div>
              <div class="feature-desc" data-astro-cid-my52qgmw>
                System rekomendacyjny produktów i usług z analizą preferencji
                użytkowników
              </div>
            </div>

            <div
              class="feature-tile"
              data-function="function3"
              onclick="openFunction('obsługa-klienta')"
              data-astro-cid-my52qgmw
            >
              <div class="feature-icon" data-astro-cid-my52qgmw>📞</div>
              <div class="feature-title" data-astro-cid-my52qgmw>
                Automatyzacja obsługi klienta
              </div>
              <div class="feature-desc" data-astro-cid-my52qgmw>
                AI do kwalifikacji leadów i automatycznych odpowiedzi z
                integracją CRM
              </div>
            </div>

            <div
              class="feature-tile"
              data-function="function4"
              onclick="openFunction('monitorowanie')"
              data-astro-cid-my52qgmw
            >
              <div class="feature-icon" data-astro-cid-my52qgmw>📊</div>
              <div class="feature-title" data-astro-cid-my52qgmw>
                Monitorowanie i raportowanie
              </div>
              <div class="feature-desc" data-astro-cid-my52qgmw>
                Dashboard z automatycznym generowaniem raportów i alertami o
                anomaliach
              </div>
            </div>

            <!-- Row 2 -->
            <div
              class="feature-tile"
              data-function="function6"
              onclick="openFunction('przypomnienia')"
              data-astro-cid-my52qgmw
            >
              <div class="feature-icon" data-astro-cid-my52qgmw>🔔</div>
              <div class="feature-title" data-astro-cid-my52qgmw>
                Harmonogramowanie i przypomnienia
              </div>
              <div class="feature-desc" data-astro-cid-my52qgmw>
                Inteligentny system przypomnień z integracją z kalendarzami i AI
                przewidywaniem
              </div>
            </div>

            <div
              class="feature-tile"
              data-function="function7"
              onclick="openFunction('faq-generator')"
              data-astro-cid-my52qgmw
            >
              <div class="feature-icon" data-astro-cid-my52qgmw>❓</div>
              <div class="feature-title" data-astro-cid-my52qgmw>
                Generator FAQ dynamiczny
              </div>
              <div class="feature-desc" data-astro-cid-my52qgmw>
                AI generujący dynamicznie pytania i odpowiedzi na podstawie bazy
                wiedzy
              </div>
            </div>

            <div
              class="feature-tile"
              data-function="function8"
              onclick="openFunction('edukacja')"
              data-astro-cid-my52qgmw
            >
              <div class="feature-icon" data-astro-cid-my52qgmw>📚</div>
              <div class="feature-title" data-astro-cid-my52qgmw>
                Rekomendacje edukacyjne
              </div>
              <div class="feature-desc" data-astro-cid-my52qgmw>
                System rekomendacji kursów i materiałów edukacyjnych z
                profilowaniem użytkownika
              </div>
            </div>

            <!-- Row 3 -->
            <div
              class="feature-tile"
              data-function="function9"
              onclick="openFunction('tickety')"
              data-astro-cid-my52qgmw
            >
              <div class="feature-icon" data-astro-cid-my52qgmw>🎫</div>
              <div class="feature-title" data-astro-cid-my52qgmw>
                System ticketów AI
              </div>
              <div class="feature-desc" data-astro-cid-my52qgmw>
                Automatyczna klasyfikacja zgłoszeń z integracją Jira/Zendesk
              </div>
            </div>

            <div
              class="feature-tile"
              data-function="quiz"
              onclick="openFunction('quizy')"
              data-astro-cid-my52qgmw
            >
              <div class="feature-icon" data-astro-cid-my52qgmw>�</div>
              <div class="feature-title" data-astro-cid-my52qgmw>
                Quizy i testy interaktywne
              </div>
              <div class="feature-desc" data-astro-cid-my52qgmw>
                Framework do tworzenia quizów z AI oceną i spersonalizowanym
                feedbackiem
              </div>
            </div>

            <div
              class="feature-tile"
              data-function="marketing"
              onclick="openFunction('marketing')"
              data-astro-cid-my52qgmw
            >
              <div class="feature-icon" data-astro-cid-my52qgmw>✍️</div>
              <div class="feature-title" data-astro-cid-my52qgmw>
                Generator treści marketingowych
              </div>
              <div class="feature-desc" data-astro-cid-my52qgmw>
                Automatyczne generowanie i publikacja treści marketingowych
                przez AI
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>
  </main>

  <!-- Right Floating Panel - Fixed Right Side -->
  <div class="right-panel-fixed">
    <div class="floating-widget-container">
      <button
        onclick="toggleMusicPlayer()"
        class="right-btn"
        id="musicPlayerBtn"
      >
        <Icon name="lucide:music" /> MUSIC PLAYER
      </button>
      <div id="musicPlayerWidget" class="floating-widget hidden">
        <BackgroundMusicPlayerFixed client:load />
      </div>
    </div>

    <div class="floating-widget-container">
      <button
        onclick="togglePolaczekAssistant()"
        class="right-btn"
        id="polaczekBtn"
        title="AI Assistant do wyjaśniania funkcji na stronie"
      >
        <Icon name="lucide:bot" /> AI ASSISTANT
      </button>
      <div id="polaczekWidget" class="floating-widget hidden">
        <AiHelpAssistant client:load />
      </div>
    </div>

    <button onclick="openMainChat()" class="right-btn">
      <Icon name="lucide:message-circle" /> MAIN CHAT
    </button>
    <button onclick="openRefresh()" class="right-btn">
      <Icon name="lucide:refresh-cw" /> REFRESH
    </button>
    <button onclick="openFolder()" class="right-btn">
      <Icon name="lucide:folder" /> FOLDER
    </button>
    <button onclick="openClose()" class="right-btn">
      <Icon name="lucide:x" /> CLOSE
    </button>

    <!-- New Floating Buttons - Extended Set -->
    <button
      onclick="openSchowek()"
      class="right-btn"
      title="Schowek - Zbieranie informacji z r�nych stron"
    >
      <Icon name="lucide:archive" /> SCHOWEK
    </button>
    <button
      onclick="openKalendarz()"
      class="right-btn"
      title="Kalendarz - Organizacja zada� i termin�w"
    >
      <Icon name="lucide:calendar-days" /> KALENDARZ
    </button>
    <button
      onclick="openDodatki()"
      class="right-btn"
      title="Dodatki - Narz�dzia pomocnicze"
    >
      <Icon name="lucide:wrench" /> DODATKI
    </button>
    <button
      onclick="openFolder2()"
      class="right-btn"
      title="Folder 2 - Dodatkowy organizer plik�w"
    >
      <Icon name="lucide:folder-plus" /> FOLDER 2
    </button>
    <button
      onclick="openKatalogStron()"
      class="right-btn"
      title="Katalog Stron - Nawigacja po wszystkich funkcjach"
    >
      <Icon name="lucide:list" /> KATALOG
    </button>
    <button
      onclick="openInstrukcje()"
      class="right-btn"
      title="Instrukcje - Pomoc i przewodniki"
    >
      <Icon name="lucide:book-open" /> INSTRUKCJE
    </button>
    <button
      onclick="openZapas1()"
      class="right-btn"
      title="Zapas 1 - Funkcja do przysz�ego wykorzystania"
    >
      <Icon name="lucide:star" /> ZAPAS 1
    </button>
    <button
      onclick="openZapas2()"
      class="right-btn"
      title="Zapas 2 - Funkcja do przysz�ego wykorzystania"
    >
      <Icon name="lucide:zap" /> ZAPAS 2
    </button>
    <button
      onclick="openZapas3()"
      class="right-btn"
      title="Zapas 3 - Funkcja do przysz�ego wykorzystania"
    >
      <Icon name="lucide:rocket" /> ZAPAS 3
    </button>
  </div>

  <!-- Separator Section 4 -->
  <section class="border border-edge relative z-[1]">
    <div class="absolute left-0 right-0 h-full">
      <!-- Inner vertical lines -->
      <div
        class="absolute left-[calc(50vw+400px)] top-0 bottom-0 w-px bg-edge z-[1]"
      >
      </div>
      <div
        class="absolute right-[calc(50vw-400px)] top-0 bottom-0 w-px bg-edge z-[1]"
      >
      </div>
      <!-- Outer vertical lines -->
      <div
        class="absolute left-[calc(50vw+600px)] top-0 bottom-0 w-px bg-edge z-[1]"
      >
      </div>
      <div
        class="absolute right-[calc(50vw-600px)] top-0 bottom-0 w-px bg-edge z-[1]"
      >
      </div>
    </div>
    <div class="max-w-6xl mx-auto">
      <div class="py-1"></div>
    </div>
  </section>

  <!-- Footer Section -->
  <section class="border border-edge relative z-[1]">
    <div class="absolute left-0 right-0 h-full">
      <!-- Inner vertical lines -->
      <div
        class="absolute left-[calc(50vw+400px)] top-0 bottom-0 w-px bg-edge z-[1]"
      >
      </div>
      <div
        class="absolute right-[calc(50vw-400px)] top-0 bottom-0 w-px bg-edge z-[1]"
      >
      </div>
      <!-- Outer vertical lines -->
      <div
        class="absolute left-[calc(50vw+600px)] top-0 bottom-0 w-px bg-edge z-[1]"
      >
      </div>
      <div
        class="absolute right-[calc(50vw-600px)] top-0 bottom-0 w-px bg-edge z-[1]"
      >
      </div>
    </div>
    <div class="max-w-6xl mx-auto">
      <div class="flex flex-row justify-between items-center py-16 px-8">
        <!-- Left corner - O_MNIE content -->
        <div class="max-w-xs text-left">
          <div
            class="text-edge text-sm italic"
            style="
              transform: scale(1.69);
              transform-origin: left center;
              margin: 10px;
              margin-left: -10px;
              margin-bottom: 70px;
              width: calc(45vw - 20px);
              max-width: 320px;
              line-height: 1.4;
              word-wrap: break-word;
              hyphens: auto;
            "
          >
            W mojej pracy skupiam się na integracji technologii w chmurze,
            nowoczesnych frameworków i AI, aby stworzyć asystenta, który rozumie
            i wspiera użytkownika w jego potrzebach.
          </div>
        </div>

        <div class="flex flex-row justify-center gap-8 text-center">
          <a
            class="hover:brightness-125 duration-200"
            target="_blank"
            rel="noopener noreferrer"
            href="/workers"
          >
            SYSTEM AGENTS
            <svg
              style="--rotation: -45deg"
              class="stroke-primary-foreground inline aspect-square w-3 h-auto fill-transparent rotate-[var(--rotation)]"
              viewBox="0 0 24 24"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M3 12L21 12M21 12L12.5 3.5M21 12L12.5 20.5"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"></path>
            </svg>
          </a>
          <div
            class="group w-24 p-1 border border-primary-foreground rounded-interactive text-primary-foreground text-xs font-black text-nowrap opacity-60"
          >
            <span class="group-hover:hidden">100% HANDMADE</span>
            <span class="hidden group-hover:inline">0% AI</span>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Panel Administracyjny with Login - Fixed Left Side -->
  <div class="admin-panel-fixed">
    <a href="/admin/" class="admin-btn"> Panel Administracyjny </a>

    <!-- Login Section Below Admin Panel -->
    <div class="login-container-fixed" id="loginContainer">
      <input
        type="text"
        id="dashboardLogin"
        maxlength="16"
        placeholder="Podaj login"
        class="login-input-fixed"
      />
      <button onclick="checkDashboardLogin()" class="login-btn-fixed">
        Zaloguj się
      </button>
    </div>
  </div>

  <!-- OpenRouter Floating AI Buttons -->
  <OpenRouterFloatingButtons client:load />
</MyBonzoLayout>
