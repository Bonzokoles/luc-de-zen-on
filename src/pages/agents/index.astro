<<<<<<< HEAD
Ôªø---
=======
---
>>>>>>> c1c4ac5534f2943dcdcdd273d347cf64339cc1a7
import MyBonzoLayout from "../../layouts/MyBonzoLayout.astro";
---

<MyBonzoLayout title="AI Agents Dashboard | MyBonzo">
  <main class="min-h-svh bg-black text-white">
    <!-- Header -->
    <section class="border-b border-cyan-500/30">
      <div class="max-w-6xl mx-auto p-6">
        <h1
          class="text-4xl font-bold bg-gradient-to-r from-cyan-500 to-purple-600 bg-clip-text text-transparent"
        >
          AI Agents Dashboard
        </h1>
        <p class="text-gray-300 mt-2">
<<<<<<< HEAD
          Zarz√Ñ‚Ä¶dzaj swoimi agentami AI w jednym miejscu
=======
          ZarzƒÖdzaj swoimi agentami AI w jednym miejscu
>>>>>>> c1c4ac5534f2943dcdcdd273d347cf64339cc1a7
        </p>
      </div>
    </section>

    <!-- Agents Grid -->
    <section class="max-w-6xl mx-auto p-6">
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
        <!-- MyBonzo Agent -->
        <div
          class="border border-cyan-500/30 rounded-lg bg-gray-900/30 overflow-hidden hover:border-cyan-400 transition-colors"
        >
          <div class="bg-gradient-to-r from-cyan-500 to-purple-600 p-4">
            <h3 class="text-xl font-bold text-white">MyBonzo AI</h3>
<<<<<<< HEAD
            <p class="text-cyan-100 text-sm">Gƒπ‚ÄöƒÇ≈Çwny agent</p>
=======
            <p class="text-cyan-100 text-sm">G≈Ç√≥wny agent</p>
>>>>>>> c1c4ac5534f2943dcdcdd273d347cf64339cc1a7
          </div>
          <div class="p-4">
            <div class="text-sm text-gray-400 mb-4">
              Funkcje: Chat, Obrazy, Zadania, Analiza
            </div>
            <div class="flex gap-2">
              <a
                href="/agents/mybonzo"
                class="flex-1 bg-cyan-500/20 hover:bg-cyan-500/30 text-cyan-400 px-3 py-2 rounded text-center text-sm transition-colors"
              >
<<<<<<< HEAD
                OtwƒÇ≈Çrz
=======
                Otw√≥rz
>>>>>>> c1c4ac5534f2943dcdcdd273d347cf64339cc1a7
              </a>
              <button
                onclick="testAgent('mybonzo')"
                class="bg-purple-500/20 hover:bg-purple-500/30 text-purple-400 px-3 py-2 rounded text-sm transition-colors"
              >
                Test
              </button>
            </div>
          </div>
        </div>

        <!-- Polaczek Agent -->
        <div
          class="border border-red-500/30 rounded-lg bg-gray-900/30 overflow-hidden hover:border-red-400 transition-colors"
        >
          <div class="bg-gradient-to-r from-red-500 to-white p-4">
            <h3 class="text-xl font-bold text-red-900">Polaczek Agent</h3>
            <p class="text-red-800 text-sm">Agent lokalny</p>
          </div>
          <div class="p-4">
            <div class="text-sm text-gray-400 mb-4">
<<<<<<< HEAD
              Funkcje: Chat, Tƒπ‚Äöumaczenia, Lokalne zadania
=======
              Funkcje: Chat, T≈Çumaczenia, Lokalne zadania
>>>>>>> c1c4ac5534f2943dcdcdd273d347cf64339cc1a7
            </div>
            <div class="flex gap-2">
              <a
                href="/agents/polaczek"
                class="flex-1 bg-red-500/20 hover:bg-red-500/30 text-red-400 px-3 py-2 rounded text-center text-sm transition-colors"
              >
<<<<<<< HEAD
                OtwƒÇ≈Çrz
=======
                Otw√≥rz
>>>>>>> c1c4ac5534f2943dcdcdd273d347cf64339cc1a7
              </a>
              <button
                onclick="testAgent('polaczek')"
                class="bg-white/20 hover:bg-white/30 text-gray-300 px-3 py-2 rounded text-sm transition-colors"
              >
                Test
              </button>
            </div>
          </div>
        </div>

        <!-- Bielik Agent -->
        <div
          class="border border-blue-500/30 rounded-lg bg-gray-900/30 overflow-hidden hover:border-blue-400 transition-colors"
        >
          <div class="bg-gradient-to-r from-blue-500 to-green-600 p-4">
            <h3 class="text-xl font-bold text-white">Bielik AI</h3>
            <p class="text-blue-100 text-sm">Polski model</p>
          </div>
          <div class="p-4">
            <div class="text-sm text-gray-400 mb-4">
              Funkcje: Chat PL, Zadania PL, Analiza
            </div>
            <div class="flex gap-2">
              <a
                href="/agents/bielik"
                class="flex-1 bg-blue-500/20 hover:bg-blue-500/30 text-blue-400 px-3 py-2 rounded text-center text-sm transition-colors"
              >
<<<<<<< HEAD
                OtwƒÇ≈Çrz
=======
                Otw√≥rz
>>>>>>> c1c4ac5534f2943dcdcdd273d347cf64339cc1a7
              </a>
              <button
                onclick="testAgent('bielik')"
                class="bg-green-500/20 hover:bg-green-500/30 text-green-400 px-3 py-2 rounded text-sm transition-colors"
              >
                Test
              </button>
            </div>
          </div>
        </div>

        <!-- Universal Assistant -->
        <div
          class="border border-gray-500/30 rounded-lg bg-gray-900/30 overflow-hidden hover:border-gray-400 transition-colors"
        >
          <div class="bg-gradient-to-r from-gray-500 to-blue-500 p-4">
            <h3 class="text-xl font-bold text-white">Universal Assistant</h3>
<<<<<<< HEAD
            <p class="text-gray-100 text-sm">Asystent ogƒÇ≈Çlny</p>
          </div>
          <div class="p-4">
            <div class="text-sm text-gray-400 mb-4">
              Funkcje: Chat, Pomoc, OgƒÇ≈Çlne zadania
=======
            <p class="text-gray-100 text-sm">Asystent og√≥lny</p>
          </div>
          <div class="p-4">
            <div class="text-sm text-gray-400 mb-4">
              Funkcje: Chat, Pomoc, Og√≥lne zadania
>>>>>>> c1c4ac5534f2943dcdcdd273d347cf64339cc1a7
            </div>
            <div class="flex gap-2">
              <a
                href="/agents/assistant"
                class="flex-1 bg-gray-500/20 hover:bg-gray-500/30 text-gray-400 px-3 py-2 rounded text-center text-sm transition-colors"
              >
<<<<<<< HEAD
                OtwƒÇ≈Çrz
=======
                Otw√≥rz
>>>>>>> c1c4ac5534f2943dcdcdd273d347cf64339cc1a7
              </a>
              <button
                onclick="testAgent('assistant')"
                class="bg-blue-500/20 hover:bg-blue-500/30 text-blue-400 px-3 py-2 rounded text-sm transition-colors"
              >
                Test
              </button>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Agent Creator -->
    <section class="max-w-6xl mx-auto p-6">
      <div class="border border-yellow-500/30 rounded-lg bg-gray-900/30 p-6">
        <h2 class="text-2xl font-semibold mb-4 text-yellow-400">
<<<<<<< HEAD
          ƒë≈∫‚Äù¬ß StwƒÇ≈Çrz Nowego Agenta
        </h2>
        <p class="text-gray-300 mb-6">
          MoƒπƒΩesz utworzy√Ñ‚Ä° wƒπ‚Äöasnego agenta z konfigurowalnymi funkcjami
=======
          üîß Stw√≥rz Nowego Agenta
        </h2>
        <p class="text-gray-300 mb-6">
          Mo≈ºesz utworzyƒá w≈Çasnego agenta z konfigurowalnymi funkcjami
>>>>>>> c1c4ac5534f2943dcdcdd273d347cf64339cc1a7
        </p>

        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
          <div>
            <label class="block text-sm font-medium text-gray-300 mb-2"
              >Nazwa agenta</label
            >
            <input
              type="text"
              id="agent-name"
<<<<<<< HEAD
              placeholder="np. MƒÇ≈ÇjBot"
=======
              placeholder="np. M√≥jBot"
>>>>>>> c1c4ac5534f2943dcdcdd273d347cf64339cc1a7
              class="w-full bg-gray-800 border border-gray-600 rounded px-3 py-2 text-white focus:border-yellow-400 focus:outline-none"
            />
          </div>

          <div>
            <label class="block text-sm font-medium text-gray-300 mb-2"
              >Model AI</label
            >
            <select
              id="agent-model"
              class="w-full bg-gray-800 border border-gray-600 rounded px-3 py-2 text-white focus:border-yellow-400 focus:outline-none"
            >
              <option value="@cf/meta/llama-3.1-8b-instruct"
                >Llama 3.1 8B</option
              >
              <option value="@cf/huggingface/bielik-7b-instruct-v0.1"
                >Bielik 7B</option
              >
              <option value="@cf/google/gemma-3-12b-it">Gemma 3 12B</option>
            </select>
          </div>

          <div class="md:col-span-2">
            <label class="block text-sm font-medium text-gray-300 mb-2"
              >Opis agenta</label
            >
            <textarea
              id="agent-description"
<<<<<<< HEAD
              placeholder="Opisz co robi twƒÇ≈Çj agent..."
=======
              placeholder="Opisz co robi tw√≥j agent..."
>>>>>>> c1c4ac5534f2943dcdcdd273d347cf64339cc1a7
              class="w-full bg-gray-800 border border-gray-600 rounded px-3 py-2 text-white focus:border-yellow-400 focus:outline-none h-24"
            ></textarea>
          </div>

          <div class="md:col-span-2">
            <label class="block text-sm font-medium text-gray-300 mb-2"
              >Funkcje agenta</label
            >
            <div class="grid grid-cols-2 md:grid-cols-4 gap-2">
              <label class="flex items-center space-x-2">
                <input type="checkbox" value="chat" class="text-yellow-400" />
<<<<<<< HEAD
                <span class="text-sm">ƒë≈∫‚Äô¬¨ Chat</span>
              </label>
              <label class="flex items-center space-x-2">
                <input type="checkbox" value="images" class="text-yellow-400" />
                <span class="text-sm">ƒë≈∫‚ÄìƒΩƒè¬∏≈π Obrazy</span>
              </label>
              <label class="flex items-center space-x-2">
                <input type="checkbox" value="tasks" class="text-yellow-400" />
                <span class="text-sm">√¢≈°Àá Zadania</span>
=======
                <span class="text-sm">üí¨ Chat</span>
              </label>
              <label class="flex items-center space-x-2">
                <input type="checkbox" value="images" class="text-yellow-400" />
                <span class="text-sm">üñºÔ∏è Obrazy</span>
              </label>
              <label class="flex items-center space-x-2">
                <input type="checkbox" value="tasks" class="text-yellow-400" />
                <span class="text-sm">‚ö° Zadania</span>
>>>>>>> c1c4ac5534f2943dcdcdd273d347cf64339cc1a7
              </label>
              <label class="flex items-center space-x-2">
                <input
                  type="checkbox"
                  value="analysis"
                  class="text-yellow-400"
                />
<<<<<<< HEAD
                <span class="text-sm">ƒë≈∫‚Äù≈§ Analiza</span>
=======
                <span class="text-sm">üîç Analiza</span>
>>>>>>> c1c4ac5534f2943dcdcdd273d347cf64339cc1a7
              </label>
            </div>
          </div>

          <div class="md:col-span-2">
            <button
              onclick="createAgent()"
              class="bg-gradient-to-r from-yellow-500 to-orange-500 text-white px-6 py-3 rounded hover:opacity-80 transition-opacity"
            >
<<<<<<< HEAD
              StwƒÇ≈Çrz Agenta
=======
              Stw√≥rz Agenta
>>>>>>> c1c4ac5534f2943dcdcdd273d347cf64339cc1a7
            </button>
          </div>
        </div>
      </div>
    </section>

    <!-- System Status -->
    <section class="max-w-6xl mx-auto p-6">
      <div class="border border-green-500/30 rounded-lg bg-gray-900/30 p-4">
        <h3 class="text-lg font-semibold mb-4 text-green-400">
<<<<<<< HEAD
          ƒë≈∫‚Äú≈† Status Systemu
=======
          üìä Status Systemu
>>>>>>> c1c4ac5534f2943dcdcdd273d347cf64339cc1a7
        </h3>
        <div class="grid grid-cols-2 md:grid-cols-4 gap-4" id="system-status">
          <div class="text-center">
            <div class="text-2xl text-green-400" id="active-agents">4</div>
            <div class="text-sm text-gray-400">Aktywne Agenty</div>
          </div>
          <div class="text-center">
            <div class="text-2xl text-blue-400" id="total-messages">0</div>
<<<<<<< HEAD
            <div class="text-sm text-gray-400">Wiadomoƒπ‚Ä∫ci</div>
=======
            <div class="text-sm text-gray-400">Wiadomo≈õci</div>
>>>>>>> c1c4ac5534f2943dcdcdd273d347cf64339cc1a7
          </div>
          <div class="text-center">
            <div class="text-2xl text-purple-400" id="images-generated">0</div>
            <div class="text-sm text-gray-400">Wygenerowane Obrazy</div>
          </div>
          <div class="text-center">
            <div class="text-2xl text-yellow-400" id="tasks-completed">0</div>
<<<<<<< HEAD
            <div class="text-sm text-gray-400">Ukoƒπ‚Äûczone Zadania</div>
=======
            <div class="text-sm text-gray-400">Uko≈Ñczone Zadania</div>
>>>>>>> c1c4ac5534f2943dcdcdd273d347cf64339cc1a7
          </div>
        </div>
      </div>
    </section>
  </main>

  <script>
    // Test agenta
    (window as any).testAgent = async function (agentId: string) {
      try {
        const response = await fetch(`/api/agents/${agentId}/status`);
        const data = await response.json();

        if (data.success) {
          alert(
<<<<<<< HEAD
            `Agent ${agentId} dziaƒπ‚Äöa prawidƒπ‚Äöowo!\nStatus: ${JSON.stringify(
=======
            `Agent ${agentId} dzia≈Ça prawid≈Çowo!\nStatus: ${JSON.stringify(
>>>>>>> c1c4ac5534f2943dcdcdd273d347cf64339cc1a7
              data.status,
              null,
              2
            )}`
          );
        } else {
<<<<<<< HEAD
          alert(`Bƒπ‚Äö√Ñ‚Ä¶d testowania agenta: ${data.error}`);
        }
      } catch (error: any) {
        alert(`Bƒπ‚Äö√Ñ‚Ä¶d poƒπ‚Äö√Ñ‚Ä¶czenia: ${error.message}`);
=======
          alert(`B≈ÇƒÖd testowania agenta: ${data.error}`);
        }
      } catch (error: any) {
        alert(`B≈ÇƒÖd po≈ÇƒÖczenia: ${error.message}`);
>>>>>>> c1c4ac5534f2943dcdcdd273d347cf64339cc1a7
      }
    };

    // Tworzenie nowego agenta
    (window as any).createAgent = async function () {
      const name = (document.getElementById("agent-name") as HTMLInputElement)
        ?.value;
      const model = (
        document.getElementById("agent-model") as HTMLSelectElement
      )?.value;
      const description = (
        document.getElementById("agent-description") as HTMLTextAreaElement
      )?.value;
      const capabilities = Array.from(
        document.querySelectorAll('input[type="checkbox"]:checked')
      ).map((cb) => (cb as HTMLInputElement).value);

      if (!name || !description) {
<<<<<<< HEAD
        alert("Prosz√Ñ‚Ñ¢ wypeƒπ‚Äöni√Ñ‚Ä° nazw√Ñ‚Ñ¢ i opis agenta");
=======
        alert("Proszƒô wype≈Çniƒá nazwƒô i opis agenta");
>>>>>>> c1c4ac5534f2943dcdcdd273d347cf64339cc1a7
        return;
      }

      try {
        const response = await fetch("/api/agents/create", {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify({
            name,
            model,
            description,
            capabilities,
          }),
        });

        const data = await response.json();

        if (data.success) {
<<<<<<< HEAD
          alert(`Agent ${name} zostaƒπ‚Äö utworzony!`);
          location.reload();
        } else {
          alert(`Bƒπ‚Äö√Ñ‚Ä¶d tworzenia agenta: ${data.error}`);
        }
      } catch (error: any) {
        alert(`Bƒπ‚Äö√Ñ‚Ä¶d: ${error.message}`);
=======
          alert(`Agent ${name} zosta≈Ç utworzony!`);
          location.reload();
        } else {
          alert(`B≈ÇƒÖd tworzenia agenta: ${data.error}`);
        }
      } catch (error: any) {
        alert(`B≈ÇƒÖd: ${error.message}`);
>>>>>>> c1c4ac5534f2943dcdcdd273d347cf64339cc1a7
      }
    };

    // Aktualizuj statystyki
    async function updateStats() {
      try {
        const response = await fetch("/api/agents/stats");
        const stats = await response.json();

        if (stats.success) {
          const totalMessages = document.getElementById("total-messages");
          if (totalMessages)
            totalMessages.textContent = stats.totalMessages || 0;
          const imagesGenerated = document.getElementById("images-generated");
          if (imagesGenerated)
            imagesGenerated.textContent = stats.imagesGenerated || 0;
          const tasksCompleted = document.getElementById("tasks-completed");
          if (tasksCompleted)
            tasksCompleted.textContent = stats.tasksCompleted || 0;
        }
      } catch (error: any) {
<<<<<<< HEAD
        console.error("Bƒπ‚Äö√Ñ‚Ä¶d pobierania statystyk:", error);
      }
    }

    // Zaƒπ‚Äöaduj statystyki przy starcie
=======
        console.error("B≈ÇƒÖd pobierania statystyk:", error);
      }
    }

    // Za≈Çaduj statystyki przy starcie
>>>>>>> c1c4ac5534f2943dcdcdd273d347cf64339cc1a7
    updateStats();
    setInterval(updateStats, 30000); // Co 30 sekund
  </script>
</MyBonzoLayout>
<<<<<<< HEAD

=======
>>>>>>> c1c4ac5534f2943dcdcdd273d347cf64339cc1a7
