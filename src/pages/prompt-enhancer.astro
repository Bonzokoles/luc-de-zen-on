---
// TypeScript interface for component props (Astro 2025 best practice)
interface Props {
  pageTitle?: string;
  pageDescription?: string;
  pageQuote?: string;
  pageAuthor?: string;
}

// Proper destructuring of props with defaults (Astro 2025 best practice)
const { 
  pageTitle = "SupaGruen SD CheatSheet",
  pageDescription = "Zaawansowany generator prompt√≥w AI z 833+ stylami artystycznymi",
  pageQuote = "Cz≈Çowiek jest tym, czym sƒÖ jego decyzje.",
  pageAuthor = "Frank Herbert (Dune)"
} = Astro.props;

// Proper type imports (Astro 2025 best practice)
import type { HTMLAttributes } from "astro/types";
import UniversalPageLayout from "../layouts/UniversalPageLayout.astro";
import GlassPanel from "../layouts/components/GlassPanel.astro";
import CyberpunkButton from "../layouts/components/CyberpunkButton.astro";

// Metadata for SEO and performance (Astro 2025 best practice)
const pageMetadata = {
  title: pageTitle,
  description: pageDescription,
  robots: "index, follow",
  og: {
    title: pageTitle,
    description: pageDescription,
    type: "website"
  }
};
---

<UniversalPageLayout 
  pageTitle={pageTitle}
  pageDescription={pageDescription}
  pageQuote={pageQuote}
  pageAuthor={pageAuthor}
  showRandomQuote={false}
>
    <GlassPanel title="SupaGruen SD CheatSheet" variant="highlight" padding="lg">
        <div style="margin-bottom: 20px;">
            <p style="color: rgba(255,255,255,0.8); font-size: 1.1rem; line-height: 1.6;">
                Profesjonalny generator prompt√≥w AI z bazƒÖ 833+ styl√≥w artystycznych. 
                Tw√≥rz zaawansowane prompty dla Stable Diffusion, DALL-E i innych modeli generacyjnych.
            </p>
        </div>

        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; margin-bottom: 30px;">
            <div style="background: rgba(0,217,255,0.1); padding: 15px; border: 1px solid rgba(0,217,255,0.3); border-radius: 8px;">
                <div style="color: #00d9ff; font-weight: 600; margin-bottom: 5px;">üé® 833+ Style Artystyczne</div>
                <div style="color: rgba(255,255,255,0.7); font-size: 0.9rem;">Od klasycznych mistrz√≥w po wsp√≥≈Çczesnych artyst√≥w</div>
            </div>
            <div style="background: rgba(0,217,255,0.1); padding: 15px; border: 1px solid rgba(0,217,255,0.3); border-radius: 8px;">
                <div style="color: #00d9ff; font-weight: 600; margin-bottom: 5px;">ü§ñ AI-Powered Wildcards</div>
                <div style="color: rgba(255,255,255,0.7); font-size: 0.9rem;">Inteligentne uzupe≈Çnianie prompt√≥w</div>
            </div>
            <div style="background: rgba(0,217,255,0.1); padding: 15px; border: 1px solid rgba(0,217,255,0.3); border-radius: 8px;">
                <div style="color: #00d9ff; font-weight: 600; margin-bottom: 5px;">‚ö° Real-time Preview</div>
                <div style="color: rgba(255,255,255,0.7); font-size: 0.9rem;">PodglƒÖd na ≈ºywo i optymalizacja</div>
            </div>
        </div>

        <!-- React Component Container -->
        <div id="prompt-enhancer-root" style="width: 100%;"></div>

        <div style="margin-top: 30px; text-align: center;">
            <CyberpunkButton text="Powr√≥t do g≈Ç√≥wnej" href="/" variant="outline" size="md" />
        </div>
    </GlassPanel>

    <script>
        import React from 'react';
        import { createRoot } from 'react-dom/client';
        import PromptEnhancerClean from '../components/PromptEnhancerClean.tsx';

        // Initialize the React component
        const container = document.getElementById('prompt-enhancer-root');
        if (container) {
            const root = createRoot(container);
            root.render(React.createElement(PromptEnhancerClean, {
                onEnhance: (enhancedPrompt, options) => {
                    console.log('Prompt enhanced:', enhancedPrompt);
                    console.log('Options used:', options);
                }
            }));
        }
    </script>
</UniversalPageLayout>
