---
import MyBonzoLayout from "../layouts/MyBonzoLayout.astro";
import RandomQuote from "../components/RandomQuote.astro";
import AudioVisualizer from "../components/AudioVisualizer.astro";
import ImageGeneratorWidget from "../components/ImageGeneratorWidget.svelte";
import PolaczekWidget from "../components/PolaczekWidget.svelte";
import MainChatWidget from "../components/MainChatWidget.svelte";
import AiHelpAssistant from "../components/AiHelpAssistant.svelte";
import FAQGeneratorWidget from "../components/FAQGeneratorWidget.svelte";
import EducationRecommendationsWidget from "../components/EducationRecommendationsWidget.svelte";
import TicketSubmissionWidget from "../components/TicketSubmissionWidget.svelte";
import WorkersStatusDashboard from "../components/WorkersStatusDashboard.svelte";
import BackgroundMusicPlayerSimple from "../components/BackgroundMusicPlayerSimple.svelte";
import DecorativeLines from "../components/DecorativeLines.astro";
import FlowiseButton from "../components/FlowiseButton.astro";
import ActivePiecesButton from "../components/ActivePiecesButton.astro";
---

<MyBonzoLayout siteTitle="AI Workers Platform | KAROL LISSON">
  <DecorativeLines />

  <!-- Global vertical lines for workers sections -->
  <div class="absolute left-0 right-0 h-full pointer-events-none">
    <!-- Inner vertical lines -->
    <div class="absolute left-[calc(50vw+400px)] top-0 bottom-0 w-px bg-edge">
    </div>
    <div class="absolute right-[calc(50vw-400px)] top-0 bottom-0 w-px bg-edge">
    </div>
    <!-- Outer vertical lines -->
    <div class="absolute left-[calc(50vw+600px)] top-0 bottom-0 w-px bg-edge">
    </div>
    <div class="absolute right-[calc(50vw-600px)] top-0 bottom-0 w-px bg-edge">
    </div>
  </div>

  <main class="min-h-screen" style="overflow: visible !important;">
    <!-- Top Separator Section -->
    <section class="border border-edge relative">
      <div class="py-1"></div>
    </section>

    <!-- AI Workers Section - Centered -->
    <section
      class="border border-edge ai-workers-section flex items-center justify-center py-16 relative"
      id="ai-workers"
      style="display: block !important; visibility: visible !important; opacity: 1 !important;"
    >
      <!-- Main Content Container -->
      <div class="container mx-auto px-4 relative z-10">
        <div class="text-center mb-12">
          <h2
            class="text-4xl font-bold mb-4 bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent"
          >
            AI Workers Ecosystem
          </h2>
          <p class="text-lg text-muted-foreground max-w-2xl mx-auto">
            Kompleksowa platforma AI z zaawansowanymi funkcjami biznesowymi
          </p>
        </div>

        <!-- Quick Actions Grid -->
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-12">
          <!-- Image Generator -->
          <div
            class="bg-card/50 backdrop-blur-sm border border-edge rounded-lg p-6 hover:bg-card/70 transition-all duration-300"
          >
            <div class="flex items-center gap-3 mb-4">
              <div
                class="w-10 h-10 bg-gradient-to-r from-pink-500 to-orange-500 rounded-lg flex items-center justify-center"
              >
                <span class="text-white font-bold">üé®</span>
              </div>
              <h3 class="text-xl font-semibold">Generator Obraz√≥w</h3>
            </div>
            <p class="text-muted-foreground mb-4">
              Tworzenie obraz√≥w AI z zaawansowanymi promptami
            </p>
            <ImageGeneratorWidget client:load />
          </div>

          <!-- Chat Assistant -->
          <div
            class="bg-card/50 backdrop-blur-sm border border-edge rounded-lg p-6 hover:bg-card/70 transition-all duration-300"
          >
            <div class="flex items-center gap-3 mb-4">
              <div
                class="w-10 h-10 bg-gradient-to-r from-blue-500 to-cyan-500 rounded-lg flex items-center justify-center"
              >
                <span class="text-white font-bold">üí¨</span>
              </div>
              <h3 class="text-xl font-semibold">Chatbot AI</h3>
            </div>
            <p class="text-muted-foreground mb-4">
              Inteligentny asystent z wieloma modelami AI
            </p>
            <MainChatWidget client:load />
          </div>

          <!-- Polaczek Widget -->
          <div
            class="bg-card/50 backdrop-blur-sm border border-edge rounded-lg p-6 hover:bg-card/70 transition-all duration-300"
          >
            <div class="flex items-center gap-3 mb-4">
              <div
                class="w-10 h-10 bg-gradient-to-r from-green-500 to-emerald-500 rounded-lg flex items-center justify-center"
              >
                <span class="text-white font-bold">ü§ñ</span>
              </div>
              <h3 class="text-xl font-semibold">Polaczek AI</h3>
            </div>
            <p class="text-muted-foreground mb-4">
              Specjalistyczny agent AI dla zada≈Ñ biznesowych
            </p>
            <PolaczekWidget client:load />
          </div>
        </div>

        <!-- Business Functions Grid -->
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-12">
          <!-- AI Help Assistant -->
          <div
            class="bg-card/50 backdrop-blur-sm border border-edge rounded-lg p-6 hover:bg-card/70 transition-all duration-300"
          >
            <div class="flex items-center gap-3 mb-4">
              <div
                class="w-10 h-10 bg-gradient-to-r from-purple-500 to-indigo-500 rounded-lg flex items-center justify-center"
              >
                <span class="text-white font-bold">üÜò</span>
              </div>
              <h3 class="text-xl font-semibold">Pomoc AI</h3>
            </div>
            <p class="text-muted-foreground mb-4">
              Asystent pomocy technicznej
            </p>
            <AiHelpAssistant client:load />
          </div>

          <!-- FAQ Generator -->
          <div
            class="bg-card/50 backdrop-blur-sm border border-edge rounded-lg p-6 hover:bg-card/70 transition-all duration-300"
          >
            <div class="flex items-center gap-3 mb-4">
              <div
                class="w-10 h-10 bg-gradient-to-r from-amber-500 to-yellow-500 rounded-lg flex items-center justify-center"
              >
                <span class="text-white font-bold">‚ùì</span>
              </div>
              <h3 class="text-xl font-semibold">Generator FAQ</h3>
            </div>
            <p class="text-muted-foreground mb-4">Automatyczne tworzenie FAQ</p>
            <FAQGeneratorWidget client:load />
          </div>

          <!-- Education Recommendations -->
          <div
            class="bg-card/50 backdrop-blur-sm border border-edge rounded-lg p-6 hover:bg-card/70 transition-all duration-300"
          >
            <div class="flex items-center gap-3 mb-4">
              <div
                class="w-10 h-10 bg-gradient-to-r from-teal-500 to-cyan-500 rounded-lg flex items-center justify-center"
              >
                <span class="text-white font-bold">üéì</span>
              </div>
              <h3 class="text-xl font-semibold">Rekomendacje Edukacyjne</h3>
            </div>
            <p class="text-muted-foreground mb-4">
              Personalizowane ≈õcie≈ºki rozwoju
            </p>
            <EducationRecommendationsWidget client:load />
          </div>
        </div>

        <!-- System Management -->
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-12">
          <!-- Ticket System -->
          <div
            class="bg-card/50 backdrop-blur-sm border border-edge rounded-lg p-6 hover:bg-card/70 transition-all duration-300"
          >
            <div class="flex items-center gap-3 mb-4">
              <div
                class="w-10 h-10 bg-gradient-to-r from-red-500 to-pink-500 rounded-lg flex items-center justify-center"
              >
                <span class="text-white font-bold">üé´</span>
              </div>
              <h3 class="text-xl font-semibold">System Zg≈Çosze≈Ñ</h3>
            </div>
            <p class="text-muted-foreground mb-4">
              ZarzƒÖdzanie ticketami i zg≈Çoszeniami
            </p>
            <TicketSubmissionWidget client:load />
          </div>

          <!-- Workers Status -->
          <div
            class="bg-card/50 backdrop-blur-sm border border-edge rounded-lg p-6 hover:bg-card/70 transition-all duration-300"
          >
            <div class="flex items-center gap-3 mb-4">
              <div
                class="w-10 h-10 bg-gradient-to-r from-indigo-500 to-purple-500 rounded-lg flex items-center justify-center"
              >
                <span class="text-white font-bold">üìä</span>
              </div>
              <h3 class="text-xl font-semibold">Status Workers</h3>
            </div>
            <p class="text-muted-foreground mb-4">
              Monitoring stanu wszystkich serwis√≥w
            </p>
            <WorkersStatusDashboard client:load />
          </div>
        </div>

        <!-- Automation Integration -->
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-12">
          <!-- Flowise AI -->
          <div
            class="bg-card/50 backdrop-blur-sm border border-edge rounded-lg p-6 hover:bg-card/70 transition-all duration-300"
          >
            <div class="flex items-center gap-3 mb-4">
              <div
                class="w-10 h-10 bg-gradient-to-r from-blue-600 to-cyan-600 rounded-lg flex items-center justify-center"
              >
                <span class="text-white font-bold">üåä</span>
              </div>
              <h3 class="text-xl font-semibold">Flowise AI</h3>
            </div>
            <p class="text-muted-foreground mb-4">Zaawansowane workflow AI</p>
            <FlowiseButton client:load />
          </div>

          <!-- ActivePieces -->
          <div
            class="bg-card/50 backdrop-blur-sm border border-edge rounded-lg p-6 hover:bg-card/70 transition-all duration-300"
          >
            <div class="flex items-center gap-3 mb-4">
              <div
                class="w-10 h-10 bg-gradient-to-r from-orange-600 to-red-600 rounded-lg flex items-center justify-center"
              >
                <span class="text-white font-bold">üß©</span>
              </div>
              <h3 class="text-xl font-semibold">ActivePieces</h3>
            </div>
            <p class="text-muted-foreground mb-4">
              Automatyzacja proces√≥w biznesowych
            </p>
            <ActivePiecesButton client:load />
          </div>
        </div>
      </div>
    </section>

    <!-- Background Music Player -->
    <BackgroundMusicPlayerSimple client:load />

    <!-- Quote Section -->
    <section class="border border-edge relative">
      <div class="container mx-auto px-4 py-8">
        <RandomQuote />
      </div>
    </section>
  </main>
</MyBonzoLayout>

<script>
  // Global API test functions
  (window as any).apiTests = (window as any).apiTests || {};
  (window as any).openImageGenerator =
    (window as any).openImageGenerator || function () {};
  (window as any).openChatbot = (window as any).openChatbot || function () {};
  (window as any).openBigQuery = (window as any).openBigQuery || function () {};
  (window as any).openKaggle = (window as any).openKaggle || function () {};
  (window as any).openTavily = (window as any).openTavily || function () {};
  (window as any).testButtonFunction =
    (window as any).testButtonFunction || function () {};
  (window as any).checkDashboardLogin =
    (window as any).checkDashboardLogin || function () {};

  // Initialize when DOM is ready
  document.addEventListener("DOMContentLoaded", function () {
    try {
      console.log("üéØ AI Workers Platform initialized successfully");
    } catch (error: any) {
      console.error("‚ùå Initialization error:", error);
    }
  });
</script>

<style>
  .ai-workers-section {
    min-height: 100vh;
    background: linear-gradient(
      135deg,
      rgba(17, 24, 39, 0.8) 0%,
      rgba(31, 41, 55, 0.6) 50%,
      rgba(17, 24, 39, 0.8) 100%
    );
  }

  .bg-card {
    background: rgba(31, 41, 55, 0.5);
  }

  .border-edge {
    border-color: rgba(75, 85, 99, 0.3);
  }

  .text-muted-foreground {
    color: rgba(156, 163, 175, 0.8);
  }

  /* Animation for hover effects */
  .hover\:bg-card\/70:hover {
    background: rgba(31, 41, 55, 0.7);
    transform: translateY(-2px);
    box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
  }
</style>
